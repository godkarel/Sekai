<?xml version="1.0" encoding="UTF-8"?>

<form formType="sheetTemplate" dataType="com.Sekai" 
     title="Sekai 2" name="frmsekai">	
	<import file="TreinaJutsu1.xml"/>
	<import file="TreinaJutsu2.xml"/>
	<import file="TreinaJutsu3.xml"/>
	<import file="AprendeJutsu.xml"/>
	<import file="TreinaEDC.xml"/>
	<import file="Functions.xml"/>
	<event name="onNodeReady">	
		if sheet.Nome == nil then		
			sheet.Cla = "Sem cl√£";
			sheet.GraduacaoTreino = "Academico";
			sheet.Moradia = "Primaria";
			sheet.Idade = (tonumber(sheet.Idade) or 0);
			sheet.Elemento = (tonumber(sheet.Elemento) or 0);
			sheet.Yen = (tonumber(sheet.Yen) or 0);
			sheet.Forca = (tonumber(sheet.Forca) or 0);
			sheet.Inteligencia = (tonumber(sheet.Inteligencia) or 0);
			sheet.Sabedoria = (tonumber(sheet.Sabedoria) or 0);
			sheet.Habilidade = (tonumber(sheet.Habilidade) or 0);
			sheet.Resistencia = (tonumber(sheet.Resistencia) or 0);
			sheet.TaiTotal = (tonumber(sheet.TaiTotal) or 0);
			sheet.NinTotal = (tonumber(sheet.NinTotal) or 0);
			sheet.GenTotal = (tonumber(sheet.GenTotal) or 0);
			sheet.DanoArmado = (tonumber(sheet.DanoArmado) or 0);
			sheet.Elemental1 = (tonumber(sheet.Elemental1) or 0);
			sheet.HPTotal = (tonumber(sheet.HPTotal) or 0);
			sheet.ChakraTotal = (tonumber(sheet.ChakraTotal) or 0);
			sheet.ReiatsuTotal = (tonumber(sheet.ReiatsuTotal) or 0);
			sheet.OutrosTotal = (tonumber(sheet.OutrosTotal) or 0);
			sheet.DanoJutsu = (tonumber(sheet.DanoJutsu) or 0);
			sheet.DanoJutsu2 = (tonumber(sheet.DanoJutsu2) or 0);
			sheet.EnergiaAtual = (tonumber(sheet.EnergiaAtual) or 0);
			sheet.EnergiaTotal = (tonumber(sheet.EnergiaTotal) or 0);
			sheet.DanoJutsu3 = (tonumber(sheet.DanoJutsu3) or 0);
			sheet.CustoJutsu = (tonumber(sheet.CustoJutsu) or 0);
			sheet.CustoJutsu2 = (tonumber(sheet.CustoJutsu2) or 0);
			sheet.CustoJutsu3 = (tonumber(sheet.CustoJutsu3) or 0);
			sheet.Tipo = (tonumber(sheet.Tipo) or 0);
			sheet.Tipo2 = (tonumber(sheet.Tipo2) or 0);
			sheet.Tipo3 = (tonumber(sheet.Tipo3) or 0);
			sheet.Intensidade = (tonumber(sheet.Intensidade) or 0);
			sheet.Intensidade2 = (tonumber(sheet.Intensidade2) or 0);
			sheet.Intensidade3 = (tonumber(sheet.Intensidade3) or 0);
			sheet.LevelJutsu = (tonumber(sheet.LevelJutsu) or 0);
			sheet.LevelJutsu2 = (tonumber(sheet.LevelJutsu2) or 0);
			sheet.LevelJutsu3 = (tonumber(sheet.LevelJutsu3) or 0);
			sheet.DanoKunai = (tonumber(sheet.DanoKunai) or 0);
			sheet.DanoShuriken = (tonumber(sheet.DanoShuriken) or 0);
			sheet.DanoShurikenFuuma = (tonumber(sheet.DanoShurikenFuuma) or 0);
			sheet.DanoKunaiGigante = (tonumber(sheet.DanoKunaiGigante) or 0);
			sheet.Marionete = (tonumber(sheet.Marionete) or 0);
			sheet.KunaiLimite = (tonumber(sheet.KunaiLimite) or 0);
			sheet.ShurikenLimite = (tonumber(sheet.ShurikenLimite) or 0);
			sheet.SFuumaLimite = (tonumber(sheet.SFuumaLimite) or 0);
			sheet.KGiganteLimite = (tonumber(sheet.KGiganteLimite) or 0);
			sheet.PB = (tonumber(sheet.PB) or 0);
			sheet.GinsoExplosivo = (tonumber(sheet.GinsoExplosivo) or 0);
			sheet.Veneno = (tonumber(sheet.Veneno) or 0);
			sheet.Bandagem = (tonumber(sheet.Bandagem) or 0);
			sheet.BF = (tonumber(sheet.BF) or 0);
			sheet.PBombaLimite = (tonumber(sheet.PBombaLimite) or 0);
			sheet.GExplosivoLimite = (tonumber(sheet.GExplosivoLimite) or 0);
			sheet.VenenoLimite = (tonumber(sheet.VenenoLimite) or 0);
			sheet.BandagemLimite = (tonumber(sheet.BandagemLimite) or 0);
			sheet.BombaFumacaLimite = (tonumber(sheet.BombaFumacaLimite) or 0);
			sheet.DTaijutsu = (tonumber(sheet.DTaijutsu) or 0);
			sheet.DNinjutsu = (tonumber(sheet.DNinjutsu) or 0);
			sheet.DGenjutsu = (tonumber(sheet.DGenjutsu) or 0);
			sheet.DDA = (tonumber(sheet.DDA) or 0);
			sheet.DDE = (tonumber(sheet.DDE) or 0);
			sheet.DHP = (tonumber(sheet.DHP) or 0);
			sheet.DChakra = (tonumber(sheet.DChakra) or 0);
			sheet.DReiatsu = (tonumber(sheet.DReiatsu) or 0);
			sheet.DReducao = (tonumber(sheet.DReducao) or 0);
			sheet.DOutro = (tonumber(sheet.DOutro) or 0);
			sheet.DAcertoTai = (tonumber(sheet.DAcertoTai) or 0);
			sheet.DAcertoNin = (tonumber(sheet.DAcertoNin) or 0);
			sheet.DAcertoGen = (tonumber(sheet.DAcertoGen) or 0);
			sheet.DBloqueio = (tonumber(sheet.DBloqueio) or 0);
			sheet.DEsquiva = (tonumber(sheet.DEsquiva) or 0);
			sheet.DCriticalTai = (tonumber(sheet.DCriticalTai) or 0);
			sheet.DCriticalNin = (tonumber(sheet.DCriticalNin) or 0);
			sheet.DCriticalGen = (tonumber(sheet.DCriticalGen) or 0);
			sheet.DTurnos = (tonumber(sheet.DTurnos) or 0);
			sheet.ChakraBiju = (tonumber(sheet.ChakraBiju) or 0);
			sheet.ChakraBranco = (tonumber(sheet.ChakraBranco) or 0);
			sheet.ChakraPreto = (tonumber(sheet.ChakraPreto) or 0);
			sheet.Hadou = (tonumber(sheet.Hadou) or 0);
			sheet.HadouNegro = (tonumber(sheet.HadouNegro) or 0);
			sheet.ChakraNatural = (tonumber(sheet.ChakraNatural) or 0);
			sheet.ChakraNaturalBonus = (tonumber(sheet.ChakraNaturalBonus) or 0);
			sheet.ChakraRoxo = (tonumber(sheet.ChakraRoxo) or 0);
			sheet.IntensidadeP1 = (tonumber(sheet.IntensidadeP1) or 0);
			sheet.CustoPerga1 = (tonumber(sheet.CustoPerga1) or 0);
			sheet.TipoPergaminho1 = (tonumber(sheet.TipoPergaminho1) or 0);
			sheet.IntensidadeP2 = (tonumber(sheet.IntensidadeP2) or 0);
			sheet.CustoPerga2 = (tonumber(sheet.CustoPerga2) or 0);
			sheet.TipoPergaminho2 = (tonumber(sheet.TipoPergaminho2) or 0);
			sheet.IntensidadeP3 = (tonumber(sheet.IntensidadeP3) or 0);
			sheet.CustoPerga3 = (tonumber(sheet.CustoPerga3) or 0);
			sheet.TipoPergaminho3 = (tonumber(sheet.TipoPergaminho3) or 0);
			sheet.AcertoTaiTotal = (tonumber(sheet.AcertoTaiTotal) or 0);
			sheet.AcertoNinTotal = (tonumber(sheet.AcertoNinTotal) or 0);
			sheet.AcertoGenTotal = (tonumber(sheet.AcertoGenTotal) or 0);
			sheet.EsquivaTotal = (tonumber(sheet.EsquivaTotal) or 0);
			sheet.BloqueioTotal = (tonumber(sheet.BloqueioTotal) or 0);
			sheet.CRTaiTotal = (tonumber(sheet.CRTaiTotal) or 0);
			sheet.CRNinTotal = (tonumber(sheet.CRNinTotal) or 0);
			sheet.CRGenTotal = (tonumber(sheet.CRGenTotal) or 0);
			sheet.TurnoTotal = (tonumber(sheet.TurnoTotal) or 0);
			sheet.DShurikenTotal = (tonumber(sheet.DShurikenTotal) or 0);
			sheet.DKunaiTotal = (tonumber(sheet.DKunaiTotal) or 0);
			sheet.DPBTotal = (tonumber(sheet.DPBTotal) or 0);
			sheet.DEETotal = (tonumber(sheet.DEETotal) or 0);
			sheet.DVenenoTotal = (tonumber(sheet.DVenenoTotal) or 0);
			sheet.DRegeneradorEnergia = tonumber(sheet.DRegeneradorEnergia) or 10;
			sheet.GAcertoTai = (tonumber(sheet.GAcertoTai) or 0);
			sheet.GAcertoNin = (tonumber(sheet.GAcertoNin) or 0);
			sheet.GAcertoGen = (tonumber(sheet.GAcertoGen) or 0);
			sheet.GEsquiva = (tonumber(sheet.GEsquiva) or 0);
			sheet.GBloqueio = (tonumber(sheet.GBloqueio) or 0);
			sheet.GCRTai = (tonumber(sheet.GCRTai) or 0);
			sheet.GCRNin = (tonumber(sheet.GCRNin) or 0);
			sheet.GCRGen = (tonumber(sheet.GCRGen) or 0);
			sheet.GTurno = (tonumber(sheet.GTurno) or 0);
			sheet.CTai = (tonumber(sheet.CTai) or 0);
			sheet.CNin = (tonumber(sheet.CNin) or 0);	
			sheet.CGen = (tonumber(sheet.CGen) or 0);
			sheet.CDA = (tonumber(sheet.CDA) or 0);
			sheet.CDE = (tonumber(sheet.CDE) or 0);
			sheet.CHP = (tonumber(sheet.CHP) or 0);
			sheet.CReducao = (tonumber(sheet.CReducao) or 0);
			sheet.CChakra = (tonumber(sheet.CChakra) or 0);
			sheet.Taijutsu = (tonumber(sheet.Taijutsu) or 0);
			sheet.Ninjutsu = (tonumber(sheet.Ninjutsu) or 0);
			sheet.Genjutsu = (tonumber(sheet.Genjutsu) or 0);
			sheet.DanoArmado = (tonumber(sheet.DanoArmado) or 0);
			sheet.Elemental1 = (tonumber(sheet.Elemental1) or 0);
			sheet.GHP = (tonumber(sheet.GHP) or 0);
			sheet.GChakra = (tonumber(sheet.GChakra) or 0);
			sheet.CAT = (tonumber(sheet.CAT) or 0);
			sheet.CAN = (tonumber(sheet.CAN) or 0);
			sheet.CAG = (tonumber(sheet.CAG) or 0);
			sheet.CEsq = (tonumber(sheet.CEsq) or 0);
			sheet.CBloq = (tonumber(sheet.CBloq) or 0);
			sheet.CCRT = (tonumber(sheet.CCRT) or 0);
			sheet.CCRN = (tonumber(sheet.CCRN) or 0);
			sheet.CCRG = (tonumber(sheet.CCRG) or 0);
			sheet.ExpTotal = 0;
			sheet.Exp = 0;
			sheet.Level = 1;
			sheet.HP = (tonumber(sheet.HP) or 0);
			sheet.Chakra = (tonumber(sheet.Chakra) or 0);
			sheet.Reiatsu = (tonumber(sheet.Reiatsu) or 0);
			sheet.Outros = (tonumber(sheet.Outros) or 0);
			sheet.ArmaDT = (tonumber(sheet.ArmaDT) or 0);
			sheet.ArmaDN = (tonumber(sheet.ArmaDN) or 0);
			sheet.ArmaDG = (tonumber(sheet.ArmaDG) or 0);
			sheet.ArmaDA = (tonumber(sheet.ArmaDA) or 0);
			sheet.ArmaDE = (tonumber(sheet.ArmaDE) or 0);
			sheet.ArmaHP = (tonumber(sheet.ArmaHP) or 0);
			sheet.ArmaChakra = (tonumber(sheet.ArmaChakra) or 0);
			sheet.BandanaHP = (tonumber(sheet.BandanaHP) or 0);
			sheet.BandanaChakra = (tonumber(sheet.BandanaChakra) or 0);
			sheet.BandanaReducao = (tonumber(sheet.BandanaReducao) or 0);
			sheet.ColeteHP = (tonumber(sheet.ColeteHP) or 0);
			sheet.ColeteChakra = (tonumber(sheet.ColeteChakra) or 0);
			sheet.ColeteReducao = (tonumber(sheet.ColeteReducao) or 0);
			sheet.AcessorioDT = (tonumber(sheet.AcessorioDT) or 0);
			sheet.AcessorioDN = (tonumber(sheet.AcessorioDN) or 0);
			sheet.AcessorioDG = (tonumber(sheet.AcessorioDG) or 0);
			sheet.AcessorioDE = (tonumber(sheet.AcessorioDE) or 0);
			sheet.AcessorioReiatsu = (tonumber(sheet.AcessorioReiatsu) or 0);
			sheet.AcessorioHP = (tonumber(sheet.AcessorioHP) or 0);
			sheet.AcessorioChakra = (tonumber(sheet.AcessorioChakra) or 0);
			sheet.AcessorioOutros = (tonumber(sheet.AcessorioOutros) or 0);
			sheet.AcessorioEnergia = (tonumber(sheet.AcessorioEnergia) or 0);
			sheet.SAtletismo = (tonumber(sheet.SAtletismo) or 0);
			sheet.SRaciocinio = (tonumber(sheet.SRaciocinio) or 0);
			sheet.SPercepcao = (tonumber(sheet.SPercepcao) or 0);
			sheet.SFurtividade = (tonumber(sheet.SFurtividade) or 0);
			sheet.SVigor = (tonumber(sheet.SVigor) or 0);			
			sheet.Bonus1d10 = (tonumber(sheet.Bonus1d10) or 0);
			sheet.Bonus1d20 = (tonumber(sheet.Bonus1d20) or 0);
			sheet.Bonus2d10 = (tonumber(sheet.Bonus2d10) or 0);
			sheet.Bonus3d10 = (tonumber(sheet.Bonus3d10) or 0);
			sheet.GanhoAnual = (tonumber(sheet.GanhoAnual) or 0);
			sheet.FormulaFinal = (tonumber(sheet.FormulaFinal) or 0);
			sheet.BonusGanhoAnual = (tonumber(sheet.BonusGanhoAnual) or 0);
			sheet.BonusGanhoAnualGraduacao = (tonumber(sheet.BonusGanhoAnualGraduacao) or 0);
			sheet.MoradiaNpc = (tonumber(sheet.MoradiaNpc) or 0);			
			sheet.RepFolha = (tonumber(sheet.RepFolha) or 0);
			sheet.RepAreia = (tonumber(sheet.RepAreia) or 0);
			sheet.RepNuvem = (tonumber(sheet.RepNuvem) or 0);
			sheet.RepNevoa = (tonumber(sheet.RepNevoa) or 0);
			sheet.RepPedra = (tonumber(sheet.RepPedra) or 0);
			sheet.BingoBook = (tonumber(sheet.BingoBook) or 0);	
			sheet.ReducaoTotal = (tonumber(sheet.ReducaoTotal) or 0);	
			sheet.TReducao = (tonumber(sheet.TReducao) or 0);
			sheet.ArmaReiatsu = (tonumber(sheet.ArmaReiatsu) or 0);			
			sheet.GHP = 100;
			sheet.Nome = "Escolha o Nome";
			sheet.Sequenci1 = true;
			self.btnAprender.visible = true;
			sheet.TipoBag = sheet.TipoBag or "Tipo Bag";
			sheet.CAtletismo = (tonumber(sheet.CAtletismo) or 0); 
			sheet.CPercepcao = (tonumber(sheet.CPercepcao) or 0); 
			sheet.CFurtividade = (tonumber(sheet.CFurtividade) or 0); 
			sheet.CRaciocineo = (tonumber(sheet.CRaciocineo) or 0); 
			sheet.CVigor = (tonumber(sheet.CVigor) or 0); 
			sheet.KunaiQT = (tonumber(sheet.KunaiQT) or 0);
			sheet.ShurikenQT = (tonumber(sheet.ShurikenQT) or 0);
			sheet.SFuumaQT = (tonumber(sheet.SFuumaQT) or 0);
			sheet.KGiganteQT = (tonumber(sheet.KGiganteQT) or 0);
			sheet.SenbonQT = (tonumber(sheet.SenbonQT) or 0);			
			sheet.PBombaQT = (tonumber(sheet.PBombaQT) or 0);
			sheet.GExplosivoQT = (tonumber(sheet.GExplosivoQT) or 0);
			sheet.VenenoQT = (tonumber(sheet.VenenoQT) or 0);
			sheet.BandagemQT = (tonumber(sheet.BandagemQT) or 0);
			sheet.BombaFumacaQT = (tonumber(sheet.BombaFumacaQT) or 0);	
			sheet.KunaiLimite = (tonumber(sheet.KunaiLimite) or 0);	
			sheet.ShurikenLimite = (tonumber(sheet.ShurikenLimite) or 0);	
			sheet.SFuumaLimite = (tonumber(sheet.SFuumaLimite) or 0);	
			sheet.KGiganteLimite = (tonumber(sheet.KGiganteLimite) or 0);	
			sheet.SemboLimite = (tonumber(sheet.SemboLimite) or 0);	
			sheet.PBombaLimite = (tonumber(sheet.PBombaLimite) or 0);	
			sheet.GExplosivoLimite = (tonumber(sheet.GExplosivoLimite) or 0);	
			sheet.VenenoLimite = (tonumber(sheet.VenenoLimite) or 0);	
			sheet.BandagemLimite = (tonumber(sheet.BandagemLimite) or 0);	
			sheet.BombaFumacaLimite = (tonumber(sheet.BombaFumacaLimite) or 0);				
			sheet.Energia = 0;
			sheet.EnergiaTotal = 100;
			self.cmbTipoOutro.value = 1; 
			self.cmbTipoBag.value = 1; 			
			sheet.KutchyoseNome = (tonumber(sheet.KutchyoseNome) or 0);	
			sheet.KutchyoseNumero = (tonumber(sheet.KutchyoseNumero) or 0);	
			sheet.KutchyoseDano = (tonumber(sheet.KutchyoseDano) or 0);	
			sheet.KutchyosePorcentDano = (tonumber(sheet.KutchyosePorcentDano) or 0);	
			sheet.KutchyoseDanoTotal = (tonumber(sheet.KutchyoseDanoTotal) or 0);				
			sheet.KutchyoseHP = (tonumber(sheet.KutchyoseHP) or 0);	
			sheet.KutchyosePorcentHP = (tonumber(sheet.KutchyosePorcentHP) or 0);
			sheet.KutchyoseHPTotal = (tonumber(sheet.KutchyoseHPTotal) or 0);			
			sheet.KutchyoseAtualEnergia = (tonumber(sheet.KutchyoseAtualEnergia) or 0);
			sheet.KutchyoseMaxEnergia = (tonumber(sheet.KutchyoseMaxEnergia) or 0);	
			sheet.TTaijutsu = tonumber(sheet.TTaijutsu) or 0;
			sheet.TNinjutsu = tonumber(sheet.TNinjutsu) or 0;
			sheet.TGenjutsu = tonumber(sheet.TGenjutsu) or 0;
			sheet.TDA = tonumber(sheet.TDA) or 0;
			sheet.TElemental = tonumber(sheet.TElemental) or 0;			
			sheet.THP = tonumber(sheet.THP) or 0;
			sheet.TChakra = tonumber(sheet.TChakra) or 0;
			sheet.TReiatsu = tonumber(sheet.TReiatsu) or 0;
			sheet.TOutros = tonumber(sheet.TOutros) or 0;	
			sheet.TEnergia = tonumber(sheet.TEnergia) or 0;	
			sheet.TReducao = tonumber(sheet.TReducao) or 0;			
			sheet.TATai = tonumber(sheet.TATai) or 0;
			sheet.TANin = tonumber(sheet.TANin) or 0;
			sheet.TAGen = tonumber(sheet.TAGen) or 0;
			sheet.TEsquiva = tonumber(sheet.TEsquiva) or 0;
			sheet.TBloqueio = tonumber(sheet.TBloqueio) or 0;
			sheet.TCTai = tonumber(sheet.TCTai) or 0;
			sheet.TCNin = tonumber(sheet.TCNin) or 0;
			sheet.TCGen = tonumber(sheet.TCGen) or 0;
			sheet.TTurnos = tonumber(sheet.TTurnos) or 0;
			sheet.TITaijutsu = tonumber(sheet.TITaijutsu) or 0;			
			sheet.TINinjutsu = tonumber(sheet.TINinjutsu) or 0;
			sheet.TIGenjutsu = tonumber(sheet.TIGenjutsu) or 0;
			sheet.TIDA = tonumber(sheet.TIDA) or 0;
			sheet.TIElemental = tonumber(sheet.TIElemental) or 0;
			sheet.TIHP = tonumber(sheet.TIHP) or 0;
			sheet.TIChakra = tonumber(sheet.TIChakra) or 0;
			sheet.TIOutros = tonumber(sheet.TIOutros) or 0;
			sheet.TIReducao = tonumber(sheet.TIReducao) or 0;
			sheet.TIATai = tonumber(sheet.TIATai) or 0;
			sheet.TIANin = tonumber(sheet.TIANin) or 0;
			sheet.TIAGen = tonumber(sheet.TIAGen) or 0;
			sheet.TIEsquiva = tonumber(sheet.TIEsquiva) or 0;
			sheet.TIBloqueio = tonumber(sheet.TIBloqueio) or 0;
			sheet.TICTai = tonumber(sheet.TICTai) or 0;
			sheet.TICNin = tonumber(sheet.TICNin) or 0;
			sheet.TICGen = tonumber(sheet.TICGen) or 0;
			sheet.TITurnos = tonumber(sheet.TITurnos) or 0;
			sheet.TISTaijutsu = tonumber(sheet.TISTaijutsu) or 0;
			sheet.TISNinjutsu = tonumber(sheet.TISNinjutsu) or 0;
			sheet.TISGenjutsu = tonumber(sheet.TISGenjutsu) or 0;
			sheet.TISDA = tonumber(sheet.TISDA) or 0;
			sheet.TISElemental = tonumber(sheet.TISElemental) or 0;
			sheet.TISHP = tonumber(sheet.TISHP) or 0;
			sheet.TISChakra = tonumber(sheet.TISChakra) or 0;
			sheet.TISReiatsu = tonumber(sheet.TISReiatsu) or 0;
			sheet.TISOutros = tonumber(sheet.TISOutros) or 0;
			sheet.TISReducao = tonumber(sheet.TISReducao) or 0;
			sheet.TISATai = tonumber(sheet.TISATai) or 0;
			sheet.TISANin = tonumber(sheet.TISANin) or 0;
			sheet.TISAGen = tonumber(sheet.TISAGen) or 0;
			sheet.TISEsquiva = tonumber(sheet.TISEsquiva) or 0;
			sheet.TISBloqueio = tonumber(sheet.TISBloqueio) or 0;
			sheet.TISCTai = tonumber(sheet.TISCTai) or 0;
			sheet.TISCNin = tonumber(sheet.TISCNin) or 0;
			sheet.TISCGen = tonumber(sheet.TISCGen) or 0;
			sheet.TISTurnos = tonumber(sheet.TISTurnos) or 0;			
			sheet.TIHTaijutsu = tonumber(sheet.TIHTaijutsu) or 0;
			sheet.TIHNinjutsu = tonumber(sheet.TIHNinjutsu) or 0;
			sheet.TIHGenjutsu = tonumber(sheet.TIHGenjutsu) or 0;
			sheet.TIHDA = tonumber(sheet.TIHDA) or 0;
			sheet.TIHElemental = tonumber(sheet.TIHElemental) or 0;
			sheet.TIHHP = tonumber(sheet.TIHHP) or 0;
			sheet.TIHChakra = tonumber(sheet.TIHChakra) or 0;
			sheet.TIHReiatsu = tonumber(sheet.TIHReiatsu) or 0;
			sheet.TIHOutros = tonumber(sheet.TIHOutros) or 0;
			sheet.TIHReducao = tonumber(sheet.TIHReducao) or 0;
			sheet.TIHATai = tonumber(sheet.TIHATai) or 0;
			sheet.TIHANin = tonumber(sheet.TIHANin) or 0;
			sheet.TIHAGen = tonumber(sheet.TIHAGen) or 0;
			sheet.TIHEsquiva = tonumber(sheet.TIHEsquiva) or 0;
			sheet.TIHBloqueio = tonumber(sheet.TIHBloqueio) or 0;
			sheet.TIHCTai = tonumber(sheet.TIHCTai) or 0;
			sheet.TIHCNin = tonumber(sheet.TIHCNin) or 0;
			sheet.TIHCGen = tonumber(sheet.TIHCGen) or 0;
			sheet.TIHTurnos = tonumber(sheet.TIHTurnos) or 0;			
			sheet.TransHollowTaijutsu = tonumber(sheet.TransHollowTaijutsu) or 0;
			sheet.TransHollowNinjutsu = tonumber(sheet.TransHollowNinjutsu) or 0;
			sheet.TransHollowGenjutsu = tonumber(sheet.TransHollowGenjutsu) or 0;
			sheet.TransHollowDA = tonumber(sheet.TransHollowDA) or 0;
			sheet.TransHollowElemental = tonumber(sheet.TransHollowElemental) or 0;				
			sheet.TransHollowHP = tonumber(sheet.TransHollowHP) or 0;
			sheet.TransHollowChakra = tonumber(sheet.TransHollowChakra) or 0;
			sheet.TransHollowReiatsu = tonumber(sheet.TransHollowReiatsu) or 0;
			sheet.TransHollowOutros = tonumber(sheet.TransHollowOutros) or 0;
			sheet.TransHollowEnergia = tonumber(sheet.TransHollowEnergia) or 0;
			sheet.TransHollowReducao = tonumber(sheet.TransHollowReducao) or 0;				
			sheet.TransHollowATai = tonumber(sheet.TransHollowATai) or 0;
			sheet.TransHollowANin = tonumber(sheet.TransHollowANin) or 0;
			sheet.TransHollowAGen = tonumber(sheet.TransHollowAGen) or 0;
			sheet.TransHollowEsquiva = tonumber(sheet.TransHollowEsquiva) or 0;
			sheet.TransHollowBloqueio = tonumber(sheet.TransHollowBloqueio) or 0;
			sheet.TransHollowCTai = tonumber(sheet.TransHollowCTai) or 0;
			sheet.TransHollowCNin = tonumber(sheet.TransHollowCNin) or 0;
			sheet.TransHollowCGen = tonumber(sheet.TransHollowCGen) or 0;
			sheet.TransHollowTurnos = tonumber(sheet.TransHollowTurnos) or 0;			
			sheet.TransSenninTaijutsu = tonumber(sheet.TransSenninTaijutsu) or 0;
			sheet.TransSenninNinjutsu = tonumber(sheet.TransSenninNinjutsu) or 0;
			sheet.TransSenninGenjutsu = tonumber(sheet.TransSenninGenjutsu) or 0;
			sheet.TransSenninDA = tonumber(sheet.TransSenninDA) or 0;
			sheet.TransSenninElemental = tonumber(sheet.TransSenninElemental) or 0;				
			sheet.TransSenninHP = tonumber(sheet.TransSenninHP) or 0;
			sheet.TransSenninChakra = tonumber(sheet.TransSenninChakra) or 0;
			sheet.TransSenninReiatsu = tonumber(sheet.TransSenninReiatsu) or 0;
			sheet.TransSenninOutros = tonumber(sheet.TransSenninOutros) or 0;				
			sheet.TransSenninReducao = tonumber(sheet.TransSenninReducao) or 0;				
			sheet.TransSenninATai = tonumber(sheet.TransSenninATai) or 0;
			sheet.TransSenninANin = tonumber(sheet.TransSenninANin) or 0;
			sheet.TransSenninAGen = tonumber(sheet.TransSenninAGen) or 0;
			sheet.TransSenninEsquiva = tonumber(sheet.TransSenninEsquiva) or 0;
			sheet.TransSenninBloqueio = tonumber(sheet.TransSenninBloqueio) or 0;
			sheet.TransSenninCTai = tonumber(sheet.TransSenninCTai) or 0;
			sheet.TransSenninCNin = tonumber(sheet.TransSenninCNin) or 0;
			sheet.TransSenninCGen = tonumber(sheet.TransSenninCGen) or 0;
			sheet.TransSenninTurnos = tonumber(sheet.TransSenninTurnos) or 0;			
			sheet.TransBijuModeTaijutsu = tonumber(sheet.TransBijuModeTaijutsu) or 0;
			sheet.TransBijuModeNinjutsu = tonumber(sheet.TransBijuModeNinjutsu) or 0;
			sheet.TransBijuModeGenjutsu = tonumber(sheet.TransBijuModeGenjutsu) or 0;
			sheet.TransBijuModeDA = tonumber(sheet.TransBijuModeDA) or 0;
			sheet.TransBijuModeElemental = tonumber(sheet.TransBijuModeElemental) or 0;				
			sheet.TransBijuModeHP = tonumber(sheet.TransBijuModeHP) or 0;
			sheet.TransBijuModeChakra = tonumber(sheet.TransBijuModeChakra) or 0;
			sheet.TransBijuModeReiatsu = tonumber(sheet.TransBijuModeReiatsu) or 0;
			sheet.TransBijuModeOutros = tonumber(sheet.TransBijuModeOutros) or 0;				
			sheet.TransBijuModeReducao = tonumber(sheet.TransBijuModeReducao) or 0;				
			sheet.TransBijuModeATai = tonumber(sheet.TransBijuModeATai) or 0;
			sheet.TransBijuModeANin = tonumber(sheet.TransBijuModeANin) or 0;
			sheet.TransBijuModeAGen = tonumber(sheet.TransBijuModeAGen) or 0;
			sheet.TransBijuModeEsquiva = tonumber(sheet.TransBijuModeEsquiva) or 0;
			sheet.TransBijuModeBloqueio = tonumber(sheet.TransBijuModeBloqueio) or 0;
			sheet.TransBijuModeCTai = tonumber(sheet.TransBijuModeCTai) or 0;
			sheet.TransBijuModeCNin = tonumber(sheet.TransBijuModeCNin) or 0;
			sheet.TransBijuModeCGen = tonumber(sheet.TransBijuModeCGen) or 0;
			sheet.TransBijuModeTurnos = tonumber(sheet.TransBijuModeTurnos) or 0;			
			sheet.TransTaijutsu = tonumber(sheet.TransTaijutsu) or 0;
			sheet.TransNinjutsu = tonumber(sheet.TransNinjutsu) or 0;
			sheet.TransGenjutsu = tonumber(sheet.TransGenjutsu) or 0;
			sheet.TransDA = tonumber(sheet.TransDA) or 0;
			sheet.TransElemental = tonumber(sheet.TransElemental) or 0;				
			sheet.TransHP = tonumber(sheet.TransHP) or 0;
			sheet.TransChakra = tonumber(sheet.TransChakra) or 0;
			sheet.TransReiatsu = tonumber(sheet.TransReiatsu) or 0;
			sheet.TransOutros = tonumber(sheet.TransOutros) or 0;	
			sheet.TransEnergia = tonumber(sheet.TransEnergia) or 0;	
			sheet.TransReducao = tonumber(sheet.TransReducao) or 0;				
			sheet.TransATai = tonumber(sheet.TransATai) or 0;
			sheet.TransANin = tonumber(sheet.TransANin) or 0;
			sheet.TransAGen = tonumber(sheet.TransAGen) or 0;
			sheet.TransEsquiva = tonumber(sheet.TransEsquiva) or 0;
			sheet.TransBloqueio = tonumber(sheet.TransBloqueio) or 0;
			sheet.TransCTai = tonumber(sheet.TransCTai) or 0;
			sheet.TransCNin = tonumber(sheet.TransCNin) or 0;
			sheet.TransCGen = tonumber(sheet.TransCGen) or 0;
			sheet.TransTurnos = tonumber(sheet.TransTurnos) or 0;		
			sheet.DEnergia = tonumber(sheet.ArmaNomeDEnergia) or 0;				
			sheet.AcessorioNome = sheet.AcessorioNome or "Acessorio Nome";
			sheet.ColeteNome = sheet.ColeteNome or "Colete Nome";
			sheet.BandanaNome = sheet.BandanaNome or "Bandana Nome";
			sheet.ArmaNome = sheet.ArmaNome or "Arma Nome";
			sheet.AcessorioAcertoTai = tonumber(sheet.AcessorioAcertoTai) or 0;
			sheet.AcessorioAcertoNin = tonumber(sheet.AcessorioAcertoNin) or 0;
			sheet.AcessorioAcertoGen = tonumber(sheet.AcessorioAcertoGen) or 0;
			sheet.BandanaEsquiva = tonumber(sheet.BandanaEsquiva) or 0;
			sheet.BandanaBloqueio = tonumber(sheet.BandanaBloqueio) or 0;
			sheet.BDReiatsu = tonumber(sheet.BDReiatsu) or 0;
			sheet.BDChakraBiju = tonumber(sheet.BDChakraBiju) or 0;
			sheet.BDChakraBranco = tonumber(sheet.BDChakraBranco) or 0;
			sheet.BDChakraPreto = tonumber(sheet.BDChakraPreto) or 0;
			sheet.BDHadou = tonumber(sheet.BDHadou) or 0;
			sheet.BDHadouNegro = tonumber(sheet.BDHadouNegro) or 0;
			sheet.BDChakraNatural = tonumber(sheet.BDChakraNatural) or 0;
			sheet.BDChakraRoxo = tonumber(sheet.BDChakraRoxo) or 0;
			sheet.BDOutro = tonumber(sheet.BDOutro) or 0;			
			sheet.edtNPCHP = tonumber(sheet.edtNPCHP) or 0;
			sheet.edtNPCChacra = tonumber(sheet.edtNPCChacra) or 0;
			sheet.edtNPCOutros = tonumber(sheet.edtNPCOutros) or 0;
			sheet.edtNPCEnergia = tonumber(sheet.edtNPCEnergia) or 0;		
			showMessage("Escolha seu nome, cl√£ e idade");				
		end; 
		
		sheet.Transformado = 0; 
		sheet.GMDesativa = true;	

		if sheet.GMDesativa == false then
			self.edtGM19.visible = false;
			self.edtGM20.visible = false;
			self.edtGM21.visible = false;
			self.edtGM27.visible = false;
			self.edtGM28.visible = false;
			self.edtGM29.visible = false;
			self.edtGM30.visible = false;
			self.edtGM31.visible = false;			
			self.edtGM32.visible = false;
			self.edtGM33.visible = false;
			self.edtGM34.visible = false;
			self.edtGM35.visible = false;
			self.edtGM36.visible = false;
			self.edtGM37.visible = false;
			self.edtGM38.visible = false;			
			self.edtGM39.visible = false;
			self.edtGM41.visible = false;
			self.edtGM42.visible = false;
			self.edtGM43.visible = false;
			self.edtGM45.visible = false;			
			self.edtGM46.visible = false;
			self.edtGM47.visible = false;
			self.edtGM48.visible = false;
			self.edtGM49.visible = false;
		end;
		
		if sheet.GMDesativa == true then
			self.edtGM19.visible = true;
			self.edtGM20.visible = true;
			self.edtGM21.visible = true;
			self.edtGM27.visible = true;
			self.edtGM28.visible = true;
			self.edtGM29.visible = true;
			self.edtGM30.visible = true;
			self.edtGM31.visible = true;			
			self.edtGM32.visible = true;
			self.edtGM33.visible = true;
			self.edtGM34.visible = true;
			self.edtGM35.visible = true;
			self.edtGM36.visible = true;
			self.edtGM37.visible = true;
			self.edtGM38.visible = true;			
			self.edtGM39.visible = true;
			self.edtGM41.visible = true;
			self.edtGM42.visible = true;
			self.edtGM43.visible = true;
			self.edtGM45.visible = true;			
			self.edtGM46.visible = true;
			self.edtGM47.visible = true;
			self.edtGM48.visible = true;
			self.edtGM49.visible = true;
		end;		
	</event> 
	<scrollBox align="client">
=============================================================
=============================================================
=============================================================
=========================ABA 1 STATUS======================== 				
=============================================================
=============================================================
=============================================================
		<tabControl left="10" top="10" width="1050" height="710">
			<tab title="Status">			
	--------------------------------------bot√µes de ataque-----------------------------------------			
			<scrollBox align="client">
				<image left="1" top="1" width="1000" height="700" src="/imagens/1.png"/>
				<button left="40" top="420" text="Ataque Tai" width="100">
				    <event name="onClick">        
						local mesaDoPersonagem = rrpg.getMesaDe(sheet);        
						sheet.AcertoTaiTotal = tonumber(sheet.AcertoTaiTotal or 0);  
						
						if sheet.BatendoCom == nil then
							showMessage("Escolha uma Base para o Ataque Basico");
						else
							mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Tentativa de ataque fisico",
								function (rolado)
									if sheet.AcertoTaiTotal >= rolado.resultado then
										if sheet.BatendoCom == 'Taijutsu' then
											if sheet.CRTaiTotal >= rolado.resultado then
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]CRITOU O ALVO COM TAIJUTSU CAUSANDO [¬ßK4]" .. (sheet.TaiTotal * 2));
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]Acertou o alvo com Taijutsu Causando [¬ßK4]" .. sheet.TaiTotal);
											end;
										end;
										
										if sheet.BatendoCom == 'Armado' then
											if sheet.CRTaiTotal >= rolado.resultado then
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]CRITOU O ALVO COM A ARMA CAUSANDO [¬ßK4]" .. (sheet.DATotal * 2));
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]Acertou o alvo com sua Arma Causando [¬ßK4]" .. sheet.DATotal);
											end;
										end;																					
									else
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]O Oponente esquivou de seu ataque");
									end;
								if self.edtGM21.checked then
									sheet.EnergiaAtual = tonumber(sheet.EnergiaAtual + tonumber(sheet.DRegeneradorEnergia));
									
									if sheet.EnergiaAtual > sheet.EnergiaTotal then
										sheet.EnergiaAtual = sheet.EnergiaTotal;
									end;
								else
									local mesa = Firecast.getMesaDe(sheet); 
									sheet.EnergiaAtual = mesa.meuJogador:getBarValue(4);
									sheet.EnergiaAtual = tonumber(sheet.EnergiaAtual + tonumber(sheet.DRegeneradorEnergia));
									
									if sheet.EnergiaAtual > sheet.EnergiaTotal then
										sheet.EnergiaAtual = sheet.EnergiaTotal;
									end;
									
									mesa.meuJogador:requestSetBarValue(4, sheet.EnergiaAtual, nil);	
								end;
							end); 
						end;		
					</event>
				</button>
				
				<comboBox left="145" top="420" items="{'Taijutsu', 'Armado'}" field="BatendoCom"/>
				
				<button left="250" top="420" text="Esquiva" width="100">
					<event name="onClick">
						local mesaDoPersonagem = rrpg.getMesaDe(sheet);        
						sheet.EsquivaTotal = tonumber(sheet.EsquivaTotal or 0);                        
						mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Tentativa de Esquiva",
							function (rolado)
								if sheet.EsquivaTotal >= rolado.resultado then
									mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]Esquivou do ataque do oponente");
								else
									mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]O Oponente Acertou");
								end;
							if self.edtGM21.checked then
								sheet.EnergiaAtual = tonumber(sheet.EnergiaAtual + tonumber(sheet.DRegeneradorEnergia));
								
								if sheet.EnergiaAtual > sheet.EnergiaTotal then
									sheet.EnergiaAtual = sheet.EnergiaTotal;
								end;
							else
								local mesa = Firecast.getMesaDe(sheet); 
								sheet.EnergiaAtual = mesa.meuJogador:getBarValue(4);
								sheet.EnergiaAtual = tonumber(sheet.EnergiaAtual + tonumber(sheet.DRegeneradorEnergia));
								
								if sheet.EnergiaAtual > sheet.EnergiaTotal then
									sheet.EnergiaAtual = sheet.EnergiaTotal;
								end;
								
								mesa.meuJogador:requestSetBarValue(4, sheet.EnergiaAtual, nil);	
							end;									
						end);  
					</event>
				</button>
=============================================================
=============================================================
=============================================================
=========================POP JUTSU=========================== 				
=============================================================
=============================================================
=============================================================
				<button left="40" top="448" width="100" height="85" opacity="0.1" text="" onClick="self.POPJutsu:show();"/>
				<popup name="POPJutsu" visible="false" left="1" top="40" width="900" height="600">						 
					<scrollBox align="client">		 
						<image top="1" width="870" height="705" src="/imagens/5.png"/> 	   
						<button text="Novo Jutsu"  width="125" height="40" left="70" top="10">
							<event name="onClick">                          
								self.rclListadeJutsus1:append();
							</event>
						</button>
						<recordList name="rclListadeJutsus1" field="Jutsus" templateForm="frmListadeJutsu1"	width="880" height="570" left="10" top="60" selectable="true">                              
							<event name="onSelect">  							
								node = self.rclListadeJutsus1.selectedNode;							
								
								self.ListaJutsus.node = node;                       
								self.ListaJutsus.visible = (node ~= nil);
								
								if self.ListaJutsus.visible == true then
									self.ListaJutsus.node.LevelJutsu1 = self.ListaJutsus.node.LevelJutsu1 or 1;
									self.ListaJutsus.node.DanoJutsu = self.ListaJutsus.node.DanoJutsu or 0;
									self.ListaJutsus.node.TipoLista1Jutsu1 = self.ListaJutsus.node.TipoLista1Jutsu1 or 'Nulo';
									self.ListaJutsus.node.TipoLista1Jutsu2 = self.ListaJutsus.node.TipoLista1Jutsu2 or 'Nulo';
									self.ListaJutsus.node.TipoLista1Jutsu3 = self.ListaJutsus.node.TipoLista1Jutsu3 or 'Nulo';
									self.ListaJutsus.node.CustoJutsu = self.ListaJutsus.node.CustoJutsu or 0;
									self.ListaJutsus.node.DescriJutsu = self.ListaJutsus.node.DescriJutsu or 'COLOQUE UMA DESCRICAO E OS STATUS ESPECIFICOS DA HABILIDADE';
									FazCalculoTipoLista1Intensidade1();
									FazCalculoTipoLista1Intensidade2();
									FazCalculoTipoLista1Intensidade3();
									FazCalculodoCustoReal1();
									FazCalculodoCustoEnergia1();
									FazCalculoTipoListaIntensidadeTotal1();
								end;									
							</event>
						</recordList>       
						<dataScopeBox name="ListaJutsus" visible="false" width="480" height="590" left="400" top="60" >     
							<rectangle  color="black" xradius="10" yradius="10" width="460" height="580" left="1" top="1" >											
								<label  width="120" height="40" left="10" top="10" fontFamily="Nyala" fontSize="20" text="Nome do Jutsu:"/>
								<edit  width="220" height="30" left="130" top="15" field="NomedoJutsu"/>
								<button width="80" height="30" left="360" top="15" fontColor="red" text="DELETAR" onClick="NDB.deleteNode(self.ListaJutsus.node);" />
								<textEditor left="10" top="60" width="430" height="240" field="DescriJutsu"/>
								<label left="10" top="305" width="120" height="40"  fontFamily="Nyala" fontSize="16" text="Dano:"/>
								<edit left="50" top="310" width="80" height="30" type="number" min="0" field="DanoJutsu"/>														
								<label left="135" top="305" width="60" height="40" fontFamily="Nyala" fontSize="16" fontColor="cyan" text="Chacra:"/>
								<edit  left="185" top="310" width="40" height="30" type="number" horzTextAlign="center" fontColor="cyan"  field="CustoJutsu"/>						
								<label left="230" top="305" width="100" height="40" fontFamily="Nyala" fontSize="16" visible="true" fontColor="cyan" text="Custo Real: "/>
								<edit left="300" top="310" width="40" height="30" type="number" enabled="false" visible="true" horzTextAlign="center" fontColor="cyan"  field="CustoJutsuReal"/>	
								<label left="345" top="305" width="100" height="40" fontFamily="Nyala" fontSize="16" visible="true" fontColor="green" text="Energia: "/>
								<edit left="400" top="310" width="40" height="30" type="number"  horzTextAlign="center" visible="true" fontColor="green" min="0" field="CustoEnergia"/>
								<label left="10" top="345" width="60" height="40" fontFamily="Nyala" fontSize="16" text="Tipo 1:"/>
								<comboBox left="50" top="358" width="100" height="18" field="TipoLista1Jutsu1" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label left="160" top="345" width="60" height="40" fontFamily="Nyala" visible="true" fontSize="16" text="Tipo 2:"/>
								<comboBox left="205" top="358" width="100" height="18" field="TipoLista1Jutsu2" visible="true" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label left="310" top="345" width="60" height="40" fontFamily="Nyala" visible="true" fontSize="16" text="Tipo 3:"/>
								<comboBox left="355" top="358" width="100" height="18" field="TipoLista1Jutsu3" visible="true" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label  width="150" height="40" left="10" top="390" fontFamily="Nyala" fontSize="16" text="Dano Verdadeiro"/>
								<edit  width="80" height="20" left="110" top="400" enabled="false" horzTextAlign="center" type="number" field="DNVerdadeiro"/>
								<label  width="170" height="40" left="280" top="390" fontFamily="Nyala" fontColor="Crimson " fontSize="16" text="Intensidade"/>
								<edit name="edtGM28" width="80" height="20" left="350" top="400" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade1"/>
								<edit name="edtGM29" width="80" height="20" left="350" top="420" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade2"/>
								<edit name="edtGM30" width="80" height="20" left="350" top="440" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade3"/>
								<edit  width="80" height="20" left="350" top="400" enabled="false" horzTextAlign="center" type="number" fontColor="red" field="Lista1IntensidadeTotal"/>
								<label  width="70" height="40" left="195" top="390" fontFamily="Nyala" fontSize="16" text="Level"/>
								
								<dataLink fields="{'DanoJutsu', 'LevelJutsu1'}">
									<event name="onChange">										
										if	self.ListaJutsus.visible == true then
											node = self.rclListadeJutsus1.selectedNode;                     

											if (node.DanoJutsu ~= nil) and (node.DanoJutsu > -1) then
												node.DNVerdadeiro = tonumber(node.DanoJutsu)* 2^tonumber(node.LevelJutsu1 - 1); 
											else
												node.LevelJutsu1 = 1;
											end;
										end;	
									</event>
								</dataLink>
														
								<dataLink fields="{'TipoLista1Jutsu1', 'LevelJutsu1', 'DanoJutsu', 'TipoLista1Jutsu2', 'TipoLista1Jutsu3', 'DNVerdadeiro', 'CustoJutsu'}">
									<event name="onChange">										
										FazCalculoTipoLista1Intensidade1();
										FazCalculoTipoLista1Intensidade2();
										FazCalculoTipoLista1Intensidade3();
										FazCalculoTipoListaIntensidadeTotal1();
										FazCalculodoCustoReal1();
										FazCalculodoCustoEnergia1();
										FazCalculoTipoListaIntensidadeTotal1();
									</event>
								</dataLink>
								
								<edit  width="40" height="30" left="390" top="380" visible="false"  horzTextAlign="center" fontColor="cyan"  type="number" field="ChakraPlayer"/>
								<edit name="edtGM1"  width="30" height="20" left="230" top="400" enabled="true" horzTextAlign="center" visible="true" type="number" min="1" field="LevelJutsu1"/> 
								<image left="20" top="420" width="150" height="150" src="/imagens/Jutsu.png"/>
								<button left="20" top="430" fontSize="20" opacity="0.0" height="120" width="150" text="Usar" fontColor="White">
									<event name="onClick"> 								
										<![CDATA[
										node = self.rclListadeJutsus1.selectedNode;								
										local mesaDoPersonagem = rrpg.getMesaDe(sheet);									
										sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal) or 0;	
										
										mesaDoPersonagem.chat:rolarDados("1d100", "[¬ßK3]Tentativa de executar Jutsu",
										function (rolado)											
											if sheet.AcertoNinTotal >= rolado.resultado then
												mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3]".. node.DescriJutsu);
												
												if node.TipoLista1Jutsu1 == 'Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'DanoArmado'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
															mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/DA'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Nulo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Kunai' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Shuriken' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Shuriken Fuuma' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Kunai Gigante' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Senbon' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Papel Bomba' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Ginso Explosivo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Veneno' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Bandagem' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;

												if 	self.edtGM21.checked then
													if sheet.TipoOutro == 'Chakra' then
														sheet.OutrosAtual = (tonumber(sheet.ChakraAtual) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDChakra = sheet.OutrosAtual;
														sheet.ChakraAtual = sheet.OutrosAtual;
													end;
												
													if sheet.TipoOutro == 'Outros' then
														sheet.OutrosAtual = (tonumber(sheet.BDOutro) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDOutro = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'Reiatsu' then
														sheet.OutrosAtual = (tonumber(sheet.BDReiatsu) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDReiatsu = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraBiju' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraBiju) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDChakraBiju = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraBranco' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraBranco) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDChakraBranco = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraPreto' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraPreto) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDChakraPreto = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'Hadou' then
														sheet.OutrosAtual = (tonumber(sheet.BDHadou) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDHadou = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'HadouNegro' then
														sheet.OutrosAtual = (tonumber(sheet.BDHadouNegro) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDHadouNegro = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraNatural' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraNatural) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDChakraNatural = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraRoxo' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraRoxo) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.BDChakraRoxo = (tonumber(sheet.OutrosAtual) or 0);
													end;		
												else
													if self.edtGM21.checked then
														sheet.ChakraAtual = node.ChakraPlayer;
													else
														local mesa = Firecast.getMesaDe(sheet);
														local ChakraPlayer = mesa.meuJogador:getBarValue(2);
														node.ChakraPlayer = mesa.meuJogador:getBarValue(2);
														node.ChakraPlayer = (tonumber(node.ChakraPlayer) or 0) - (tonumber(node.CustoJutsuReal) or 0);
														sheet.ChakraAtual = node.ChakraPlayer;
														mesa.meuJogador:requestSetBarValue(2, node.ChakraPlayer);	
													end;
												end;
												
												if node.CustoEnergia > 0 then
														if self.edtGM21.checked == true then
															local mesa = Firecast.getMesaDe(sheet);
															sheet.EnergiaAtual = (tonumber(sheet.EnergiaAtual) or 0) - (tonumber(node.CustoEnergia) or 0);
														else			
															local mesa = Firecast.getMesaDe(sheet);
															local EnergiaPlayer = mesa.meuJogador:getBarValue(4);
															node.EnergiaPlayer = mesa.meuJogador:getBarValue(4);
															node.EnergiaPlayer = (tonumber(node.EnergiaPlayer) or 0) - (tonumber(node.CustoEnergia) or 0);
															sheet.EnergiaAtual = node.EnergiaPlayer;
															mesa.meuJogador:requestSetBarValue(4, node.EnergiaPlayer);
														end;
													end;
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]TURURU, O Naruto pode ser duro as vezes [¬ßI https://i0.wp.com/www.fatosdesconhecidos.com.br/wp-content/uploads/2018/11/Naruto_after_Jiraiyas_death.png?resize=600,450]");
											end;
										end);	
										]]>
									</event>
								</button>
								<label left="200" top="425" width="100" height="30" fontFamily="Nyala" fontSize="18" text="Rank do Jutsu"/>
								<comboBox name="cmbRakporTreino" left="300" top="425" width="50" height="30" fontFamily="Nyala" fontSize="18" field="RankPorTreino" items="{'E', 'D', 'C', 'B', 'A', 'S', 'SS', 'X','X+'}"/>
								<label left="180" top="460" width="230" height="40" fontFamily="Nyala" fontSize="18" text="Fortifica√ß√£o de jutsu 3D10 e 1d20"/> 
								<edit  left="180" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa1d10"/>
								<edit  left="240" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa2d10"/>
								<edit  left="300" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa3d10"/>
								<rectangle left="360" top="500" width="50" height="30" color="black" strokeColor="red" strokeSize="3" />						
								<edit left="360" top="500" width="50" height="30" type="number" min="1" max="18" enabled="false" visible="true" transparent="true" horzTextAlign="center" field="Upa1d20"/>											
								<edit name="edtGM2" left="180" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade1d10DoJutsu1"/>
								<edit name="edtGM3" left="240" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade2d10DoJutsu1"/>
								<edit name="edtGM4" left="300" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade3d10DoJutsu1"/>
								<rectangle name="edtGM5" left="360" top="530" width="50" height="30" color="black" strokeColor="red" visible="false" strokeSize="3" />						
								<edit name="edtGM6" left="360" top="530" width="50" height="30" type="number" min="1" max="18" enabled="true" visible="false" transparent="true" horzTextAlign="center" field="Dificuldade1d20DoJutsu1"/>	
								
								<dataLink fields="{'LevelJutsu1', 'GraduacaoTreino', 'RankPorTreino', 'Dificuldade1d10DoJutsu1', 'Dificuldade2d10DoJutsu1', 'Dificuldade3d10DoJutsu1', 'Dificuldade1d20DoJutsu1', 
								'Dificuldade1d10DoJutsu1Estudo', 'Dificuldade2d10DoJutsu1Estudo', 'Dificuldade3d10DoJutsu1Estudo', 'Dificuldade1d20DoJutsu1Estudo'}">
									<event name="onChange"> 										
										PreparaDifuculdadeTreinoRankE();
										PreparaDifuculdadeTreinoRankD();
										PreparaDifuculdadeTreinoRankC();
										PreparaDifuculdadeTreinoRankB();
										PreparaDifuculdadeTreinoRankA();
										PreparaDifuculdadeTreinoRankS();
										PreparaDifuculdadeTreinoRankSS();
										PreparaDifuculdadeTreinoRankX();
										PreparaDifuculdadeTreinoRankXPLUS();										
										MonstraProPlayerADificuldadeTreino();					
									</event>
								</dataLink>
												
								<button name="btnUparJutsu1" left="180" top="540" width="230" height="30" fontFamily="Nyala" fontSize="18" text="Treinar" onClick="TreinarLevelJutsu()"/>					
							</rectangle>
						</dataScopeBox>
					</scrollBox>
				</popup> 		
=============================================================
=============================================================
=============================================================
======================POP FAVORITO=========================== 				
=============================================================
=============================================================
=============================================================		
				<button left="145" top="448" width="100" height="85" opacity="0.1" text="" onClick="self.POPFavorito:show();"/>				
				<popup name="POPFavorito" visible="false" left="1" top="40"
					 width="900" height="600">						 
					<scrollBox align="client">		 
						<image top="1" width="870" height="705" src="/imagens/5.png"/> 
						<!-- Bot√£o de inserir novo item √† lista -->			   
						<button text="Novo Favorito"  width="125" height="40" left="70" top="10">
							<event name="onClick">                           
								self.rclListadeJutsus2:append();
							</event>
						</button>
						<!-- recordList, representando a lista -->
						<recordList name="rclListadeJutsus2" field="Jutsus2" templateForm="frmListadeJutsu2"
									width="880" height="570" left="10" top="60" selectable="true">                              
							<event name="onSelect">                    
								node = self.rclListadeJutsus2.selectedNode; 
								self.ListaJutsus2.node = node;                       
								self.ListaJutsus2.visible = (node ~= nil);
								
								if self.ListaJutsus2.node == nil then 
									self.ListaJutsus2.node = node;  
								end;
								
								if	self.ListaJutsus2.visible == true then
									self.ListaJutsus2.node.LevelJutsu1 = self.ListaJutsus2.node.LevelJutsu1 or 1;
									self.ListaJutsus2.node.DanoJutsu = self.ListaJutsus2.node.DanoJutsu or 0;
									self.ListaJutsus2.node.TipoLista1Jutsu1 = self.ListaJutsus2.node.TipoLista1Jutsu1 or 'Nulo';
									self.ListaJutsus2.node.TipoLista1Jutsu2 = self.ListaJutsus2.node.TipoLista1Jutsu2 or 'Nulo';
									self.ListaJutsus2.node.TipoLista1Jutsu3 = self.ListaJutsus2.node.TipoLista1Jutsu3 or 'Nulo';
									self.ListaJutsus2.node.CustoJutsu = self.ListaJutsus2.node.CustoJutsu or 0;
									self.ListaJutsus2.node.DescriJutsu = self.ListaJutsus2.node.DescriJutsu or 'COLOQUE UMA DESCRICAO E OS STATUS ESPECIFICOS DA HABILIDADE';
									FazCalculoTipoLista2Intensidade1();
									FazCalculoTipoLista2Intensidade2();
									FazCalculoTipoLista2Intensidade3();
									FazCalculodoCustoReal3();
									FazCalculodoCustoEnergia3();
									FazCalculoTipoListaIntensidadeTotal3();
								end;		
							</event>
						</recordList>       
						<dataScopeBox name="ListaJutsus2" visible="false" width="480" height="590" left="400" top="60" >    
							<rectangle  color="black" xradius="10" yradius="10" width="460" height="580" left="1" top="1" >											
								<label  width="120" height="40" left="10" top="10" fontFamily="Nyala" fontSize="20" text="Nome do Jutsu:"/>
								<edit  width="220" height="30" left="130" top="15" field="NomedoJutsu2"/>
								<button width="80" height="30" left="360" top="15" fontColor="red" text="DELETAR" onClick="NDB.deleteNode(self.ListaJutsus2.node);" />
								<textEditor left="10" top="60" width="430" height="240" field="DescriJutsu"/>
								<label left="10" top="305" width="120" height="40"  fontFamily="Nyala" fontSize="16" text="Dano:"/>
								<edit left="50" top="310" width="80" height="30" type="number" min="0" field="DanoJutsu"/>														
								<label left="135" top="305" width="60" height="40" fontFamily="Nyala" fontSize="16" fontColor="cyan" text="Chacra:"/>
								<edit  left="185" top="310" width="40" height="30" type="number" horzTextAlign="center" fontColor="cyan"  field="CustoJutsu"/>						
								<label left="230" top="305" width="100" height="40" fontFamily="Nyala" fontSize="16" visible="true" fontColor="cyan" text="Custo Real: "/>
								<edit left="300" top="310" width="40" height="30" type="number" enabled="false" visible="true" horzTextAlign="center" fontColor="cyan"  field="CustoJutsuReal"/>	
								<label left="345" top="305" width="100" height="40" fontFamily="Nyala" fontSize="16" visible="true" fontColor="green" text="Energia: "/>
								<edit left="400" top="310" width="40" height="30" type="number"  horzTextAlign="center" visible="true" fontColor="green" min="0" field="CustoEnergia"/>
								<label left="10" top="345" width="60" height="40" fontFamily="Nyala" fontSize="16" text="Tipo 1:"/>
								<comboBox left="50" top="358" width="100" height="18" field="TipoLista1Jutsu1" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label left="160" top="345" width="60" height="40" fontFamily="Nyala" visible="true" fontSize="16" text="Tipo 2:"/>
								<comboBox left="205" top="358" width="100" height="18" field="TipoLista1Jutsu2" visible="true" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label left="310" top="345" width="60" height="40" fontFamily="Nyala" visible="true" fontSize="16" text="Tipo 3:"/>
								<comboBox left="355" top="358" width="100" height="18" field="TipoLista1Jutsu3" visible="true" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>					
								<label  width="150" height="40" left="10" top="390" fontFamily="Nyala" fontSize="16" text="Dano Verdadeiro"/>
								<edit  width="80" height="20" left="110" top="400" enabled="false" horzTextAlign="center" type="number" field="DNVerdadeiro"/>
								<label  width="170" height="40" left="280" top="390" fontFamily="Nyala" fontColor="Crimson " fontSize="16" text="Intensidade"/>
								<edit name="edtGM32" width="80" height="20" left="350" top="400" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade1"/>
								<edit name="edtGM33" width="80" height="20" left="350" top="420" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade2"/>
								<edit name="edtGM34" width="80" height="20" left="350" top="440" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade3"/>
								<edit  width="80" height="20" left="350" top="400" enabled="false" horzTextAlign="center" type="number" fontColor="red" field="Lista1IntensidadeTotal"/>
								<label  width="70" height="40" left="195" top="390" fontFamily="Nyala" fontSize="16" text="Level"/>

								<dataLink fields="{'DanoJutsu', 'LevelJutsu1'}">
									<event name="onChange">
										if	self.ListaJutsus2.visible == true then
											node = self.ListaJutsus2.node;	                     

											if (node.DanoJutsu ~= nil) and (node.DanoJutsu > -1) then
												node.DNVerdadeiro = tonumber(node.DanoJutsu)* 2^tonumber(node.LevelJutsu1 - 1); 
											else
												node.LevelJutsu1 = 1;
											end;
										end;	
									</event>
								</dataLink>
														
								<dataLink fields="{'TipoLista1Jutsu1', 'LevelJutsu1', 'DanoJutsu', 'TipoLista1Jutsu2', 'TipoLista1Jutsu3', 'DNVerdadeiro', 'CustoJutsu'}">
									<event name="onChange">
										FazCalculoTipoLista2Intensidade1();
										FazCalculoTipoLista2Intensidade2();
										FazCalculoTipoLista2Intensidade3();
										FazCalculodoCustoReal2();
										FazCalculodoCustoEnergia2();
										FazCalculoTipoListaIntensidadeTotal2();
									</event>
								</dataLink>
								
								<edit  width="40" height="30" left="390" top="380" visible="false"  horzTextAlign="center" fontColor="cyan"  type="number" field="ChakraPlayer"/>
								<edit name="edtGM40"  width="30" height="20" left="230" top="400" enabled="true" horzTextAlign="center" visible="true" type="number" min="1" field="LevelJutsu1"/>
								<image left="20" top="420" width="150" height="150" src="/imagens/Jutsu.png"/>
								<button left="20" top="430" fontSize="20" opacity="0.0" height="120" width="150" text="Usar" fontColor="White">
									<event name="onClick"> 								
										<![CDATA[
										node = self.ListaJutsus2.node;									
										local mesaDoPersonagem = rrpg.getMesaDe(sheet);											
										sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal) or 0;	
										
										mesaDoPersonagem.chat:rolarDados("1d100", "[¬ßK3]Tentativa de executar Jutsu",
										function (rolado)	
											if sheet.AcertoNinTotal >= rolado.resultado then
												mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3]".. node.DescriJutsu);
												
												if node.TipoLista1Jutsu1 == 'Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'DanoArmado'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
															mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/DA'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Nulo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Kunai' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Shuriken' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Shuriken Fuuma' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Kunai Gigante' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Senbon' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Papel Bomba' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Ginso Explosivo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Veneno' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Bandagem' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												local mesa = Firecast.getMesaDe(sheet);
												local ChakraPlayer = mesa.meuJogador:getBarValue(2);
												node.ChakraPlayer = mesa.meuJogador:getBarValue(2);
												node.ChakraPlayer = (tonumber(node.ChakraPlayer) or 0) - (tonumber(node.CustoJutsuReal) or 0);
												mesa.meuJogador:requestSetBarValue(2, node.ChakraPlayer);
												
												if node.CustoEnergia > 0 then
													local EnergiaPlayer = mesa.meuJogador:getBarValue(4);
													node.EnergiaPlayer = mesa.meuJogador:getBarValue(4);
													node.EnergiaPlayer = (tonumber(node.EnergiaPlayer) or 0) - (tonumber(node.CustoEnergia) or 0);
													mesa.meuJogador:requestSetBarValue(4, node.EnergiaPlayer);
												end;
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]TURURU, O Naruto pode ser duro as vezes [¬ßI https://i0.wp.com/www.fatosdesconhecidos.com.br/wp-content/uploads/2018/11/Naruto_after_Jiraiyas_death.png?resize=600,450]");
											end;
										end);	
										]]>
									</event>
								</button>
								<label left="200" top="425" width="100" height="30" fontFamily="Nyala" fontSize="18" text="Rank do Jutsu"/>
								<comboBox name="cmbRakporTreino2" left="300" top="425" width="50" height="30" fontFamily="Nyala" fontSize="18" field="RankPorTreino" items="{'E', 'D', 'C', 'B', 'A', 'S', 'SS', 'X','X+'}"/>
								<label left="180" top="460" width="230" height="40" fontFamily="Nyala" fontSize="18" text="Fortifica√ß√£o de jutsu 3D10 e 1d20"/> 
								<edit  left="180" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa1d10"/>
								<edit  left="240" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa2d10"/>
								<edit  left="300" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa3d10"/>
								<rectangle left="360" top="500" width="50" height="30" color="black" strokeColor="red" strokeSize="3" />						
								<edit left="360" top="500" width="50" height="30" type="number" min="1" max="18" enabled="false" visible="true" transparent="true" horzTextAlign="center" field="Upa1d20"/>											
								<edit name="edtGM35" left="180" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade1d10DoJutsu1"/>
								<edit name="edtGM36" left="240" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade2d10DoJutsu1"/>
								<edit name="edtGM37" left="300" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade3d10DoJutsu1"/>
								<rectangle name="edtGM38" left="360" top="530" width="50" height="30" color="black" strokeColor="red" visible="false" strokeSize="3" />						
								<edit name="edtGM39" left="360" top="530" width="50" height="30" type="number" min="1" max="18" enabled="true" visible="false" transparent="true" horzTextAlign="center" field="Dificuldade1d20DoJutsu1"/>	
						
								<dataLink fields="{'LevelJutsu1', 'GraduacaoTreino', 'RankPorTreino', 'Dificuldade1d10DoJutsu1', 'Dificuldade2d10DoJutsu1', 'Dificuldade3d10DoJutsu1', 'Dificuldade1d20DoJutsu1', 
								'Dificuldade1d10DoJutsu1Estudo', 'Dificuldade2d10DoJutsu1Estudo', 'Dificuldade3d10DoJutsu1Estudo', 'Dificuldade1d20DoJutsu1Estudo'}">
									<event name="onChange"> 
										PreparaDifuculdadeTreinoRankE2();
										PreparaDifuculdadeTreinoRankD2();
										PreparaDifuculdadeTreinoRankC2();
										PreparaDifuculdadeTreinoRankB2();
										PreparaDifuculdadeTreinoRankA2();
										PreparaDifuculdadeTreinoRankS2();
										PreparaDifuculdadeTreinoRankSS2();
										PreparaDifuculdadeTreinoRankX2();
										PreparaDifuculdadeTreinoRankXPLUS2();										
										MonstraProPlayerADificuldadeTreino2();					
									</event>
								</dataLink>
												
								<button name="btnUparJutsu2" left="180" top="540" width="230" height="30" fontFamily="Nyala" fontSize="18" text="Treinar" onClick="TreinarLevelJutsu2()"/>	
							</rectangle>
						</dataScopeBox>
					</scrollBox>			
				</popup> 
=============================================================
=============================================================
=============================================================
======================POP KEKEGENKAI========================= 				
=============================================================
=============================================================
============================================================= 
				<button left="250" top="448" width="100" height="85" opacity="0.1" text="" onClick="self.POPKekegenkai:show();"/>				
				<popup name="POPKekegenkai" visible="false" left="1" top="40"
					 width="900" height="600">						 
					<scrollBox align="client">		 
						<image top="1" width="870" height="705" src="/imagens/5.png"/> 
						<!-- Bot√£o de inserir novo item √† lista -->			   
						<button text="Novo Kekegenkai"  width="125" height="40" left="70" top="10">
							<event name="onClick">                           
								self.rclListadeJutsus3:append();
							</event>
						</button>
						<!-- recordList, representando a lista -->
						<recordList name="rclListadeJutsus3" field="Jutsus3" templateForm="frmListadeJutsu3"
									width="880" height="570" left="10" top="60" selectable="true">                              
							<event name="onSelect">                    
								node = self.rclListadeJutsus3.selectedNode; 
								self.ListaJutsus3.node = node;                       
								self.ListaJutsus3.visible = (node ~= nil);
								
								if self.ListaJutsus3.node == nil then 
									self.ListaJutsus3.node = node;  
								end;
								
								if	self.ListaJutsus3.visible == true then
									self.ListaJutsus3.node.LevelJutsu1 = self.ListaJutsus3.node.LevelJutsu1 or 1;
									self.ListaJutsus3.node.DanoJutsu = self.ListaJutsus3.node.DanoJutsu or 0;
									self.ListaJutsus3.node.TipoLista1Jutsu1 = self.ListaJutsus3.node.TipoLista1Jutsu1 or 'Nulo';
									self.ListaJutsus3.node.TipoLista1Jutsu2 = self.ListaJutsus3.node.TipoLista1Jutsu2 or 'Nulo';
									self.ListaJutsus3.node.TipoLista1Jutsu3 = self.ListaJutsus3.node.TipoLista1Jutsu3 or 'Nulo';
									self.ListaJutsus3.node.CustoJutsu = self.ListaJutsus3.node.CustoJutsu or 0;
									self.ListaJutsus3.node.DescriJutsu = self.ListaJutsus3.node.DescriJutsu or 'COLOQUE UMA DESCRICAO E OS STATUS ESPECIFICOS DA HABILIDADE';
									FazCalculoTipoLista3Intensidade1();
									FazCalculoTipoLista3Intensidade2();
									FazCalculoTipoLista3Intensidade3();
									FazCalculodoCustoReal3();
									FazCalculodoCustoEnergia3();
									FazCalculoTipoListaIntensidadeTotal3();
								end;	
							</event>
						</recordList>       
						<dataScopeBox name="ListaJutsus3" visible="false" width="480" height="590" left="400" top="60" >    
							<rectangle  color="black" xradius="10" yradius="10" width="460" height="580" left="1" top="1" >											
								<label  width="120" height="40" left="10" top="10" fontFamily="Nyala" fontSize="20" text="Nome do Jutsu:"/>
								<edit  width="220" height="30" left="130" top="15" field="NomedoJutsu3"/>
								<button width="80" height="30" left="360" top="15" fontColor="red" text="DELETAR" onClick="NDB.deleteNode(self.ListaJutsus3.node);" />
								<textEditor left="10" top="60" width="430" height="240" field="DescriJutsu"/>
								<label left="10" top="305" width="120" height="40"  fontFamily="Nyala" fontSize="16" text="Dano:"/>
								<edit left="50" top="310" width="80" height="30" type="number" min="0" field="DanoJutsu"/>														
								<label left="135" top="305" width="60" height="40" fontFamily="Nyala" fontSize="16" fontColor="cyan" text="Chacra:"/>
								<edit  left="185" top="310" width="40" height="30" type="number" horzTextAlign="center" fontColor="cyan"  field="CustoJutsu"/>						
								<label left="230" top="305" width="100" height="40" fontFamily="Nyala" fontSize="16" visible="true" fontColor="cyan" text="Custo Real: "/>
								<edit left="300" top="310" width="40" height="30" type="number" enabled="false" visible="true" horzTextAlign="center" fontColor="cyan"  field="CustoJutsuReal"/>	
								<label left="345" top="305" width="100" height="40" fontFamily="Nyala" fontSize="16" visible="true" fontColor="green" text="Energia: "/>
								<edit left="400" top="310" width="40" height="30" type="number"  horzTextAlign="center" visible="true" fontColor="green" min="0" field="CustoEnergia"/>
								<label left="10" top="345" width="60" height="40" fontFamily="Nyala" fontSize="16" text="Tipo 1:"/>
								<comboBox left="50" top="358" width="100" height="18" field="TipoLista1Jutsu1" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label left="160" top="345" width="60" height="40" fontFamily="Nyala" visible="true" fontSize="16" text="Tipo 2:"/>
								<comboBox left="205" top="358" width="100" height="18" field="TipoLista1Jutsu2" visible="true" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label left="310" top="345" width="60" height="40" fontFamily="Nyala" visible="true" fontSize="16" text="Tipo 3:"/>
								<comboBox left="355" top="358" width="100" height="18" field="TipoLista1Jutsu3" visible="true" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>					
								<label  width="150" height="40" left="10" top="390" fontFamily="Nyala" fontSize="16" text="Dano Verdadeiro"/>
								<edit  width="80" height="20" left="110" top="400" enabled="false" horzTextAlign="center" type="number" field="DNVerdadeiro"/>
								<label  width="170" height="40" left="280" top="390" fontFamily="Nyala" fontColor="Crimson " fontSize="16" text="Intensidade"/>
								<edit name="edtGM41" width="80" height="20" left="350" top="400" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade1"/>
								<edit name="edtGM42" width="80" height="20" left="350" top="420" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade2"/>
								<edit name="edtGM43" width="80" height="20" left="350" top="440" enabled="false" horzTextAlign="center" visible="false" type="number" fontColor="Crimson" field="Lista1Intensidade3"/>
								<edit  width="80" height="20" left="350" top="400" enabled="false" horzTextAlign="center" type="number" fontColor="red" field="Lista1IntensidadeTotal"/>
								<label  width="70" height="40" left="195" top="390" fontFamily="Nyala" fontSize="16" text="Level"/>

								<dataLink fields="{'DanoJutsu', 'LevelJutsu1'}">
									<event name="onChange">
										if	self.ListaJutsus3.visible == true then
											node = self.ListaJutsus3.node;	                     

											if (node.DanoJutsu ~= nil) and (node.DanoJutsu > -1) then
												node.DNVerdadeiro = tonumber(node.DanoJutsu)* 2^tonumber(node.LevelJutsu1 - 1); 
											else
												node.LevelJutsu1 = 1;
											end;
										end;	
									</event>
								</dataLink>
														
								<dataLink fields="{'TipoLista1Jutsu1', 'LevelJutsu1', 'DanoJutsu', 'TipoLista1Jutsu2', 'TipoLista1Jutsu3', 'DNVerdadeiro', 'CustoJutsu'}">
									<event name="onChange">
										FazCalculoTipoLista3Intensidade1();
										FazCalculoTipoLista3Intensidade2();
										FazCalculoTipoLista3Intensidade3();
										FazCalculodoCustoReal3();
										FazCalculodoCustoEnergia3();
										FazCalculoTipoListaIntensidadeTotal3();
									</event>
								</dataLink>
								
								<edit  width="40" height="30" left="390" top="380" visible="false"  horzTextAlign="center" fontColor="cyan"  type="number" field="ChakraPlayer"/>
								<edit name="edtGM44"  width="30" height="20" left="230" top="400" enabled="true" horzTextAlign="center" visible="true" type="number" min="1" field="LevelJutsu1"/>
								<image left="20" top="420" width="150" height="150" src="/imagens/Jutsu.png"/>
								<button left="20" top="430" fontSize="20" opacity="0.0" height="120" width="150" text="Usar" fontColor="White">
									<event name="onClick"> 								
										<![CDATA[
										node = self.ListaJutsus3.node;									
										local mesaDoPersonagem = rrpg.getMesaDe(sheet);											
										sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal) or 0;	
										
										mesaDoPersonagem.chat:rolarDados("1d100", "[¬ßK3]Tentativa de executar Jutsu",
										function (rolado)	
											if sheet.AcertoNinTotal >= rolado.resultado then
												mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3]".. node.DescriJutsu);
												
												if node.TipoLista1Jutsu1 == 'Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'DanoArmado'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
															mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'M/DA'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Nulo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Kunai' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Shuriken' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Shuriken Fuuma' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Kunai Gigante' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Senbon' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Papel Bomba' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Ginso Explosivo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Veneno' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.TipoLista1Jutsu1 == 'Bandagem' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.Lista1IntensidadeTotal * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.Lista1IntensidadeTotal .. "[¬ßK3] ¬ª");
													end;
												end;
												
												local mesa = Firecast.getMesaDe(sheet);
												local ChakraPlayer = mesa.meuJogador:getBarValue(2);
												node.ChakraPlayer = mesa.meuJogador:getBarValue(2);
												node.ChakraPlayer = (tonumber(node.ChakraPlayer) or 0) - (tonumber(node.CustoJutsuReal) or 0);
												mesa.meuJogador:requestSetBarValue(2, node.ChakraPlayer);
												
												if node.CustoEnergia > 0 then
													local EnergiaPlayer = mesa.meuJogador:getBarValue(4);
													node.EnergiaPlayer = mesa.meuJogador:getBarValue(4);
													node.EnergiaPlayer = (tonumber(node.EnergiaPlayer) or 0) - (tonumber(node.CustoEnergia) or 0);
													mesa.meuJogador:requestSetBarValue(4, node.EnergiaPlayer);
												end;
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]TURURU, O Naruto pode ser duro as vezes [¬ßI https://i0.wp.com/www.fatosdesconhecidos.com.br/wp-content/uploads/2018/11/Naruto_after_Jiraiyas_death.png?resize=600,450]");
											end;
										end);	
										]]>
									</event>
								</button>
								<label left="200" top="425" width="100" height="30" fontFamily="Nyala" fontSize="18" text="Rank do Jutsu"/>
								<comboBox name="cmbRakporTreino3" left="300" top="425" width="50" height="30" fontFamily="Nyala" fontSize="18" field="RankPorTreino" items="{'E', 'D', 'C', 'B', 'A', 'S', 'SS', 'X','X+'}"/>
								<label left="180" top="460" width="230" height="40" fontFamily="Nyala" fontSize="18" text="Fortifica√ß√£o de jutsu 3D10 e 1d20"/> 
								<edit  left="180" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa1d10"/>
								<edit  left="240" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa2d10"/>
								<edit  left="300" top="500" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa3d10"/>
								<rectangle left="360" top="500" width="50" height="30" color="black" strokeColor="red" strokeSize="3" />						
								<edit left="360" top="500" width="50" height="30" type="number" min="1" max="18" enabled="false" visible="true" transparent="true" horzTextAlign="center" field="Upa1d20"/>											
								<edit name="edtGM45" left="180" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade1d10DoJutsu1"/>
								<edit name="edtGM46" left="240" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade2d10DoJutsu1"/>
								<edit name="edtGM47" left="300" top="530" width="50" height="30" type="number" min="1" max="9" enabled="true" visible="false" horzTextAlign="center" field="Dificuldade3d10DoJutsu1"/>
								<rectangle name="edtGM48" left="360" top="530" width="50" height="30" color="black" strokeColor="red" visible="false" strokeSize="3" />						
								<edit name="edtGM49" left="360" top="530" width="50" height="30" type="number" min="1" max="18" enabled="true" visible="false" transparent="true" horzTextAlign="center" field="Dificuldade1d20DoJutsu1"/>	
						
								<dataLink fields="{'LevelJutsu1', 'GraduacaoTreino', 'RankPorTreino', 'Dificuldade1d10DoJutsu1', 'Dificuldade2d10DoJutsu1', 'Dificuldade3d10DoJutsu1', 'Dificuldade1d20DoJutsu1', 
								'Dificuldade1d10DoJutsu1Estudo', 'Dificuldade2d10DoJutsu1Estudo', 'Dificuldade3d10DoJutsu1Estudo', 'Dificuldade1d20DoJutsu1Estudo'}">
									<event name="onChange"> 
										PreparaDifuculdadeTreinoRankE3();
										PreparaDifuculdadeTreinoRankD3();
										PreparaDifuculdadeTreinoRankC3();
										PreparaDifuculdadeTreinoRankB3();
										PreparaDifuculdadeTreinoRankA3();
										PreparaDifuculdadeTreinoRankS3();
										PreparaDifuculdadeTreinoRankSS3();
										PreparaDifuculdadeTreinoRankX3();
										PreparaDifuculdadeTreinoRankXPLUS3();										
										MonstraProPlayerADificuldadeTreino3();					
									</event>
								</dataLink>
												
								<button name="btnUparJutsu3" left="180" top="540" width="230" height="30" fontFamily="Nyala" fontSize="18" text="Treinar" onClick="TreinarLevelJutsu3()"/>	
							</rectangle>
						</dataScopeBox>
					</scrollBox>			
				</popup> 
=============================================================
=============================================================
=============================================================
======================STATUS FICHA=========================== 				
=============================================================
=============================================================
=============================================================			
				<edit left="90" top="32" width="85" height="18" field="Nome"/>
				<comboBox  left="220" top="32" width="95" height="18" field="Cla" items="{'Sem cl√£', 'Aburame', 'Akimichi', 'Fuma', 'Hyuga', 'Inuzuka', 'Jyuin', 'Kaguya', 'Kamizurui', 'Nara', 'Ootsuki', 'Rinnegan', 'Shizuku', 'Uchiha', 'Uzumaki', 'Yamanaka',
				 '----//----', 'Fire', 'Gomu', 'Hozuki/Hoshigake', 'Kami', 'Kibaku', 'Kori', 'Mashido', 'Iburi', 'Orega', 'Ray', 'Sabaku', 'Senju', 'Temuri', 'Ryotenbin', '----//----', 
				 'Chinoke', 'Hanbun', 'Kazumi', 'Kouga', 'Miroku', 'Mitsu', 'Nakamura', 'Natsume', 'Neko', 'Neon', 'Shinkara', '---//---'}"/>
				<edit left="365" top="32" width="50" height="18" field="Idade"/>
				<edit left="365" top="80" width="50" height="18" visible="false" type="number" max="40" field="Idade2"/>
				<comboBox  left="555" top="32" width="140" height="18" field="GraduacaoTreino" items="{'Academico', 'Genin', 'Chunin', 'Jounin', 'Anbu', 'AnbuNucleo', 'Organiza√ß√£o', 'GDE', 'Concelheiro', 'Kage'}"/>
				<edit left="220" top="52" width="85" height="18" type="number" enabled="true" field="Yen"/>
				<edit left="90" top="52" width="85" height="18" field="Elemento"/>				
				<edit left="130" top="115" width="85" height="18" type="number"  field="Forca"/>
				<edit left="130" top="135" width="85" height="18" type="number"  field="Inteligencia"/>
				<edit left="130" top="155" width="85" height="18" type="number"  field="Sabedoria"/>
				<edit left="130" top="175" width="85" height="18" type="number"  field="Habilidade"/>
				<edit left="130" top="195" width="85" height="18" type="number"  field="Resistencia"/>				
				<edit left="370" top="115" width="85" enabled="false" height="18" type="float"  field="TaiTotal"/>
				<edit left="370" top="135" width="85" enabled="false" height="18" type="float"  field="NinTotal"/>
				<edit left="370" top="155" width="85" enabled="false" height="18" type="float"  field="GenTotal"/>
				<edit left="370" top="175" width="85" enabled="false" height="18" type="float"  field="DATotal"/>
				<edit left="370" top="195" width="85" enabled="false"  height="18" type="float"  field="EleTotal"/>
				<edit left="370" top="215" width="85" enabled="false"  height="18" type="float"  field="ReducaoTotal"/>		
=============================================================
=============================================================
=============================================================
======================AREA DE XP=============================				
=============================================================
=============================================================
=============================================================					 
				<edit left="570" top="100" width="55" height="30" horzTextAlign="center" fontColor="Red" fontFamily="Nyala" fontSize="25" enabled="true" type="number"   field="Level"/>
				<edit name="Exp" left="535" top="132" width="55" height="18" type="float"  field="Exp"/>
				<edit left="610" top="132" width="55" height="18" enabled="false" type="float" field="ExpTotal"/>				
				<edit name="edtGM27" left="670" top="132" width="55" height="18" enabled="true" visible="false" type="float" field="ExpPTreino"/>
=============================================================
=============================================================
=============================================================
==================AREA NPC E CONTROLE DE MESTRE============== 				
=============================================================
=============================================================
=============================================================
				<checkBox name="edtGM19" left="800" top="20" fontSize="18" text="TREINO ON ?" visible="false" field="TreinoON"/>
				<checkBox name="edtGM21" left="800" top="50" fontSize="18" text="NPC ?" visible="false" field="NPC"/>
				
				<dataLink field="NPC">
					<event name="onChange">
						if self.edtGM21.checked == true then
							self.btnVida.visible = false;
							self.btnChacra.visible = false;
							self.btnOutros.visible = false;
							self.btnEnergia.visible = false;
							self.cmbTipoOutro.left = 482;
							self.retanguloNPC.visible = true;
							self.LabNpc.visible = true;							
							self.btnDiminuiHP.visible = true;
							self.btnDiminuiChacra.visible = true;
							self.btnDiminuiOutros.visible = true;
							self.btnDiminuiEnergia.visible = true;							
							self.btnAumentaHP.visible = true;
							self.btnAumentaChacra.visible = true;
							self.btnAumentaOutros.visible = true;
							self.btnAumentaEnergia.visible = true;	
							self.edtNPCHP.visible = true;
							self.edtNPCChacra.visible = true;
							self.edtNPCOutros.visible = true;
							self.edtNPCEnergia.visible = true;							
						else
							self.btnVida.visible = true;
							self.btnChacra.visible = true;
							self.btnOutros.visible = true;
							self.btnEnergia.visible = true;							
							self.cmbTipoOutro.left = 320;
							self.cmbTipoOutro.width = 110;
							self.retanguloNPC.visible = false;
							self.LabNpc.visible = false;
							self.btnDiminuiHP.visible = false;
							self.btnDiminuiChacra.visible = false;
							self.btnDiminuiOutros.visible = false;
							self.btnDiminuiEnergia.visible = false;							
							self.btnAumentaHP.visible = false;
							self.btnAumentaChacra.visible = false;
							self.btnAumentaOutros.visible = false;
							self.btnAumentaEnergia.visible = false;							
							self.edtNPCHP.visible = false;
							self.edtNPCChacra.visible = false;
							self.edtNPCOutros.visible = false;
							self.edtNPCEnergia.visible = false;
						end;
					</event>
				</dataLink>
				<image field="imagemDoPersonagem" editable="true" style="autoFit" left="450" top="255" width="154" height="110" />	
	
				<rectangle name="retanguloNPC" left="285" top="250" width="200" height="120" color="grey" visible="false" strokeColor="red" strokeSize="1" xradius="25" yradius="25" cornerType="round"/>
				
				<label name="LabNpc" left="305" top="245" width="120" height="20" scale="1.4" horzTextAlign="center" visible="false" fontColor="red" text="Area Npc" />
				
				<edit name="edtNPCHP" left="290" top="275" width="60" height="20" horzTextAlign="center" type="number" visible="false" fontColor="red" field="DanoRecebido" />
				<button name="btnDiminuiHP" left="350" top="275" width="65" height="20" fontColor="red" visible="false" text="Diminui">
					<event name="onClick">
						sheet.HPAtual = (tonumber(sheet.HPAtual) or 0) - (tonumber(sheet.DanoRecebido) or 0);
						sheet.DanoRecebido = 0;
					</event>
				</button>
				<button name="btnAumentaHP" left="415" top="275" width="65" height="20" fontColor="red" visible="false" text="Aumenta">
					<event name="onClick">
						sheet.HPAtual = (tonumber(sheet.HPAtual) or 0) + (tonumber(sheet.DanoRecebido) or 0);
						
						if sheet.HPAtual > sheet.HPTotal then
							sheet.HPAtual = tonumber(sheet.HPTotal);
						end;
						
						sheet.DanoRecebido = 0;						
					</event>
				</button>	
				
				<edit name="edtNPCChacra" left="290" top="295" width="60" height="20" horzTextAlign="center" type="number" fontColor="Cyan" visible="false" field="CustoChacraRecebido" />	
				<button name="btnDiminuiChacra" left="350" top="295" width="65" height="20" fontColor="Cyan" visible="false" text="Diminui">
					<event name="onClick">
						sheet.ChakraAtual = (tonumber(sheet.ChakraAtual) or 0) - (tonumber(sheet.CustoChacraRecebido) or 0);
						
						if sheet.TipoOutro == 'Chakra' then
							sheet.BDChakra = (tonumber(sheet.ChakraAtual) or 0);
							sheet.OutrosAtual = (tonumber(sheet.ChakraAtual) or 0);
						end;						
						
						sheet.CustoChacraRecebido = 0;							
					</event>
				</button>
				<button name="btnAumentaChacra" left="415" top="295" width="65" height="20" fontColor="Cyan" visible="false" text="Aumenta">
					<event name="onClick">
						sheet.ChakraAtual = (tonumber(sheet.ChakraAtual) or 0) + (tonumber(sheet.CustoChacraRecebido) or 0);
						
						if sheet.TipoOutro == 'Chakra' then
							sheet.BDChakra = (tonumber(sheet.ChakraAtual) or 0);
							sheet.OutrosAtual = (tonumber(sheet.ChakraAtual) or 0);
						end;
						
						if sheet.ChakraAtual > sheet.ChakraTotal then
							sheet.ChakraAtual = tonumber(sheet.ChakraTotal);
						end;
						
						sheet.CustoChacraRecebido = 0;	
					</event>
				</button>	
				
				<edit name="edtNPCOutros" left="290" top="315" width="60" height="20" horzTextAlign="center" type="number" fontColor="Yellow" visible="false"  field="CustoOutrosRecebido" />	
				<button name="btnDiminuiOutros" left="350" top="315" width="65" height="20" fontColor="Yellow" visible="false" text="Diminui">
					<event name="onClick">
						sheet.OutrosAtual = (tonumber(sheet.OutrosAtual) or 0) - (tonumber(sheet.CustoOutrosRecebido) or 0);						
												
						if sheet.TipoOutro == 'Chakra' then
							sheet.BDChakra = (tonumber(sheet.OutrosAtual) or 0);
							sheet.ChakraAtual = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'Reiatsu' then
							sheet.BDReiatsu = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraBiju' then
							sheet.BDChakraBiju = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraBranco' then
							sheet.BDChakraBranco = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraPreto' then
							sheet.BDChakraPreto = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'Hadou' then
							sheet.BDHadou = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'HadouNegro' then
							sheet.BDHadouNegro = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraNatural' then
							sheet.BDChakraNatural = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraRoxo' then
							sheet.BDChakraRoxo = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'Outros' then
							sheet.BDOutro = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						sheet.CustoOutrosRecebido = 0;	
						
					</event>
				</button>
				<button name="btnAumentaOutros" left="415" top="315" width="65" height="20" fontColor="Yellow" visible="false" text="Aumenta">
					<event name="onClick">
						sheet.OutrosAtual = (tonumber(sheet.OutrosAtual) or 0) + (tonumber(sheet.CustoOutrosRecebido) or 0);				
						
						if sheet.OutrosAtual > sheet.OutrosTotal then
							sheet.OutrosAtual = tonumber(sheet.OutrosTotal);
						end;
						
						if sheet.TipoOutro == 'Chakra' then
							sheet.BDChakra = (tonumber(sheet.OutrosAtual) or 0);
							sheet.ChakraAtual = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'Reiatsu' then
							sheet.BDReiatsu = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraBiju' then
							sheet.BDChakraBiju = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraBranco' then
							sheet.BDChakraBranco = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraPreto' then
							sheet.BDChakraPreto = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'Hadou' then
							sheet.BDHadou = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'HadouNegro' then
							sheet.BDHadouNegro = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraNatural' then
							sheet.BDChakraNatural = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraRoxo' then
							sheet.BDChakraRoxo = (tonumber(sheet.OutrosAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'Outros' then
							sheet.BDOutro = (tonumber(sheet.OutrosAtual) or 0);
						end;
												
						sheet.CustoOutrosRecebido = 0;
					</event>
				</button>	
				
				<edit name="edtNPCEnergia" left="290" top="335" width="60" height="20" horzTextAlign="center" type="number" fontColor="Green" visible="false" field="CustoEnergiaRecebido" />	
				<button name="btnDiminuiEnergia" left="350" top="335" width="65" height="20" fontColor="Green" visible="false" text="Diminui">
					<event name="onClick">
						sheet.EnergiaAtual = (tonumber(sheet.EnergiaAtual) or 0) - (tonumber(sheet.CustoEnergiaRecebido) or 0);
						sheet.CustoEnergiaRecebido = 0;	
					</event>
				</button>
				<button name="btnAumentaEnergia" left="415" top="335" width="65" height="20" fontColor="Green" visible="false" text="Aumenta">
					<event name="onClick">
						sheet.EnergiaAtual = (tonumber(sheet.EnergiaAtual) or 0) + (tonumber(sheet.CustoEnergiaRecebido) or 0);
						
						if sheet.EnergiaAtual > sheet.EnergiaTotal then
							sheet.EnergiaAtual = tonumber(sheet.EnergiaTotal);
						end;
												
						sheet.CustoEnergiaRecebido = 0;
					</event>
				</button>	
				
				<dataLink fields="{'HPAtual', 'HPTotal'}">
					<event name="onChange">                
						self.BarraHP.value = tonumber(sheet.HPAtual);
						self.BarraHP.max = tonumber(sheet.HPTotal);		
					</event>
				</dataLink>
				
				<dataLink fields="{'ChakraAtual', 'ChakraTotal'}">
					<event name="onChange">                
						self.BarraChakra.value = tonumber(sheet.ChakraAtual);
						self.BarraChakra.max = tonumber(sheet.ChakraTotal);		
					</event>
				</dataLink>
				
				<dataLink fields="{'OutrosAtual', 'OutrosTotal', 'TipoOutro', 'DOutro', 'ChakraBiju', 'ChakraBranco', 'ChakraPreto', 'Hadou', 'HadouNegro', 'ChakraNatural', 'ChakraRoxo', 'Outros', 'Reiatsu', 'Chakra', 'ChakraAtual', 'ChakraTotal'}">
					<event name="onChange">
						if sheet.TipoOutro == 'Chakra' then
							sheet.OutrosTotal = (tonumber(sheet.ChakraTotal) or 0);
						end;
						
						if sheet.TipoOutro == 'Reiatsu' then
							sheet.OutrosTotal = (tonumber(sheet.ReiatsuTotal) or 0);
						end;
							
						if sheet.TipoOutro == 'ChakraBiju' then
							sheet.OutrosTotal = (tonumber(sheet.ChakraBiju) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraBranco' then
							sheet.OutrosTotal = (tonumber(sheet.ChakraBranco) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraPreto' then
							sheet.OutrosTotal = (tonumber(sheet.ChakraPreto) or 0);
						end;
						
						if sheet.TipoOutro == 'Hadou' then
							sheet.OutrosTotal = (tonumber(sheet.Hadou) or 0);
						end;
						
						if sheet.TipoOutro == 'HadouNegro' then
							sheet.OutrosTotal = (tonumber(sheet.HadouNegro) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraNatural' then
							sheet.OutrosTotal = (tonumber(sheet.ChakraNatural) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraRoxo' then
							sheet.OutrosTotal = (tonumber(sheet.ChakraRoxo) or 0);
						end;
						
						if sheet.TipoOutro == 'Outros' then
							sheet.OutrosTotal = (tonumber(sheet.DOutro) or 0);
						end;
																		
						self.BarraOutros.value = tonumber(sheet.OutrosAtual);
						self.BarraOutros.max = tonumber(sheet.OutrosTotal);						
					</event>
				</dataLink>
				
				<dataLink field="TipoOutro">
					<event name="onChange">
						if sheet.TipoOutro == 'Chakra' then
							sheet.OutrosAtual = (tonumber(sheet.ChakraAtual) or 0);
						end;
						
						if sheet.TipoOutro == 'Reiatsu' then
							sheet.OutrosAtual = (tonumber(sheet.BDReiatsu) or 0);
						end;
					
						if sheet.TipoOutro == 'ChakraBiju' then
							sheet.OutrosAtual = (tonumber(sheet.BDChakraBiju) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraBranco' then
							sheet.OutrosAtual = (tonumber(sheet.BDChakraBranco) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraPreto' then
							sheet.OutrosAtual = (tonumber(sheet.BDChakraPreto) or 0);
						end;
						
						if sheet.TipoOutro == 'Hadou' then
							sheet.OutrosAtual = (tonumber(sheet.BDHadou) or 0);
						end;
						
						if sheet.TipoOutro == 'HadouNegro' then
							sheet.OutrosAtual = (tonumber(sheet.BDHadouNegro) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraNatural' then
							sheet.OutrosAtual = (tonumber(sheet.BDChakraNatural) or 0);
						end;
						
						if sheet.TipoOutro == 'ChakraRoxo' then
							sheet.OutrosAtual = (tonumber(sheet.BDChakraRoxo) or 0);
						end;
						
						if sheet.TipoOutro == 'Outros' then
							sheet.OutrosAtual = (tonumber(sheet.BDOutro) or 0);
						end;				
					</event>
				</dataLink>				
				
				<dataLink fields="{'EnergiaAtual', 'EnergiaTotal'}">
					<event name="onChange">  
						if sheet.Sequenci1 == true then
							if self.edtGM21.checked then								
								if sheet.EnergiaAtual >= sheet.EnergiaTotal then 
									sheet.EnergiaAtual = sheet.EnergiaTotal;
								end;
							end;
						end;
					</event>
				</dataLink>
				
				<dataLink fields="{'EnergiaAtual', 'EnergiaTotal'}">
					<event name="onChange">  		
						self.BarraEnergia.value = tonumber(sheet.EnergiaAtual);
						self.BarraEnergia.max = tonumber(sheet.EnergiaTotal);		
					</event>
				</dataLink>
											
=============================================================
=============================================================
=============================================================
==================AREA HP CHACRA ENERGIA E MAIS============== 				
=============================================================
=============================================================
=============================================================					
				<progressBar name="BarraHP" left="85" top="276" width="190" height="19" color="Red"  value="100" max="100"/>
				<label left="90" top="276" width="85" height="18" horzTextAlign="center" visible="false" fontColor="White" field="HP"/>
				<label left="90" top="276" width="85" height="18" horzTextAlign="center" fontColor="White" field="HPAtual"/>
				<label left="140" top="276" width="85" height="18" horzTextAlign="center" fontColor="White" text="/"/>
				<label left="190" top="276" width="85" height="18" horzTextAlign="center" fontColor="White" field="HPTotal"/>				
				<button name="btnVida" left="280" top="276" width="40" height="20" fontColor="red" text="‚ù§">
					<event name="onClick">
						local mesa = Firecast.getMesaDe(sheet); 
						local HPTotal = (tonumber(sheet.HPTotal) or 0);
						mesa.meuJogador:requestSetBarValue(1, nil, HPTotal);
					</event>
				</button>		
				
				<progressBar name="BarraChakra" left="85" top="296" width="190" height="19" color="Cyan"  value="100" max="100"/>
				<label left="90" top="296" width="85" height="18" horzTextAlign="center" visible="false" fontColor="White" field="Chakra"/>
				<label left="90" top="296" width="85" height="18" horzTextAlign="center" fontColor="White" field="ChakraAtual"/>
				<label left="140" top="296" width="85" height="18" horzTextAlign="center" fontColor="White" text="/"/>
				<label left="190" top="296" width="85" height="18" horzTextAlign="center" fontColor="White"  field="ChakraTotal"/>
				<button name="btnChacra" left="280" top="296" width="40" height="20" fontColor="Cyan" text="üåÄ">
					<event name="onClick">
						local mesa = Firecast.getMesaDe(sheet); 
						local ChakraTotal = (tonumber(sheet.ChakraTotal) or 0);
						mesa.meuJogador:requestSetBarValue(2, nil, ChakraTotal);
					</event>
				</button>
				
				<progressBar name="BarraOutros" left="85" top="316" width="190" height="19" color="Yellow"  value="100" max="100"/>
				<label left="90" top="316" width="85" height="18" horzTextAlign="center" visible="false" fontColor="White" field="Outros"/>
				<label left="90" top="316" width="85" height="18" horzTextAlign="center" fontColor="White" field="OutrosAtual"/>
				<label left="140" top="316" width="85" height="18" horzTextAlign="center" fontColor="White" text="/"/>
				<label left="190" top="316" width="85" height="18" horzTextAlign="center" fontColor="White" field="OutrosTotal"/>
				<button name="btnOutros" left="280" top="316" width="40" height="20" fontColor="Yellow" text="‚ö°">
					<event name="onClick">
						local mesa = Firecast.getMesaDe(sheet); 
						local OutrosTotal = (tonumber(sheet.OutrosTotal) or 0);
						mesa.meuJogador:requestSetBarValue(3, nil, OutrosTotal);
					</event>
				</button>				
				<comboBox name="cmbTipoOutro" left="320" top="316" width="110" height="18" fontColor="yellow" field="TipoOutro" items="{'Chakra', 'Outros', 'Reiatsu', 'ChakraBiju', 'ChakraBranco', 'ChakraPreto', 'Hadou', 'HadouNegro', 'ChakraNatural', 'ChakraRoxo'}"/>
				
				<progressBar name="BarraEnergia" left="85" top="336" width="190" height="19" color="Green"  value="100" max="100"/>
				<label left="90" top="336" width="85" height="18" horzTextAlign="center" visible="false" field="Energia"/>
				<label left="90" top="336" width="85" height="18" horzTextAlign="center" field="EnergiaAtual"/>
				<label left="140" top="336" width="85" height="18" horzTextAlign="center" fontColor="White" text="/"/>
				<label left="190" top="336" width="85" height="18" horzTextAlign="center" field="EnergiaTotal"/>
				<button name="btnEnergia" left="280" top="336" width="40" height="20" fontColor="Green" text="üîã">
					<event name="onClick">
						local mesa = Firecast.getMesaDe(sheet); 
						local EnergiaTotal = (tonumber(sheet.EnergiaTotal) or 0);
						mesa.meuJogador:requestSetBarValue(4, nil, EnergiaTotal);
					</event>
				</button>
=============================================================
=============================================================
=============================================================
===========AREA TRANSFORMA√á√ÉO INTERMEDIARIA================== 				
=============================================================
=============================================================
=============================================================		
				<button name="edtGM31" left="650" top="155" width="145" height="60" visible="false" onClick="self.PopTransformationTotal:show();"/>
				<checkBox name="ControlaTransTotal" left="650" top="220" width="200" text="Ativar Transforma√ß√£o Total" visible="false" field="TransformadoTotal">
					<event name="onChange">
						if self.ControlaTransTotal.checked then
							CalculaTransformacaoTotal();
						end;
					</event>
				</checkBox>	
				
				<popup name="PopTransformationTotal" visible="false" left="1" top="10" width="1020" height="580">			
					<image left="10" top="10" width="1000" height="563" src="/imagens/8.png"/>
					<edit left="190" top="43" width="100" height="20" type="number" enabled="false" field="TTaijutsu"/>
					<edit left="190" top="72" width="100" height="20" type="number" enabled="false" field="TNinjutsu"/>
					<edit left="190" top="101" width="100" height="20" type="number" enabled="false" field="TGenjutsu"/>
					<edit left="190" top="130" width="100" height="20" type="number" enabled="false" field="TDA"/>
					<edit left="190" top="159" width="100" height="20" type="number" enabled="false" field="TElemental"/>		
					<edit left="190" top="217" width="100" height="20" type="number" enabled="false" field="THP"/>
					<edit left="190" top="245" width="100" height="20" type="number" enabled="false" field="TChakra"/>
					<edit left="190" top="273" width="100" height="20" type="number" enabled="false" field="TReiatsu"/>
					<edit left="190" top="301" width="100" height="20" type="number" enabled="false" field="TOutros"/>	
					<edit left="190" top="329" width="100" height="20" type="number" enabled="false" field="TEnergia"/>	
					<edit left="190" top="357" width="100" height="20" type="number" enabled="false" field="TReducao"/>		
					<edit left="820" top="43" width="100" height="20" type="number" enabled="false" field="TATai"/>
					<edit left="820" top="72" width="100" height="20" type="number" enabled="false" field="TANin"/>
					<edit left="820" top="101" width="100" height="20" type="number" enabled="false" field="TAGen"/>
					<edit left="820" top="130" width="100" height="20" type="number" enabled="false" field="TEsquiva"/>
					<edit left="820" top="159" width="100" height="20" type="number" enabled="false" field="TBloqueio"/>
					<edit left="820" top="187" width="100" height="20" type="number" enabled="false" field="TCTai"/>
					<edit left="820" top="215" width="100" height="20" type="number" enabled="false" field="TCNin"/>
					<edit left="820" top="243" width="100" height="20" type="number" enabled="false" field="TCGen"/>
					<edit left="820" top="271" width="100" height="20" type="number" enabled="false" field="TTurnos"/>
				</popup>
				
				<button left="490" top="155" width="145" height="60" onClick="self.PopTransformation:show();"/>				
				<dataLink fields="{'Transformado2', 'Transformado5', 'Transformado4', 'Transformado3'}">
					<event name="onChange">
						AtivaJunto();			
					</event>
				</dataLink>		
=============================================================
=============================================================
=============================================================
==================TRANSFORMA√á√ÉO NORMAL======================= 				
=============================================================
=============================================================
=============================================================	
				<image name="transformation" left="490" top="155" width="145" height="60" src="/imagens/Transform1.png"/>
				<image name="transformationDisable" left="490" top="155" width="145" visible="false" height="60" src="/imagens/Transform2.png"/>				
				<popup name="PopTransformation" visible="false" left="1" top="10" width="1020" height="580">				
					<image left="10" top="10" width="1000" height="563" src="/imagens/8.png"/>
					<edit left="190" top="43" width="100" height="20" type="number" field="TransTaijutsu"/>
					<edit left="190" top="72" width="100" height="20" type="number" field="TransNinjutsu"/>
					<edit left="190" top="101" width="100" height="20" type="number" field="TransGenjutsu"/>
					<edit left="190" top="130" width="100" height="20" type="number" field="TransDA"/>
					<edit left="190" top="159" width="100" height="20" type="number" field="TransElemental"/>					
					<edit left="190" top="217" width="100" height="20" type="number" field="TransHP"/>
					<edit left="190" top="245" width="100" height="20" type="number" field="TransChakra"/>
					<edit left="190" top="273" width="100" height="20" type="number" field="TransReiatsu"/>
					<edit left="190" top="301" width="100" height="20" type="number" field="TransOutros"/>	
					<edit left="190" top="329" width="100" height="20" type="number" field="TransEnergia"/>	
					<edit left="190" top="357" width="100" height="20" type="number" field="TransReducao"/>				
					<edit left="820" top="43" width="100" height="20" type="number" field="TransATai"/>
					<edit left="820" top="72" width="100" height="20" type="number" field="TransANin"/>
					<edit left="820" top="101" width="100" height="20" type="number" field="TransAGen"/>
					<edit left="820" top="130" width="100" height="20" type="number" field="TransEsquiva"/>
					<edit left="820" top="159" width="100" height="20" type="number" field="TransBloqueio"/>
					<edit left="820" top="187" width="100" height="20" type="number" field="TransCTai"/>
					<edit left="820" top="215" width="100" height="20" type="number" field="TransCNin"/>
					<edit left="820" top="243" width="100" height="20" type="number" field="TransCGen"/>
					<edit left="820" top="271" width="100" height="20" type="number" field="TransTurnos"/>		
				</popup>	

				<checkBox name="ControlaTrans" left="490" top="220" text="Ativar Transforma√ß√£o" field="Transformado2">
					<event name="onChange"> 
						if self.ControlaTrans.checked then
							self.transformation.visible = false;
							self.transformationDisable.visible = true;	
						else
							self.transformation.visible = true;
							self.transformationDisable.visible = false;		
						end;
					</event>
				</checkBox>
				
				<dataLink fields="{'TransTaijutsu', 'TransNinjutsu' , 'TransGenjutsu', 'TransDA', 'TransElemental', 'TransHP', 'TransChakra', 
				'TransReiatsu', 'TransOutros', 'TransEnergia', 'TransReducao', 'TransATai', 'TransANin', 'TransAGen', 'TransEsquiva', 'TransBloqueio', 'TransCTai',
				'TransCNin', 'TransCGen', 'TransTurnos', 'Transformado2'}">
					<event name="onChange">
						CalculaTransformacao();
					</event>
				</dataLink>						
=============================================================
=============================================================
=============================================================
===================EMO√áAO NA MESA============================ 				
=============================================================
=============================================================
=============================================================
				<textEditor name="MsgMesaEnvia" left="373" top="465" width="260" height="80" visible="true" field="MSGParaMesa"/>
				<radioButton text="Normal" groupName="GPRadio" field="FotoMSG" fieldValue="FMSGNormal" top="443" left="370"/> 
				<radioButton text="Feliz" groupName="GPRadio" field="FotoMSG" fieldValue="FMSGFeliz" top="443" left="438" />
				<radioButton text="Bravo" groupName="GPRadio" field="FotoMSG" fieldValue="FMSGBravo" top="443" left="500"/>					
				<radioButton text="Triste" groupName="GPRadio" field="FotoMSG" fieldValue="FMSGTriste" top="443" left="560"/>		
				<image left="375" top="398" width="60" height="42" editable="true" style="autoFit" field="FotoNormal"/>
				<image left="438" top="398" width="60" height="42" editable="true" style="autoFit" field="FotoFeliz"/>
				<image left="501" top="398" width="60" height="42" editable="true" style="autoFit" field="FotoBravo"/>
				<image left="564" top="398" width="60" height="42" editable="true" style="autoFit" field="FotoTriste"/>
				
				  <dataLink field="FotoMSG">
						<event name="onChange">
							if sheet.FotoMSG ~= nil then
								if sheet.FotoMsg == "FMSGNormal" then
									sheet.FotoSelecionada = sheet.FotoNormal;
								end;

								if sheet.FotoMsg == "FMSGFeliz" then
									sheet.FotoSelecionada = sheet.FotoFeliz;
								end;

								if sheet.FotoMsg == "FMSGBravo" then
									sheet.FotoSelecionada = sheet.FotoBravo;
								end;
								
								if sheet.FotoMsg == "FMSGTriste" then
									sheet.FotoSelecionada = sheet.FotoTriste;
								end;
							end;
						</event>
				</dataLink>

				<edit left="443" top="556" width="85" height="18" visible="false" field="FotoMSG"/>					
				<button left="635" top="475" scale="3.0" width="25" height="20" opacity="1.0" visible="true" text="üí¨">
					<event name="onClick"> 
						local minhaMesa = Firecast.getRoomOf(sheet);
						local chat = minhaMesa.chat;  
						if sheet.FotoMSG ~= nil then
							chat:enviarMensagem("[¬ßI ".. sheet.FotoSelecionada .. "] : " .. sheet.MSGParaMesa);
							sheet.MSGParaMesa = "";
							self.MsgMesaEnvia:setFocus();
						else
							showMessage("Para Enviar Mensagem da Ficha √© Necessario escolher uma Caracteristica");
						end;
					</event>
				</button>
				
				<image left="650" top="550" width="146" height="116" editable="false" animate="true" src="https://i.pinimg.com/originals/c7/44/c5/c744c5d661e383b57db574a2a3f4d216.gif"/>
=============================================================
=============================================================
=============================================================
======================CALCULO INVISIVEL====================== 				
=============================================================
=============================================================
=============================================================				
				<button name="edtGM20" left="600" top="270" width="105" height="85" opacity="1.0" visible="false" text="Calculo" onClick="self.POPCALCULO:show();"/>			
				<popup name="POPCALCULO" visible="false" left="1" top="40" width="820" height="620">				
					<image left="10" top="10" width="800" height="600" src="/imagens/CALCULO.png"/>				
					<edit left="150" top="35" width="85" height="18" enabled="false" type="float"  field="CTai"/>
					<edit left="150" top="58" width="85" height="18" enabled="false" type="float"  field="CNin"/>
					<edit left="150" top="81" width="85" height="18" enabled="false" type="float"  field="CGen"/>
					<edit left="150" top="102" width="85" height="18" enabled="false" type="float"  field="CDA"/>
					<edit left="150" top="122" width="85" height="18" enabled="false" type="float"  field="CDE"/>
					<edit left="150" top="145" width="85" height="18" enabled="false" type="float"  field="CHP"/>
					<edit left="150" top="168" width="85" height="18" enabled="false" type="float"  field="CChakra"/>			
					<edit left="310" top="210" width="85" height="18" enabled="false" type="float"  field="CReducao"/>			
					<edit left="350" top="253" width="85" height="18" enabled="false" type="float"  field="CAtletismo"/>
					<edit left="350" top="274" width="85" height="18" enabled="false" type="float"  field="CRaciocineo"/>		
					<edit left="350" top="295" width="85" height="18" enabled="false" type="float"  field="CPercepcao"/>
					<edit left="350" top="316" width="85" height="18" enabled="false" type="float" field="CFurtividade"/>	
					<edit left="350" top="337" width="85" height="18" enabled="false" type="float" field="CVigor"/>				
					<edit left="280" top="35" width="85" height="18" enabled="false" type="float"  field="Taijutsu"/>
					<edit left="280" top="58" width="85" height="18" enabled="false" type="float"  field="Ninjutsu"/>
					<edit left="280" top="81" width="85" height="18" enabled="false" type="float"  field="Genjutsu"/>
					<edit left="280" top="102" width="85" height="18" enabled="false" type="float"  field="DanoArmado"/>
					<edit left="280" top="122" width="85" height="18" enabled="false" type="float"  field="Elemental1"/>
					<edit left="300" top="145" width="85" height="18" type="float"  enabled="true" field="GHP"/>
					<edit left="300" top="168" width="85" height="18" enabled="false" type="float" field="GChakra"/>			
					<edit left="150" top="210" width="85" height="18" enabled="false" type="float"  field="CAT"/>
					<edit left="150" top="230" width="85" height="18" enabled="false" type="float"  field="CAN"/>
					<edit left="150" top="250" width="85" height="18" enabled="false" type="float"  field="CAG"/>		
					<edit left="150" top="300" width="85" height="18" enabled="false" type="float"  field="CEsq"/>
					<edit left="150" top="320" width="85" height="18" enabled="false" type="float" field="CBloq"/>		
					<edit left="150" top="360" width="85" height="18" enabled="false" type="float"  field="CCRT"/>
					<edit left="150" top="380" width="85" height="18" enabled="false" type="float"  field="CCRN"/>
					<edit left="150" top="400" width="85" height="18" enabled="false" type="float"  field="CCRG"/>				
=============================================================
=============================================================
=============================================================
================CONTROLADOR DE LEVELUP======================= 				
=============================================================
=============================================================
=============================================================		
					<dataLink fields="{'Level', 'Exp'}">
						<event name="onChange">	
							if sheet.Sequenci1 == true then
								sheet.ExpTotal = (tonumber(sheet.Level) or 0) * 100;
												
								if sheet.Exp > sheet.ExpTotal then
									sheet.Exp = (tonumber(sheet.Exp) or 0) - (tonumber(sheet.ExpTotal) or 0);
									sheet.Level = (tonumber(sheet.Level) or 0) + 1;
									showMessage("VOCE UPOU DE LEVEL");
									
									LevelUPHP();
								end;	

							end;	
						</event>
					</dataLink>
					
					<dataLink field="ExpPTreino">
						<event name="onChange">	
							if sheet.Sequenci1 == true then
								sheet.Exp = (tonumber(sheet.Exp) or 0) + (tonumber(sheet.ExpPTreino));
								sheet.ExpPTreino = 0;
							end;	
						</event>
					</dataLink>
					
					<dataLink fields="{'BandanaReducao', 'ColeteReducao', 'TReducao', 'CReducao', 'DReducao', 'Transformado', 'Transformado1', 'Transformado2', 'Transformado3', 'Transformado4', 'Transformado5', 'TransformadoTotal'}">
						<event name="onChange">	
							if self.ControlaTransTotal.checked then
								sheet.ReducaoTotal = (tonumber(sheet.BandanaReducao) or 0) + (tonumber(sheet.ColeteReducao) or 0) + (tonumber(sheet.CReducao) or 0) + (tonumber(sheet.DReducao) or 0) + (tonumber(sheet.TReducao) or 0);
							else
								sheet.ReducaoTotal = (tonumber(sheet.BandanaReducao) or 0) + (tonumber(sheet.ColeteReducao) or 0) + (tonumber(sheet.CReducao) or 0) + (tonumber(sheet.DReducao) or 0);	
							end;
						</event>
					</dataLink>
=============================================================
=============================================================
=============================================================
================CALCULADOR DE STATUS PRA CL√É================= 				
=============================================================
=============================================================
=============================================================	
					<dataLink fields="{'Forca', 'Inteligencia', 'Sabedoria', 'Elemental', 'Habilidade', 'Resistencia', 'TaiTotal', 'NinTotal', 'GenTotal', 'EleTotal', 'DATotal', 'Level', 
					'ArmaDT', 'ArmaDN', 'ArmaDG', 'ArmaDE', 'ArmaDA', 'AcessorioDT', 'AcessorioDN', 'AcessorioDG', 'AcessorioDE', 'DTaijutsu', 'DNinjutsu', 'DGenjutsu', 'DDA', 'DDE', 'GraduacaoTreino'
					,'Nome', 'Elemento', 'Cla', 'Idade', 'HP', 'HPTotal', 'Chakra' ,'ChakraTotal', 'Reiatsu', 'ReiatsuTotal', 'Outros', 'OutrosTotal', 'DanoJutsu', 'DanoJutsu2', 'DanoJutsu3', 
					'Intensidade', 'Intensidade2','Intensidade3' ,'CustoJutsu' ,'CustoJutsu2' ,'CustoJutsu3' ,'LevelJutsu' ,'LevelJutsu2' ,'LevelJutsu3' ,'DanoKunai' ,'DanoShuriken' ,'DanoKunaiGigante' ,'DanoShurikenFuuma' ,'Marionete'
					,'PB' ,'GinsoExplosivo' ,'Veneno' ,'Bandagem' ,'BF','DTaijutsu','DNinjutsu','DGenjutsu','DDA','DDE','DHP','DChakra','DReiatsu','DOutro','DAcertoTai','DAcertoNin','DAcertoGen','DBloqueio','DCriticalTai','DCriticalNin','DCriticalGen'
					,'ChakraBiju','ChakraBranco','ChakraPreto','Hadou','HadouNegro','ChakraNatural','ChakraRoxo','IntensidadeP1','IntensidadeP2','IntensidadeP3','CustoPerga1','CustoPerga2','CustoPerga3','DEDC'
					,'Taijutsu','Ninjutsu','Genjutsu','DanoArmado','Elemental1','TipoOutro','TipoItens','Tipo','Tipo2','Tipo3'}">
						<event name="onChange">						
							sheet.CTai = 0;
							sheet.CNin = 0;
							sheet.CGen = 0;
							sheet.CDA = 0;
							sheet.CDE = 0;
							sheet.CHP = 0;
							sheet.CChakra = 0;
							sheet.CAT = 0;
							sheet.CAN = 0;
							sheet.CAG = 0;
							sheet.CEsq = 0;
							sheet.CBloq = 0;
							sheet.CCRT = 0;
							sheet.CCRN = 0;
							sheet.CCRG = 0;
							sheet.CReducao = 0;
							sheet.CAtletismo = 0;
							sheet.CRaciocineo = 0;
							sheet.CPercepcao = 0;
							sheet.CFurtividade = 0;
							sheet.CVigor = 0;
							
							if sheet.Cla == 'Sem cl√£' then
								sheet.CTai = 0;
								sheet.CNin = 0;
								sheet.CGen = 0;
								sheet.CDA = 0;
								sheet.CDE = 0;
								sheet.CHP = 0;
								sheet.CChakra = 0;
								sheet.CAT = 0;
								sheet.CAN = 0;
								sheet.CAG = 0;
								sheet.CEsq = 0;
								sheet.CBloq = 0;
								sheet.CCRT = 0;
								sheet.CCRN = 0;
								sheet.CCRG = 0;
								sheet.CReducao = 0;
								sheet.CReducao = 0;
								sheet.CAtletismo = 0;
								sheet.CRaciocineo = 0;
								sheet.CPercepcao = 0;
								sheet.CFurtividade = 0;
								sheet.CVigor = 0;
							end;			
							
							if sheet.Cla == 'Aburame' then
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * -0.10;
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.15;
							end;
							
							if sheet.Cla == 'Akimichi' then
								sheet.CTai = (tonumber(sheet.Taijutsu) or 0) * 0.20;
								sheet.CHP = (tonumber(sheet.HP) or 0) * 0.20;
							end;			
							
							if sheet.Cla == 'Fuma' then
								sheet.CCRN = 5;
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.10;
							end;
							
							if sheet.Cla == 'Hyuga' then
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.20;
								sheet.CTai = (tonumber(sheet.Taijutsu) or 0) * 0.10;
							end;
							
							if sheet.Cla == 'Inuzuka' then
								sheet.CTai = 0;
								sheet.CNin = 0;
								sheet.CGen = 0;
								sheet.CDA = 0;
								sheet.CDE = 0;
								sheet.CHP = 0;
								sheet.CChakra = 0;
								sheet.CAT = 0;
								sheet.CAN = 0;
								sheet.CAG = 0;
								sheet.CEsq = 0;
								sheet.CBloq = 0;
								sheet.CCRT = 0;
								sheet.CCRN = 0;
								sheet.CCRG = 0;
								sheet.CReducao = 0;
								sheet.CPercepcao = 4;
							end;
							
							if sheet.Cla == 'Jyuin' then
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.40;
								sheet.CHP = (tonumber(sheet.HP) or 0) * 0.10;
								sheet.CVigor = 4;
							end;
							
							if sheet.Cla == 'Kaguya' then
								sheet.CHP = (tonumber(sheet.HP) or 0) * 0.10;
								sheet.CReducao = 10;
							end;
							
							if sheet.Cla == 'Kami' then
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.10;
							end;

							if sheet.Cla == 'Kamizurui' then
								sheet.CAN = 5;
								sheet.CCRN = 5;
								sheet.CEsq = 3;
							end;
							
							if sheet.Cla == 'Nara' then
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.20;
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.10;
								sheet.CRaciocineo = 4;
							end;
							
							if sheet.Cla == 'Uchiha' then
								sheet.CTai = 0;
								sheet.CNin = 0;
								sheet.CGen = 0;
								sheet.CDA = 0;
								sheet.CDE = 0;
								sheet.CHP = 0;
								sheet.CChakra = 0;
								sheet.CAT = 0;
								sheet.CAN = 0;
								sheet.CAG = 0;
								sheet.CEsq = 0;
								sheet.CBloq = 0;
								sheet.CCRT = 0;
								sheet.CCRN = 0;
								sheet.CCRG = 0;
								sheet.CReducao = 0;
							end;
							
							if sheet.Cla == 'Uzumaki' then
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 1;
								sheet.CVigor = 4;
							end;
							
							if sheet.Cla == 'Yamanaka' then
								sheet.CAT = 5;
								sheet.CAN = 5;
								sheet.CAG = 5; 
							end;
							
							if sheet.Cla == 'Ootsuki' then
								sheet.CTai = (tonumber(sheet.Taijutsu) or 0) * 0.20;
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.20;
								sheet.CGen = (tonumber(sheet.Genjutsu) or 0) * 0.20;
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
								sheet.CDA = (tonumber(sheet.DanoArmado) or 0) * 0.20;
								sheet.CAT = 10;
								sheet.CAN = 10;
								sheet.CAG = 10;
								sheet.CCRT = 5;
								sheet.CCRN = 5;
								sheet.CCRG = 5;
								sheet.CReducao = 5;
								sheet.CEsq = 5; 
								sheet.CBloq = 5; 
							end;
							
							if sheet.Cla == 'Rinnegan' then
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.30;
								sheet.CHP = (tonumber(sheet.HP) or 0) * 0.15;
								sheet.CReducao = 5;
							end;
							
							if sheet.Cla == 'Shizuku' then
								sheet.CGen = (tonumber(sheet.Genjutsu) or 0) * 0.10;
								sheet.CTai = (tonumber(sheet.Taijutsu) or 0) * 0.10;
							end;
							
							if sheet.Cla == '----------' then
								showMessage("ESCOLHE UM CL√É FILHA DA PUTA");
							end;
							
							if sheet.Cla == 'Fire' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
							end;
							
							if sheet.Cla == 'Gomu' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.10;
								sheet.CReducao = 5;
							end;
							
							if sheet.Cla == 'Hozuki/Hoshigake' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.10;
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.30;
								sheet.CHP = (tonumber(sheet.HP) or 0) * 0.20;
							end;
							
							if sheet.Cla == 'Kibaku' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
							end;
							
							if sheet.Cla == 'Kori' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.10;
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.20;
							end;
							
							if sheet.Cla == 'Mashido' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
							end;
							
							if sheet.Cla == 'Iburi' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
							end;
						
							if sheet.Cla == 'Orega' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
							end;
							
							if sheet.Cla == 'Ray' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
							end;
						
							if sheet.Cla == 'Sabaku' then
								sheet.CDA = (tonumber(sheet.DanoArmado) or 0) * 0.10;
							end;
							
							if sheet.Cla == 'Senju' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
								sheet.CHP = (tonumber(sheet.HP) or 0) * 0.20;
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.30;
							end;
							
							if sheet.Cla == 'Temuri' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.30;
							end;
							
							if sheet.Cla == 'Ryotenbin' then
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.20;
							end;								
							------------------------------------------------------				
							if sheet.Cla == 'Chinoke' then
								sheet.CGen = (tonumber(sheet.Genjutsu) or 0) * 0.20;
							end;
							
							if sheet.Cla == 'Hanbun' then
								sheet.CTai = (tonumber(sheet.Taijutsu) or 0) * 0.50;
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.50;
								sheet.CGen = (tonumber(sheet.Genjutsu) or 0) * 0.50;
								sheet.CDE = (tonumber(sheet.Elemental1) or 0) * 0.50;
								sheet.CDA = (tonumber(sheet.DanoArmado) or 0) * 0.50;
								sheet.CHP = (tonumber(sheet.HP) or 0) * 0.50;
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.50;
							end;
							
							if sheet.Cla == 'Kazumi' then
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.10;
								sheet.CGen = (tonumber(sheet.Genjutsu) or 0) * 0.10;
								sheet.CCRG = 5;
							end;

							if sheet.Cla == 'Kouga' then
								sheet.CTai = 0;
								sheet.CNin = 0;
								sheet.CGen = 0;
								sheet.CDA = 0;
								sheet.CDE = 0;
								sheet.CHP = 0;
								sheet.CChakra = 0;
								sheet.CAT = 0;
								sheet.CAN = 0;
								sheet.CAG = 0;
								sheet.CEsq = 0;
								sheet.CBloq = 0;
								sheet.CCRT = 0;
								sheet.CCRN = 0;
								sheet.CCRG = 0;
								sheet.CReducao = 0;
							end;
							
							if sheet.Cla == 'Miroku' then
								sheet.CTai = 0;
								sheet.CNin = 0;
								sheet.CGen = 0;
								sheet.CDA = 0;
								sheet.CDE = 0;
								sheet.CHP = 0;
								sheet.CChakra = 0;
								sheet.CAT = 0;
								sheet.CAN = 0;
								sheet.CAG = 0;
								sheet.CEsq = 0;
								sheet.CBloq = 0;
								sheet.CCRT = 0;
								sheet.CCRN = 0;
								sheet.CCRG = 0;
								sheet.CReducao = 0;
							end;
							
							if sheet.Cla == 'Mitsu' then
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.10;
							end;
							
							if sheet.Cla == 'Nakamura' then
								sheet.CTai = 0;
								sheet.CNin = 0;
								sheet.CGen = 0;
								sheet.CDA = 0;
								sheet.CDE = 0;
								sheet.CHP = 0;
								sheet.CChakra = 0;
								sheet.CAT = 0;
								sheet.CAN = 0;
								sheet.CAG = 0;
								sheet.CEsq = 0;
								sheet.CBloq = 0;
								sheet.CCRT = 0;
								sheet.CCRN = 0;
								sheet.CCRG = 0;
								sheet.CReducao = 0;
							end;
							
							if sheet.Cla == 'Natsume' then
								sheet.CAT = 5;
								sheet.CCRT = 5;
								sheet.CBloq = 5;
								sheet.CEsq = 3;
							end;
							
							if sheet.Cla == 'Neko' then
								sheet.CPercepcao = 4;
							end;
							
							if sheet.Cla == 'Neon' then
								sheet.CNin = (tonumber(sheet.Ninjutsu) or 0) * 0.10;
								sheet.CChakra = (tonumber(sheet.Chakra) or 0) * 0.30;
								sheet.CAN = 5;
								sheet.CCRN = 5;
							end;
							
							if sheet.Cla == 'Shinkara' then
								sheet.CHP = (tonumber(sheet.HP) or 0) * 0.10;
							end;
							
							if sheet.Cla == '' then
									sheet.CTai = 0;
								sheet.CNin = 0;
								sheet.CGen = 0;
								sheet.CDA = 0;
								sheet.CDE = 0;
								sheet.CHP = 0;
								sheet.CChakra = 0;
								sheet.CAT = 0;
								sheet.CAN = 0;
								sheet.CAG = 0;
								sheet.CEsq = 0;
								sheet.CBloq = 0;
								sheet.CCRT = 0;
								sheet.CCRN = 0;
								sheet.CCRG = 0;
								sheet.CReducao = 0;
							end;							
						</event>
					</dataLink>
=============================================================
=============================================================
=============================================================
=====================CHANCES GRADUA√á√ÉO======================= 				
=============================================================
=============================================================
=============================================================
					<dataLink fields="{'GraduacaoTreino', 'AcertoTaiTotal', 'AcertoNinTotal', 'AcertoGenTotal', 'EsquivaTotal','BloqueioTotal', 'TurnoTotal', 'CRTaiTotal',
					'CRNinTotal', 'CRGenTotal', 'GAcertoTai', 'GAcertoNin', 'GAcertoGen', 'GEsquiva', 'GBloqueio', 'GCRTai', 'GCRNin', 'GCRGen', 'GTurno'}">
						<event name="onChange"> 				
							<![CDATA[					 
							if sheet.GraduacaoTreino == 'Academico' then
								sheet.GTurno = 1;
							end;
							
							if sheet.GraduacaoTreino == 'Genin' then
								sheet.GAcertoTai = 2;
								sheet.GAcertoNin = 2;
								sheet.GAcertoGen = 2;
								sheet.GEsquiva = 2;
								sheet.GBloqueio = 3;
							end;
							
							if sheet.GraduacaoTreino == 'Chunin' then
								sheet.GAcertoTai = 4;
								sheet.GAcertoNin = 4;
								sheet.GAcertoGen = 4;
								sheet.GEsquiva = 4;
								sheet.GBloqueio = 6;
							end;
							
							if sheet.GraduacaoTreino == 'Jounin' then
								sheet.GAcertoTai = 6;
								sheet.GAcertoNin = 6;
								sheet.GAcertoGen = 6;
								sheet.GEsquiva = 6;
								sheet.GBloqueio = 9;
								sheet.GTurno = 2;
								sheet.GCRTai = 3;
								sheet.GCRNin = 3;
								sheet.GCRGen = 3;
							end;
							
							if sheet.GraduacaoTreino == 'Anbu' then
								sheet.GAcertoTai = 8;
								sheet.GAcertoNin = 8;
								sheet.GAcertoGen = 8;
								sheet.GEsquiva = 8;
								sheet.GBloqueio = 12;
							end;
						   
							if sheet.GraduacaoTreino == 'AnbuNucleo' then
								sheet.GAcertoTai = 10;
								sheet.GAcertoNin = 10;
								sheet.GAcertoGen = 10;
								sheet.GEsquiva = 10;
								sheet.GBloqueio = 15;
								sheet.GCRTai = 6;
								sheet.GCRNin = 6;
								sheet.GCRGen = 6;
							end;
							
							if sheet.GraduacaoTreino == 'Organiza√ß√£o' then
								sheet.GAcertoTai = 12;
								sheet.GAcertoNin = 12;
								sheet.GAcertoGen = 12;
								sheet.GEsquiva = 12;
								sheet.GBloqueio = 18;
							end;					
											
							if sheet.GraduacaoTreino == 'GDE' then
								sheet.GAcertoTai = 14;
								sheet.GAcertoNin = 14;
								sheet.GAcertoGen = 14;
								sheet.GEsquiva = 14;
								sheet.GBloqueio = 21;
								sheet.GCRTai = 9;
								sheet.GCRNin = 9;
								sheet.GCRGen = 9;
							end;					
											
							if sheet.GraduacaoTreino == 'Concelheiro' then
								sheet.GAcertoTai = 16;
								sheet.GAcertoNin = 16;
								sheet.GAcertoGen = 16;
								sheet.GEsquiva = 16;
								sheet.GBloqueio = 24;
							end;					
											
							if sheet.GraduacaoTreino == 'Kage' then
								sheet.GAcertoTai = 18;
								sheet.GAcertoNin = 18;
								sheet.GAcertoGen = 18;
								sheet.GEsquiva = 20;
								sheet.GBloqueio = 30;
								sheet.GTurno = 3;
								sheet.GCRTai = 14;
								sheet.GCRNin = 14;
								sheet.GCRGen = 14;
							end;
							]]>	
						</event>
					</dataLink>
=============================================================
=============================================================
=============================================================
================CONTROLADOR DE STATUS TOTAL================== 				
=============================================================
=============================================================
=============================================================				
					<dataLink fields="{'Forca', 'Inteligencia', 'Sabedoria', 'Elemental', 'Habilidade', 'Resistencia', 'TaiTotal', 'NinTotal', 'GenTotal', 'EleTotal', 'DATotal', 'Level', 
					'ArmaDT', 'ArmaDN', 'ArmaDG', 'ArmaDE', 'ArmaDA', 'AcessorioDT', 'AcessorioDN', 'AcessorioDG', 'AcessorioDE', 'DTaijutsu', 'DNinjutsu', 'DGenjutsu', 'DDA', 'DDE', 'GraduacaoTreino'}">
						<event name="onChange"> 
							sheet.Taijutsu = (tonumber(sheet.Forca) or 0) * 2;
							sheet.Ninjutsu = (tonumber(sheet.Inteligencia) or 0) * 2;
							sheet.Genjutsu = (tonumber(sheet.Sabedoria) or 0) * 2;
							sheet.Elemental1 = (tonumber(sheet.Sabedoria) or 0) + (tonumber(sheet.Inteligencia) or 0);
							sheet.DanoArmado = (tonumber(sheet.Forca) or 0) + (tonumber(sheet.Habilidade) or 0);
						</event>
					</dataLink>
					
					<dataLink fields="{'Forca', 'Inteligencia', 'Sabedoria', 'Elemental', 'Habilidade', 'Resistencia', 'Level', 'Taijutsu', 'Ninjutsu', 'Genjutsu', 'Elemental1', 'DanoArmado',
					'ArmaDT', 'ArmaDN', 'ArmaDG', 'ArmaDE', 'ArmaDA', 'AcessorioDT', 'AcessorioDN', 'AcessorioDG', 'AcessorioDE', 'DTaijutsu', 'DNinjutsu', 'DGenjutsu', 'DDA', 'DDE', 'GraduacaoTreino', 'Transformado', 'Transformado1', 'Transformado2', 'Transformado3', 'Transformado4', 'Transformado5', 'TransformadoTotal', 'Cla'}">
						<event name="onChange">											
							if self.ControlaTransTotal.checked then
								sheet.TaiTotal = (tonumber(sheet.ArmaDT) or 0) + (tonumber(sheet.AcessorioDT) or 0) + (tonumber(sheet.DTaijutsu) or 0) + (tonumber(sheet.CTai) or 0) + (tonumber(sheet.Taijutsu) or 0) + (tonumber(sheet.TTaijutsu) or 0);
								sheet.NinTotal = (tonumber(sheet.ArmaDN) or 0) + (tonumber(sheet.AcessorioDN) or 0) + (tonumber(sheet.DNinjutsu) or 0) + (tonumber(sheet.CNin) or 0) + (tonumber(sheet.Ninjutsu) or 0) + (tonumber(sheet.TNinjutsu) or 0);
								sheet.GenTotal = (tonumber(sheet.ArmaDG) or 0) + (tonumber(sheet.AcessorioDG) or 0) + (tonumber(sheet.DGenjutsu) or 0) + (tonumber(sheet.CGen) or 0) + (tonumber(sheet.Genjutsu) or 0) + (tonumber(sheet.TGenjutsu) or 0);
								sheet.EleTotal = (tonumber(sheet.ArmaDE) or 0) + (tonumber(sheet.AcessorioDE) or 0) + (tonumber(sheet.DDE) or 0) + (tonumber(sheet.CDE) or 0) + (tonumber(sheet.Elemental1) or 0) + (tonumber(sheet.TElemental) or 0);
								sheet.DATotal = (tonumber(sheet.ArmaDA) or 0) + (tonumber(sheet.DDA) or 0) + (tonumber(sheet.CDA) or 0) + (tonumber(sheet.DanoArmado) or 0) + (tonumber(sheet.TDA) or 0);
							else					
								sheet.TaiTotal = (tonumber(sheet.ArmaDT) or 0) + (tonumber(sheet.AcessorioDT) or 0) + (tonumber(sheet.DTaijutsu) or 0) + (tonumber(sheet.CTai) or 0) + (tonumber(sheet.Taijutsu) or 0);
								sheet.NinTotal = (tonumber(sheet.ArmaDN) or 0) + (tonumber(sheet.AcessorioDN) or 0) + (tonumber(sheet.DNinjutsu) or 0) + (tonumber(sheet.CNin) or 0) + (tonumber(sheet.Ninjutsu) or 0);
								sheet.GenTotal = (tonumber(sheet.ArmaDG) or 0) + (tonumber(sheet.AcessorioDG) or 0) + (tonumber(sheet.DGenjutsu) or 0) + (tonumber(sheet.CGen) or 0) + (tonumber(sheet.Genjutsu) or 0);
								sheet.EleTotal = (tonumber(sheet.ArmaDE) or 0) + (tonumber(sheet.AcessorioDE) or 0) + (tonumber(sheet.DDE) or 0) + (tonumber(sheet.CDE) or 0) + (tonumber(sheet.Elemental1) or 0);
								sheet.DATotal = (tonumber(sheet.ArmaDA) or 0) + (tonumber(sheet.DDA) or 0) + (tonumber(sheet.CDA) or 0) + (tonumber(sheet.DanoArmado) or 0);
							end;
								
							sheet.TaiTotal = math.ceil(sheet.TaiTotal);
							sheet.NinTotal = math.ceil(sheet.NinTotal);
							sheet.GenTotal = math.ceil(sheet.GenTotal);
							sheet.EleTotal = math.ceil(sheet.EleTotal);
							sheet.DATotal = math.ceil(sheet.DATotal);										
						</event>
					</dataLink>		
=============================================================
=============================================================
=============================================================
================CONTROLADOR DE HPTotal======================= 				
=============================================================
=============================================================
=============================================================					
					<dataLink fields="{'Chakra', 'ChakraTotal', 'ArmaHP','ArmaChakra', 'BandanaChakra', 'Resistencia', 
					'BandanaHP', 'ColeteChakra', 'ColeteHP', 'AcessorioChakra', 'AcessorioHP', 'DHP', 'DChakra', 'CHP', 'GHP', 'Transformado',
					'Transformado1', 'Transformado2', 'Transformado3', 'Transformado4', 'Transformado5', 'TransformadoTotal'}">
						<event name="onChange">
							if self.ControlaTransTotal.checked then
								sheet.GHP = (tonumber(sheet.GHP) or 0);
								sheet.HP = math.floor(tonumber(sheet.Resistencia) or 0) * 10 + (tonumber(sheet.GHP) or 0);
								sheet.HPTotal = math.floor(tonumber(sheet.HP) or 0) + (tonumber(sheet.CHP) or 0) + (tonumber(sheet.DHP) or 0) + (tonumber(sheet.AcessorioHP) or 0)
								+ (tonumber(sheet.ColeteHP) or 0) + (tonumber(sheet.BandanaHP) or 0) + (tonumber(sheet.ArmaHP) or 0) + (tonumber(sheet.THP) or 0);	
							else
								sheet.GHP = (tonumber(sheet.GHP) or 0);
								sheet.HP = math.floor(tonumber(sheet.Resistencia) or 0) * 10 + (tonumber(sheet.GHP) or 0);
								sheet.HPTotal = math.floor(tonumber(sheet.HP) or 0) + (tonumber(sheet.CHP) or 0) + (tonumber(sheet.DHP) or 0) + (tonumber(sheet.AcessorioHP) or 0)
								+ (tonumber(sheet.ColeteHP) or 0) + (tonumber(sheet.BandanaHP) or 0) + (tonumber(sheet.ArmaHP) or 0);	
							end;
						</event>
					</dataLink>		
=============================================================
=============================================================
=============================================================
================CONTROLADOR DE CHACRA TOTAL================== 				
=============================================================
=============================================================
=============================================================	
					<dataLink fields="{'HP', 'Chakra', 'ChakraTotal', 'ArmaHP','ArmaChakra', 'BandanaChakra',
					'BandanaHP', 'ColeteChakra', 'ColeteHP', 'AcessorioChakra', 'AcessorioHP', 'DHP', 'DChakra', 'CChakra', 'GChakra', 'Idade', 
					'Transformado', 'Transformado1', 'Transformado2', 'Transformado3', 'Transformado4', 'Transformado5', 'TransformadoTotal'}">
						<event name="onChange">
							if self.ControlaTransTotal.checked then
								sheet.Idade2 = (tonumber(sheet.Idade) or 0);
								
								if sheet.Idade2 > 40 then
									sheet.Idade2 = 40;
								end;
								
								sheet.Chakra = (tonumber(sheet.Idade2) or 0) * 25  + (tonumber(sheet.Level) or 0);
								sheet.ChakraTotal = math.floor(tonumber(sheet.Chakra) or 0) + (tonumber(sheet.ArmaChakra) or 0) + (tonumber(sheet.BandanaChakra) or 0) + 
								(tonumber(sheet.ColeteChakra) or 0) + (tonumber(sheet.AcessorioChakra) or 0) + (tonumber(sheet.DChakra) or 0) + (tonumber(sheet.GChakra) or 0) + (tonumber(sheet.CChakra) or 0) + (tonumber(sheet.TChakra) or 0);	
							else
								sheet.Idade2 = (tonumber(sheet.Idade) or 0);	
								
								if sheet.Idade2 > 40 then
									sheet.Idade2 = 40;
								end;
								
								sheet.Chakra = (tonumber(sheet.Idade2) or 0) * 25  + (tonumber(sheet.Level) or 0);
								sheet.ChakraTotal = math.floor(tonumber(sheet.Chakra) or 0) + (tonumber(sheet.ArmaChakra) or 0) + (tonumber(sheet.BandanaChakra) or 0) + 
								(tonumber(sheet.ColeteChakra) or 0) + (tonumber(sheet.AcessorioChakra) or 0) + (tonumber(sheet.DChakra) or 0) + (tonumber(sheet.GChakra) or 0) + (tonumber(sheet.CChakra) or 0);			
							end;				
						</event>
					</dataLink>		
	=============================================================
	=============================================================
	=============================================================
	================CONTROLADOR DE REIATSU======================= 				
	=============================================================
	=============================================================
	=============================================================	
					<dataLink fields="{'TaiTotal', 'NinTotal', 'GenTotal', 'DATotal','EleTotal', 'Level',
					'DReiatsu', 'AcessorioReiatsu', 'Transformado', 'Transformado1', 'Transformado2', 'Transformado3', 'Transformado4', 'Transformado5', 'TransformadoTotal', 'ArmaReiatsu'}">
						<event name="onChange">				
							if self.ControlaTransTotal.checked then
								sheet.Reiatsu = (tonumber(sheet.TaiTotal) or 0) + (tonumber(sheet.NinTotal) or 0) + (tonumber(sheet.GenTotal) or 0) + 
								(tonumber(sheet.DATotal) or 0) + (tonumber(sheet.EleTotal) or 0) + ( 10000 * (tonumber(sheet.Level) or 0));
								sheet.ReiatsuTotal = (tonumber(sheet.Reiatsu) or 0) * 10 + (tonumber(sheet.DReiatsu) or 0) + (tonumber(sheet.ArmaReiatsu) or 0) + (tonumber(sheet.TReiatsu) or 0);	
							else
								sheet.Reiatsu = (tonumber(sheet.TaiTotal) or 0) + (tonumber(sheet.NinTotal) or 0) + (tonumber(sheet.GenTotal) or 0) + 
								(tonumber(sheet.DATotal) or 0) + (tonumber(sheet.EleTotal) or 0) + ( 10000 * (tonumber(sheet.Level) or 0));
								sheet.ReiatsuTotal = (tonumber(sheet.Reiatsu) or 0) * 10 + (tonumber(sheet.DReiatsu) or 0) + (tonumber(sheet.ArmaReiatsu) or 0);			
							end;				
						</event>
					</dataLink>	
=============================================================
=============================================================
=============================================================
================CONTROLADOR DE ENERGIA======================= 				
=============================================================
=============================================================
=============================================================	
					<dataLink fields="{'Level', 'DEnergia', 'Energia', 'Transformado', 'Transformado1', 'Transformado2', 'Transformado3', 'Transformado4', 'Transformado5', 'TransformadoTotal', 'TEnergia', 'TIEnergia', 'AcessorioEnergia'}">
						<event name="onChange">				
							if self.ControlaTransTotal.checked then
								sheet.EnergiaTotal = 100 + (tonumber(sheet.Energia) or 0) + (tonumber(sheet.DEnergia) or 0) + (tonumber(sheet.AcessorioEnergia) or 0) + (tonumber(sheet.TEnergia) or 0);	
							else
								sheet.EnergiaTotal = 100 + (tonumber(sheet.Energia) or 0) + (tonumber(sheet.DEnergia) or 0) + (tonumber(sheet.AcessorioEnergia) or 0);			
							end;				
						</event>
					</dataLink>	
				</popup> 
=============================================================
=============================================================
=============================================================
=======================POP KUNAI=============================				
=============================================================
=============================================================
=============================================================				
				<button left="32" top="550" width="105" height="85" opacity="0.1" text="" onClick="self.POPKunai:show();"/>		
				<popup name="POPKunai" visible="false" left="1" top="40" width="550" height="550">			
					<label  width="120" height="40" left="280" top="10" fontColor="Red" fontFamily="Nyala" fontSize="20" text="Danos"/>
					<label  width="120" height="40" left="420" top="10" fontColor="Red" fontFamily="Nyala" fontSize="20" text="Quantia/Limite"/>			
					<image left="10" top="30" width="100" height="130" src="/imagens/kunai.png"/>
					<label  width="120" height="40" left="130" top="60" fontFamily="Nyala" fontSize="20" text="Dano Kunai"/>
					<edit  width="100" height="30" left="260" top="65" enabled="false" field="DanoKunai"/>
					<button left="8" top="40" width="100" height="90" opacity="0.3" onClick="UseKunai();"/>
					<script>
						local function UseKunai()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoTaiTotal = tonumber(sheet.AcertoTaiTotal or 0);  
							if sheet.KunaiQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso de Kunai no Alvo",
								function (rolado)								
									if sheet.AcertoTaiTotal >= rolado.resultado then
										sheet.KunaiQT = tonumber(sheet.KunaiQT or 0) - 1;
										mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://uploads.spiritfanfiction.com/fanfics/capitulos/202005/azuki-hashi-o-ninja-reencarnado-19473036-310520200131.gif]");
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]A Kunai acerta o Alvo Causando[¬ßK4] " .. (sheet.DanoKunai) .. " DE DANO[¬ßK3] restam apenas [¬ßK14][" .. (sheet.KunaiQT) ..  "][¬ßK3] Kunais na Bag");
									else
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]O Oponente esquivou da Kunai");
									end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM KUNAI [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 
					
					<image left="10" top="130" width="100" height="100" src="/imagens/shuriken.png"/>
					<label  width="120" height="40" left="130" top="150" fontFamily="Nyala" fontSize="20" text="Dano Shuriken"/>
					<edit  width="100" height="30" left="260" top="155" enabled="false" field="DanoShuriken"/>
					<button left="8" top="135" width="100" height="90" opacity="0.3" onClick="UseShuriken();"/>
					<script>
						local function UseShuriken()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoTaiTotal = tonumber(sheet.AcertoTaiTotal or 0);  
							if sheet.ShurikenQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso de Shuriken no Alvo",
								function (rolado)								
									if sheet.AcertoTaiTotal >= rolado.resultado then
										sheet.ShurikenQT = tonumber(sheet.ShurikenQT or 0) - 1;
										mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://operator-front-static-cdn.winamax.fr/img/editorial/2019/03/05/shuriken.gif]");
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]A Shuriken acerta o Alvo Causando[¬ßK4] " .. (sheet.DanoShuriken) .. " DE DANO[¬ßK3] restam apenas [¬ßK14][" .. (sheet.ShurikenQT) ..  "][¬ßK3] Shuriken na Bag");
									else
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]O Oponente esquivou da Shuriken");
									end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM SHURIKEN [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 

					<image left="10" top="230" width="100" height="100" src="/imagens/SFuuma.png"/>
					<label  width="120" height="40" left="130" top="250" fontFamily="Nyala" fontSize="20" text="Shuriken Fuuma"/>
					<edit  width="100" height="30" left="260" top="255" enabled="false" field="DanoShurikenFuuma"/>	
					<button left="8" top="230" width="100" height="90" opacity="0.3" onClick="UseShurikenFuuma();"/>
					<script>
						local function UseShurikenFuuma()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoTaiTotal = tonumber(sheet.AcertoTaiTotal or 0);  
							if sheet.SFuumaQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso de Shuriken Fuuma no Alvo",
								function (rolado)								
									if sheet.AcertoTaiTotal >= rolado.resultado then
										sheet.SFuumaQT = tonumber(sheet.SFuumaQT or 0) - 1;
										mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://static.wikia.nocookie.net/a2a592ed-6791-4944-aa63-da2188d824ad]");
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]A Shuriken Fuuma acerta o Alvo Causando[¬ßK4] " .. (sheet.DanoShurikenFuuma) .. " DE DANO[¬ßK3] restam apenas [¬ßK14][" .. (sheet.SFuumaQT) ..  "][¬ßK3] Shuriken Fuuma na Bag");
									else
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]O Oponente esquivou da Shuriken Fuuma");
									end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM SHURIKEN FUUMA [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 

					<image left="10" top="330" width="100" height="100" src="/imagens/Kgigante.png"/>
					<label  width="120" height="40" left="130" top="350" fontFamily="Nyala" fontSize="20" text="Kunai Gigante"/>
					<edit  width="100" height="30" left="260" top="355" enabled="false" field="DanoKunaiGigante"/>
					<button left="8" top="325" width="100" height="105" opacity="0.3" onClick="UseKunaiGigante();"/>	
					<script>
						local function UseKunaiGigante()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoTaiTotal = tonumber(sheet.AcertoTaiTotal or 0);  
							if sheet.KGiganteQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso de Kunai Gigante no Alvo",
								function (rolado)								
									if sheet.AcertoTaiTotal >= rolado.resultado then
										sheet.KGiganteQT = tonumber(sheet.KGiganteQT or 0) - 1;
										mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://pm1.narvii.com/6355/6390d40e5a2515f41d9146fd880c996c1ea23581_hq.jpg]");
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]A Kunai Gigante acerta o Alvo Causando[¬ßK4] " .. (sheet.DanoKunaiGigante) .. " DE DANO[¬ßK3] restam apenas [¬ßK14][" .. (sheet.KGiganteQT) ..  "][¬ßK3] Kunais Gigantes na Bag");
									else
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]O Oponente esquivou da Kunai Gigante");
									end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM KUNAI GIGANTES [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 
					
					<image left="10" top="430" width="100" height="100" src="/imagens/Senbon.png"/>
					<label  width="120" height="40" left="130" top="450" fontFamily="Nyala" fontSize="20" text="Senbon"/>
					<edit  width="100" height="30" left="260" top="455" enabled="false" field="Senbon"/>
					<button left="8" top="435" width="100" height="90" opacity="0.3" onClick="UseSenbon();"/>
					<script>
						local function UseSenbon()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoTaiTotal = tonumber(sheet.AcertoTaiTotal or 0);  
							if sheet.SenbonQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso de Senbo no Alvo",
								function (rolado)								
									if sheet.AcertoTaiTotal >= rolado.resultado then
										sheet.SenbonQT = tonumber(sheet.SenbonQT or 0) - 1;
										mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://pa1.narvii.com/6523/2a9df90eff540d3ce53af300fb7ef60883b7d2a4_hq.gif]");
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]A Senbon acerta o Alvo Causando[¬ßK4] " .. (sheet.Senbon) .. " DE DANO[¬ßK3] restam apenas [¬ßK14][" .. (sheet.SenbonQT) ..  "][¬ßK3] Senbon na Bag");
									else
										mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]O Oponente esquivou da Senbon");
									end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM SENBON [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 
					
					<edit  width="40" height="30" left="430" top="65" enabled="true" type="number" field="KunaiQT"/>
					<edit  width="40" height="30" left="430" top="155" enabled="true" type="number" field="ShurikenQT"/>
					<edit  width="40" height="30" left="430" top="255" enabled="true" type="number" field="SFuumaQT"/>
					<edit  width="40" height="30" left="430" top="355" enabled="true" type="number" field="KGiganteQT"/>	
					<edit  width="40" height="30" left="430" top="455" enabled="true"  type="number" fontColor="red" field="SenbonQT"/>			
					<edit  width="40" height="30" left="485" top="65" enabled="false" type="number" field="KunaiLimite"/>
					<edit  width="40" height="30" left="485" top="155" enabled="false" type="number" field="ShurikenLimite"/>
					<edit  width="40" height="30" left="485" top="255" enabled="false" type="number" field="SFuumaLimite"/>
					<edit  width="40" height="30" left="485" top="355" enabled="false" type="number" field="KGiganteLimite"/>	
					<edit  width="40" height="30" left="485" top="455" enabled="false" type="number" fontColor="blue"  field="SemboLimite"/>
					
					<dataLink fields="{'KunaiQT', 'ShurikenQT', 'SFuumaQT', 'KGiganteQT', 'SenbonQT', 'KunaiLimite', 'ShurikenLimite', 'SFuumaLimite', 'KGiganteLimite', 'SemboLimite',
					'PBombaQT', 'GExplosivoQT', 'VenenoQT', 'BandagemQT', 'BombaFumacaQT', 'PBombaLimite', 'GExplosivoLimite', 'VenenoLimite', 'BandagemLimite', 'BombaFumacaLimite'}">
						<event name="onChange">
							sheet.KunaiQT = (tonumber(sheet.KunaiQT) or 0);
							sheet.ShurikenQT = (tonumber(sheet.ShurikenQT) or 0);
							sheet.SFuumaQT = (tonumber(sheet.SFuumaQT) or 0);
							sheet.KGiganteQT = (tonumber(sheet.KGiganteQT) or 0);
							sheet.SenbonQT = (tonumber(sheet.SenbonQT) or 0);
							sheet.PBombaQT = (tonumber(sheet.PBombaQT) or 0);
							sheet.GExplosivoQT = (tonumber(sheet.GExplosivoQT) or 0);
							sheet.VenenoQT = (tonumber(sheet.VenenoQT) or 0);
							sheet.BandagemQT = (tonumber(sheet.BandagemQT) or 0);
							sheet.BombaFumacaQT = (tonumber(sheet.BombaFumacaQT) or 0);										
						</event>
					</dataLink>	
					
					<dataLink fields="{'KunaiQT', 'ShurikenQT', 'SFuumaQT', 'KGiganteQT', 'SenbonQT', 'KunaiLimite', 'ShurikenLimite', 'SFuumaLimite', 'KGiganteLimite' ,'SemboLimite'}">
						<event name="onChange"> 					
							if sheet.Sequenci1 == true then
								if sheet.KunaiQT ~= nil then
									if sheet.KunaiQT > sheet.KunaiLimite then
										sheet.KunaiQT = tonumber(sheet.KunaiLimite or 0);
									end;
								end;
								
								if sheet.ShurikenQT ~= nil then	
									if sheet.ShurikenQT > sheet.ShurikenLimite then
										sheet.ShurikenQT = tonumber(sheet.ShurikenLimite or 0);
									end;
								end;
								
								if sheet.SFuumaQT ~= nil then	
									if sheet.SFuumaQT > sheet.SFuumaLimite then
										sheet.SFuumaQT = tonumber(sheet.SFuumaLimite or 0);
									end;					
								end;
								
								if sheet.KGiganteQT ~= nil then	
									if sheet.KGiganteQT > sheet.KGiganteLimite then
										sheet.KGiganteQT = tonumber(sheet.KGiganteLimite or 0);
									end;
								end;
								
								if sheet.SenbonQT ~= nil then	
									if sheet.SenbonQT > sheet.SemboLimite then
										sheet.SenbonQT = tonumber(sheet.SemboLimite or 0);
									end;
								end;
							end;
						</event>
					</dataLink>		
					
					<dataLink fields="{'Forca', 'Inteligencia', 'Sabedoria', 'Habilidade', 'Resistencia'}">
						<event name="onChange"> 
							sheet.DanoKunai = (tonumber(sheet.Habilidade) or 0);
							sheet.DanoShuriken = (tonumber(sheet.Habilidade) or 0) * 0.50;
							sheet.DanoShurikenFuuma = (tonumber(sheet.Habilidade) or 0) * 3;
							sheet.DanoKunaiGigante = (tonumber(sheet.Habilidade) or 0) * 2;
							sheet.Senbon = (tonumber(sheet.Habilidade) or 0) * 0.40;					
							sheet.PB = (tonumber(sheet.Inteligencia) or 0);
							sheet.GinsoExplosivo = (tonumber(sheet.Inteligencia) or 0) * 2;	
							sheet.Veneno = (tonumber(sheet.Sabedoria) or 0);
							sheet.Bandagem = (tonumber(sheet.Sabedoria) or 0) /2 + (tonumber(sheet.Inteligencia) or 0) /2 + (tonumber(sheet.Forca) or 0) /2;
							sheet.BF = 0;					
						</event>
					</dataLink>			
				</popup> 				
=============================================================
=============================================================
=============================================================
=======================POP EXPLOSIVO=========================				
=============================================================
=============================================================
=============================================================			
				<button left="140" top="550" width="105" height="85" opacity="0.1" text="" onClick="self.POPPB:show();"/>
				<popup name="POPPB" visible="false" left="1" top="40" width="550" height="550">			
					<label  width="120" height="40" left="280" top="10" fontColor="Red" fontFamily="Nyala" fontSize="20" text="Danos"/>
					<label  width="120" height="40" left="420" top="10" fontColor="Red" fontFamily="Nyala" fontSize="20" text="Quantia/Limite"/>			
					<image left="10" top="30" width="100" height="130" src="/imagens/pb.png"/>
					<label  width="120" height="40" left="130" top="60" fontFamily="Nyala" fontSize="20" text="Papel Bomba"/>
					<edit  width="100" height="30" left="260" top="65" enabled="false" field="PB"/>
					<button left="8" top="40" width="100" height="90" opacity="0.3" onClick="UsePB();"/>
					<script>
						local function UsePB()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal or 0);  
							if sheet.PBombaQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso de Papel Bomba na Area",
									function (rolado)								
											if sheet.AcertoNinTotal >= rolado.resultado then
												sheet.PBombaQT = tonumber(sheet.PBombaQT or 0) - 1;
												mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://i.makeagif.com/media/9-24-2018/ySeYJn.gif]");
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]Executa com sucesso o Papel Bomba explode Causando[¬ßK4] " .. (sheet.PB) .. " DE DANO[¬ßK3] restam apenas [¬ßK14][" .. (sheet.PBombaQT) ..  "][¬ßK3] Papeis Bomba na Bag");
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]N√£o fui possivel executar a explos√£o do papel bomba");
											end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM PAPEL BOMBA [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 
				
					<image left="0" top="120" width="130" height="130" src="/imagens/BE.png"/>
					<label  width="120" height="40" left="130" top="150" fontFamily="Nyala" fontSize="20" text="Ginso Explosivo"/>
					<edit  width="100" height="30" left="260" top="155" enabled="false" field="GinsoExplosivo"/>
					<button left="8" top="135" width="100" height="90" opacity="0.3" onClick="UseGinsoExplosivo();"/>
					<script>
						local function UseGinsoExplosivo()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal or 0);  
							if sheet.GExplosivoQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso do Ginso Explosivo na Area",
									function (rolado)								
											if sheet.AcertoNinTotal >= rolado.resultado then
												sheet.GExplosivoQT = tonumber(sheet.GExplosivoQT or 0) - 1;
												mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://2img.net/h/narutorpghabbogreg.weebly.com/uploads/3/1/1/9/31192459/460968437.png]");
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]Executa com sucesso o Ginso Explosivo Causando[¬ßK4] " .. (sheet.GinsoExplosivo) .. " DE DANO[¬ßK3] restam apenas [¬ßK14][" .. (sheet.GExplosivoQT) ..  "][¬ßK3] Ginsos na Bag");
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]N√£o fui possivel executar a explos√£o do Ginso Explosivo");
											end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM GINSO EXPLOSIVO [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 

					<image left="20" top="240" width="100" height="100" src="/imagens/veneno.png"/>
					<label  width="120" height="40" left="130" top="250" fontFamily="Nyala" fontSize="20" text="Veneno"/>
					<edit  width="100" height="30" left="260" top="255" enabled="false" field="Veneno"/>	
					<button left="8" top="230" width="100" height="90" opacity="0.3" onClick="UseVeneno();"/>
					<script>
						local function UseVeneno()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal or 0);  
							if sheet.VenenoQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso do Veneno no alvo",
									function (rolado)								
											if sheet.AcertoNinTotal >= rolado.resultado then
												sheet.VenenoQT = tonumber(sheet.VenenoQT or 0) - 1;
												mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://2img.net/h/narutorpghabbogreg.weebly.com/uploads/3/1/1/9/31192459/460968437.png]");
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]Acerta o Veneno Causando[¬ßK4] " .. (sheet.Veneno) .. " DE DANO[¬ßK3] restam apenas [¬ßK14][" .. (sheet.VenenoQT) ..  "][¬ßK3] Venenos na Bag");
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]N√£o fui possivel acertar o Veneno no Alvo");
											end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM VENENO [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 			

					<image left="10" top="330" width="100" height="100" src="/imagens/bandagem.png"/>
					<label  width="120" height="40" left="130" top="350" fontFamily="Nyala" fontSize="20" text="Bandagem"/>
					<edit  width="100" height="30" left="260" top="355" enabled="false" field="Bandagem"/>	
					<button left="8" top="325" width="100" height="105" opacity="0.3" onClick="UsoBandagem();"/>	
					<script>
						local function UsoBandagem()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal or 0);  
							if sheet.BandagemQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso de Bandagegem",
									function (rolado)								
											if sheet.AcertoNinTotal >= rolado.resultado then
												sheet.BandagemQT = tonumber(sheet.BandagemQT or 0) - 1;
												mesaDoPersonagem.chat:enviarMensagem("[¬ßI http://blob.firecast.com.br/blobs/QDFLARHA_1718619/Screenshot_2.png]");
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]Executa Chakra sobre a Bandagem de Cura Curando[¬ßK8] " .. (sheet.Bandagem) .. " DE CURA[¬ßK3] restam apenas [¬ßK14][" .. (sheet.BandagemQT) ..  "][¬ßK3] Bandagens na Bag");
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]N√£o fui possivel executar o Chakra sobre a Bandagem cancelando a Execu√ß√£o");
											end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM BANDAGEM [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 				
					
					<image left="10" top="430" width="100" height="100" src="/imagens/bombaf.png"/>
					<label  width="120" height="40" left="130" top="450" fontFamily="Nyala" fontSize="20" text="Bomba Fuma√ßa"/>
					<edit  width="100" height="30" left="260" top="455" enabled="false" field="BF"/>	
					<button left="8" top="435" width="100" height="90" opacity="0.3" onClick="UseBombaFumaca();"/>
					<script>
						local function UseBombaFumaca()      
							local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
							sheet.AcertoTaiTotal = tonumber(sheet.AcertoTaiTotal or 0);  
							if sheet.BombaFumacaQT > 0 then
								mesaDoPersonagem.chat:rolarDados("1d100 ","[¬ßK3]Uso de Bomba de Fuma√ßa",
									function (rolado)								
											if sheet.AcertoTaiTotal >= rolado.resultado then
												sheet.BombaFumacaQT = tonumber(sheet.BombaFumacaQT or 0) - 1;
												mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://2img.net/h/images2.wikia.nocookie.net/__cb20110428013205/naruto/es/images/5/5c/Burbujas_de_humo.jpg]");
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK3]Lan√ßamento de Bomba de Fuma√ßa,[¬ßK3] restam apenas [¬ßK14][" .. (sheet.BombaFumacaQT) ..  "][¬ßK3] Bomba de Fuma√ßa na Bag");
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]N√£o conseguiu acertar a bomba de fuma√ßa proximo oque fez ela explodir longe");
											end;								
								end); 
							else
								mesaDoPersonagem.chat:enviarMensagem("[¬ßK4]VOCE ESTA SEM BOMBA DE FUMA√áA [¬ßI https://pbs.twimg.com/profile_images/1050841400407982082/BZRxaqpV_400x400.jpg]");
							end;
						end; 	   
					</script> 
						
					<edit  width="40" height="30" left="430" top="65" enabled="true" type="number"  field="PBombaQT"/>
					<edit  width="40" height="30" left="430" top="155" enabled="true" type="number"  field="GExplosivoQT"/>
					<edit  width="40" height="30" left="430" top="255" enabled="true" type="number"  field="VenenoQT"/>
					<edit  width="40" height="30" left="430" top="355" enabled="true" type="number"  field="BandagemQT"/>	
					<edit  width="40" height="30" left="430" top="455" enabled="true" type="number"  field="BombaFumacaQT"/>				
					<edit  width="40" height="30" left="485" top="65" enabled="false" type="number"  field="PBombaLimite"/>		
					<edit  width="40" height="30" left="485" top="155" enabled="false" type="number"  field="GExplosivoLimite"/>
					<edit  width="40" height="30" left="485" top="255" enabled="false" type="number"  field="VenenoLimite"/>
					<edit  width="40" height="30" left="485" top="355" enabled="false" type="number"  field="BandagemLimite"/>
					<edit  width="40" height="30" left="485" top="455" enabled="false" type="number"  field="BombaFumacaLimite"/>		

					<dataLink fields="{'PBombaQT', 'GExplosivoQT', 'VenenoQT', 'BandagemQT', 'BombaFumacaQT', 'PBombaLimite', 'GExplosivoLimite', 'VenenoLimite', 'BandagemLimite', 'BombaFumacaLimite'}">
						<event name="onChange"> 
							if sheet.Sequenci1 == true then
								if sheet.PBombaQT ~= nil then
									if sheet.PBombaQT >= sheet.PBombaLimite then
										sheet.PBombaQT = tonumber(sheet.PBombaLimite or 0);
									end;
								end;
								
								if sheet.GExplosivoQT ~= nil then
									if sheet.GExplosivoQT >= sheet.GExplosivoLimite then
										sheet.GExplosivoQT = tonumber(sheet.GExplosivoLimite or 0);
									end;
								end;
								
								if sheet.VenenoQT ~= nil then
									if sheet.VenenoQT >= sheet.VenenoLimite then
										sheet.VenenoQT = tonumber(sheet.VenenoLimite or 0);
									end;					
								end;
								
								if sheet.BandagemQT ~= nil then					
									if sheet.BandagemQT >= sheet.BandagemLimite then
										sheet.BandagemQT = tonumber(sheet.BandagemLimite or 0);
									end;
								end;
								
								if sheet.BombaFumacaQT ~= nil then
									if sheet.BombaFumacaQT >= sheet.BombaFumacaLimite then
										sheet.BombaFumacaQT = tonumber(sheet.BombaFumacaLimite or 0);
									end;
								end;
							end;
						</event>
					</dataLink>				
				</popup> 
				
=============================================================
=============================================================
=============================================================
=======================POP PERGAMINHO1=======================				
=============================================================
=============================================================
=============================================================	
				<button left="385" top="575" width="65" height="80" opacity="0.0" text="" onClick="self.POPPergaminho1:show();"/>					
				<popup name="POPPergaminho1" visible="false" left="1" top="40"	width="450" height="520">			
					<label  width="120" height="40" left="10" top="10" fontFamily="Nyala" fontSize="20" text="Selado :"/>
					<edit  width="310" height="30" left="100" top="15" field="NomePergaminho1"/>
					<textEditor left="10" top="60" width="430" height="280" field="DescriPergaminho1" text="Este √© um textEditor\n\ncom multiplas linhas"/>
					<label  width="120" height="40" left="10" top="350" fontFamily="Nyala" fontSize="20" text="Intensidade"/>
					<edit  width="120" height="30" left="100" top="355"  type="number" enabled="false" field="IntensidadeP1"/>
					<label  width="60" height="40" left="340" top="350" fontFamily="Nyala" fontSize="20" text="Chakra"/>
					<edit  width="40" height="30" left="400" top="355"  type="number" field="CustoPerga1"/>
					<edit  width="40" height="30" left="390" top="380" visible="false" type="number" field="ChakraPerga1"/>
					<label  width="60" height="40" left="230" top="350" fontFamily="Nyala" fontSize="20" text="Tipo"/>
					<comboBox  left="275" top="363" width="50" height="18" field="TipoPergaminho1" items="{'X', 'SS', 'S'}"/>
					<image left="20" top="380" opacity="1.0" width="150" height="150" src="/imagens/Pergamin.png"/>
					<button left="20" top="390" fontSize="20" opacity="0.0" height="120" width="150" text="" fontColor="White" onClick="Pergaminho1()"/>
						<script> 
							local function Pergaminho1() 						   
							local mesaDoPersonagem = rrpg.getMesaDe(sheet); 
							mesaDoPersonagem.chat:rolarDados("1d100", "[¬ßK3]Uso do Pergaminho Grande",
								function (rolado)							
								mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3]".. sheet.DescriPergaminho1);
								local mesa = Firecast.getMesaDe(sheet); 
								local CustoPerga1 = mesa.meuJogador:getBarValue(2);
								CustoPerga1 = CustoPerga1 - (tonumber(sheet.CustoPerga1) or 0);
								mesa.meuJogador:requestSetBarValue(2, CustoPerga1);						
							end);
							end;			
						</script> 
				</popup>
				<label left="545" top="625" width="88" height="80" scale="1.0" horzTextAlign="center" text="Pergaminho Grande"/>	
=============================================================
=============================================================
=============================================================
=======================POP PERGAMINHO2=======================				
=============================================================
=============================================================
=============================================================	
				<button left="455" top="575" width="75" height="80" opacity="0.0" text="" onClick="self.POPPergaminho2:show();"/>		
				<popup name="POPPergaminho2" visible="false" left="1" top="40"	width="450" height="520">			
					<label  width="120" height="40" left="10" top="10" fontFamily="Nyala" fontSize="20" text="Selado :"/>
					<edit  width="310" height="30" left="100" top="15" field="NomePergaminho2"/>
					<textEditor left="10" top="60" width="430" height="280" field="DescriPergaminho2" text="Este √© um textEditor\n\ncom multiplas linhas"/>
					<label  width="120" height="40" left="10" top="350" fontFamily="Nyala" fontSize="20" text="Intensidade"/>
					<edit  width="120" height="30" left="100" top="355" enabled="false"  type="number" field="IntensidadeP2"/>
					<label  width="60" height="40" left="340" top="350" fontFamily="Nyala" fontSize="20" text="Chakra"/>
					<edit  width="40" height="30" left="400" top="355"  type="number" field="CustoPerga2"/>
					<edit  width="40" height="30" left="390" top="380" visible="false" type="number" field="ChakraPerga2"/>
					<label  width="60" height="40" left="230" top="350" fontFamily="Nyala" fontSize="20" text="Tipo"/>
					<comboBox  left="275" top="363" width="50" height="18" field="TipoPergaminho2" items="{'A', 'B', 'C', 'D', 'E'}"/>
					<image left="20" top="380" opacity="1.0" width="150" height="150" src="/imagens/Pergamin.png"/>
					<button left="20" top="390" fontSize="20" opacity="0.0" height="120" width="150" text="" fontColor="White" onClick="Pergaminho2()"/>
						<script> 
							local function Pergaminho2() 								   
							local mesaDoPersonagem = rrpg.getMesaDe(sheet); 				
							mesaDoPersonagem.chat:rolarDados("1d100", "[¬ßK3]Uso do Pergaminho Medio",
							function (rolado)								
								mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK1]".. sheet.DescriPergaminho2);
								local mesa = Firecast.getMesaDe(sheet); 
								local CustoPerga2 = mesa.meuJogador:getBarValue(2);
								CustoPerga2 = CustoPerga2 - (tonumber(sheet.CustoPerga2) or 0);
								mesa.meuJogador:requestSetBarValue(2, CustoPerga2);							
							end);
							end;
						</script> 
				</popup>	
				<label left="450" top="628" width="88" height="80" scale="1.0" text="Selo Grande"/>	
	=============================================================
	=============================================================
	=============================================================
	=======================POP PERGAMINHO3=======================				
	=============================================================
	=============================================================
	=============================================================	
				<button left="545" top="575" width="85" height="80" opacity="0.0" text="" onClick="self.POPPergaminho3:show();"/>	
				<popup name="POPPergaminho3" visible="false" left="1" top="40"	width="450" height="520">			
					<label  width="120" height="40" left="10" top="10" fontFamily="Nyala" fontSize="20" text="Selado :"/>
					<edit  width="310" height="30" left="100" top="15" field="NomePergaminho3"/>
					<textEditor left="10" top="60" width="430" height="280" field="DescriPergaminho3" text="Este √© um textEditor\n\ncom multiplas linhas"/>
					<label  width="120" height="40" left="10" top="350" fontFamily="Nyala" fontSize="20" text="Intensidade"/>
					<edit  width="120" height="30" left="100" top="355" enabled="false"  type="number" field="IntensidadeP3"/>
					<label  width="60" height="40" left="340" top="350" fontFamily="Nyala" fontSize="20" text="Chakra"/>
					<edit  width="40" height="30" left="400" top="355"  type="number" field="CustoPerga3"/>
					<edit  width="40" height="30" left="390" top="380" visible="false" type="number" field="ChakraPerga3"/>
					<label  width="60" height="40" left="230" top="350" fontFamily="Nyala" fontSize="20" text="Tipo"/>
					<comboBox  left="275" top="363" width="50" height="18" field="TipoPergaminho3" items="{'X','SS','S','A','B','C','D','E','Outros'}"/>
					<image left="20" top="380" opacity="1.0" width="150" height="150" src="/imagens/Pergamin.png"/>
					<button left="20" top="390" fontSize="20" opacity="0.0" height="120" width="150" text="" fontColor="White" onClick="Pergaminho3()"/>				
						<script> 
							local function Pergaminho3() 								   
							local mesaDoPersonagem = rrpg.getMesaDe(sheet); 				
							mesaDoPersonagem.chat:rolarDados("1d100", "[¬ßK4]Uso de Selamento",
							function (rolado)								
								mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK1]".. sheet.DescriPergaminho3);
								local mesa = Firecast.getMesaDe(sheet); 
								local CustoPerga3 = mesa.meuJogador:getBarValue(2);
								CustoPerga3 = CustoPerga3 - (tonumber(sheet.CustoPerga3) or 0);
								mesa.meuJogador:requestSetBarValue(2, CustoPerga3);							
							end);
							end;
						</script> 
				</popup>
				<label left="390" top="620" width="85" height="80" scale="1.2" text="Selo"/>	
	=============================================================
	=============================================================
	=============================================================
	=======================POP DIVERSOS==========================				
	=============================================================
	=============================================================
	=============================================================				
				<button left="250" top="550" width="105" height="85" opacity="0.1" text="" onClick="self.POPDiverso:show();"/>
				</scrollBox>
				<popup name="POPDiverso" visible="false" left="1" top="40" width="1130" height="400">		
					<image left="1" top="1" width="1110" height="350" src="/imagens/6.png"/>					
					<edit  width="120" height="18" left="320" top="70" canFocus="false" scale="1.2" horzTextAlign="center" field="NomeEDC"/>
					<edit  width="60" height="22" left="535" top="70" canFocus="false" horzTextAlign="center" type="number" field="EstilodeCombateNivel"/>					
					<edit  width="60" height="18" left="185" top="106" canFocus="false" type="number"  field="DTaijutsu"/>		
					<edit  width="60" height="18" left="185" top="126" canFocus="false" type="number"  field="DNinjutsu"/>
					<edit  width="60" height="18" left="185" top="146" canFocus="false" type="number"  field="DGenjutsu"/>
					<edit  width="60" height="18" left="185" top="166" canFocus="false" type="number"  field="DDA"/>
					<edit  width="60" height="18" left="185" top="186" canFocus="false" type="number"  field="DDE"/>
					<edit  width="60" height="18" left="185" top="206" canFocus="false" type="number"  field="DHP"/>
					<edit  width="60" height="18" left="185" top="226" canFocus="false" type="number"  field="DChakra"/>
					<edit  width="60" height="18" left="185" top="246" canFocus="false" type="number"  field="DReiatsu"/>
					<edit  width="60" height="18" left="185" top="266" canFocus="false" type="number"  field="DOutro"/>			
					<edit  width="60" height="18" left="365" top="106" canFocus="false" type="number"  field="DAcertoTai"/>
					<edit  width="60" height="18" left="365" top="126" canFocus="false" type="number"  field="DAcertoNin"/>
					<edit  width="60" height="18" left="365" top="146" canFocus="false" type="number"  field="DAcertoGen"/>
					<edit  width="60" height="18" left="365" top="166" canFocus="false" type="number"  field="DBloqueio"/>
					<edit  width="60" height="18" left="365" top="186" canFocus="false" type="number"  field="DEsquiva"/>
					<edit  width="60" height="18" left="365" top="206" canFocus="false" type="number"  field="DCriticalTai"/>
					<edit  width="60" height="18" left="365" top="226" canFocus="false" type="number"  field="DCriticalNin"/>
					<edit  width="60" height="18" left="365" top="246" canFocus="false" type="number"  field="DCriticalGen"/>
					<edit  width="60" height="18" left="365" top="266" canFocus="false" type="number"  field="DTurnos"/>					
					<edit  width="60" height="18" left="560" top="106" canFocus="false" type="number"  field="ChakraBiju"/>
					<edit  width="60" height="18" left="560" top="126" canFocus="false" type="number"  field="ChakraBranco"/>
					<edit  width="60" height="18" left="560" top="146" canFocus="false" type="number"  field="ChakraPreto"/>
					<edit  width="60" height="18" left="560" top="166" canFocus="false" type="number"  field="Hadou"/>
					<edit  width="60" height="18" left="560" top="186" canFocus="false" type="number"  field="HadouNegro"/>
					<edit  width="60" height="18" left="560" top="206" canFocus="false" type="number"  field="ChakraNaturalBonus"/>
					<edit  width="60" height="18" left="560" top="226" canFocus="false" type="number"  field="ChakraRoxo"/>
					<edit  width="60" height="18" left="560" top="246" canFocus="false" type="number"  field="DReducao"/>	
					<edit  width="60" height="18" left="560" top="266" canFocus="false" type="number"  field="DEnergia"/>	
					
					<edit width="120" height="18" left="655" top="133" hitTest="false" horzTextAlign="center" fontColor="Violet" canFocus="false" field="ChakraNatural"/>	
					<edit width="120" height="18" left="655" top="70" hitTest="true" horzTextAlign="center" visible="false" fontColor="green" field="DRegeneradorEnergia"/>
					<edit  width="60" height="13" left="720" top="162" fontSize="9" horzTextAlign="center" fontColor="red" canFocus="false" type="number"  field="DIntensidade"/>	
					<edit  width="60" height="13" left="720" top="177" fontSize="9" horzTextAlign="center" fontColor="cyan" canFocus="false" type="number"  field="DCustoReal"/>	
					<edit  width="60" height="13" left="720" top="192" fontSize="9" horzTextAlign="center" fontColor="green" canFocus="false" type="number"  field="DEnergiaCusto"/>	
					<edit  width="60" height="13" left="720" top="207" fontSize="9" horzTextAlign="center" canFocus="false" field="DTipo"/>					
					<button left="675" top="223" fontSize="20" opacity="0.5" height="65" width="70" fontColor="White">
					<event name="onClick"> 								
										<![CDATA[							
										local mesaDoPersonagem = rrpg.getMesaDe(sheet);									
										sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal) or 0;	
										
										mesaDoPersonagem.chat:rolarDados("1d100", "[¬ßK3]Tentativa da Habilidade do Estilo de Combate",
										function (rolado)
											if sheet.AcertoNinTotal >= rolado.resultado then
												mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3]".. sheet.DEDC);
												
												if sheet.DTipo == 'Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'DanoArmado'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'M/Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'M/Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'M/Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
															mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'M/Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'M/DA'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Nulo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Kunai' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Shuriken' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Shuriken Fuuma' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Kunai Gigante' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Senbon' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Papel Bomba' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Ginso Explosivo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Veneno' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if sheet.DTipo == 'Bandagem' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (sheet.DIntensidade * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. sheet.DIntensidade .. "[¬ßK3] ¬ª");
													end;
												end;

												if 	self.edtGM21.checked then
													if sheet.TipoOutro == 'Chakra' then
														sheet.OutrosAtual = (tonumber(sheet.ChakraAtual) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDChakra = sheet.OutrosAtual;
														sheet.ChakraAtual = sheet.OutrosAtual;
													end;
												
													if sheet.TipoOutro == 'Outros' then
														sheet.OutrosAtual = (tonumber(sheet.BDOutro) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDOutro = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'Reiatsu' then
														sheet.OutrosAtual = (tonumber(sheet.BDReiatsu) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDReiatsu = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraBiju' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraBiju) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDChakraBiju = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraBranco' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraBranco) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDChakraBranco = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraPreto' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraPreto) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDChakraPreto = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'Hadou' then
														sheet.OutrosAtual = (tonumber(sheet.BDHadou) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDHadou = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'HadouNegro' then
														sheet.OutrosAtual = (tonumber(sheet.BDHadouNegro) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDHadouNegro = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraNatural' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraNatural) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDChakraNatural = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraRoxo' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraRoxo) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.BDChakraRoxo = (tonumber(sheet.OutrosAtual) or 0);
													end;		
												else
													if self.edtGM21.checked then
														sheet.ChakraAtual = sheet.ChakraPlayerEDCEDC;
													else
														local mesa = Firecast.getMesaDe(sheet);
														local DChakraPlayer = mesa.meuJogador:getBarValue(2);
														sheet.DChakraPlayer = mesa.meuJogador:getBarValue(2);
														sheet.DChakraPlayer = (tonumber(sheet.DChakraPlayer) or 0) - (tonumber(sheet.DCustoReal) or 0);
														sheet.ChakraAtual = sheet.DChakraPlayer;
														mesa.meuJogador:requestSetBarValue(2, sheet.DChakraPlayer);	
													end;
												end;
												
												if sheet.DEnergiaCusto > 0 then
														if self.edtGM21.checked == true then
															local mesa = Firecast.getMesaDe(sheet);
															sheet.EnergiaAtual = (tonumber(sheet.EnergiaAtual) or 0) - (tonumber(sheet.DEnergiaCusto) or 0);
														else			
															local mesa = Firecast.getMesaDe(sheet);
															local DEnergiaPlayer = mesa.meuJogador:getBarValue(4);
															sheet.DEnergiaPlayer = mesa.meuJogador:getBarValue(4);
															sheet.DEnergiaPlayer = (tonumber(sheet.DEnergiaPlayer) or 0) - (tonumber(sheet.DEnergiaCusto) or 0);
															sheet.EnergiaAtual = sheet.DEnergiaPlayer;
															mesa.meuJogador:requestSetBarValue(4, sheet.DEnergiaPlayer);
														end;
													end;
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]TURURU, Me fudi [¬ßI http://pa1.narvii.com/6742/00f3ec4e74b0e4abb78512441228015db2d794a9_00.gif]");
											end;
										end);	
										]]>
									</event>
								</button>
					
					<image left="675" top="220" width="70" height="70" src="/imagens/Jutsu.png"/>
					
					<dataLink fields="{'ChakraTotal', 'ChakraNaturalBonus'}">
						<event name="onChange">                
							if sheet.Sequenci1 == true then	   
							   sheet.ChakraNatural = (tonumber(sheet.ChakraTotal / 2) or 0) + (tonumber(sheet.ChakraNaturalBonus) or 0);
							end;
						</event>
					</dataLink>	
					<textEditor left="800" top="106" width="245" canFocus="false" height="170" field="DEDC"/>
					<button left="975" top="235" scale="1.0" width="70" height="40" opacity="1.0" visible="true" text="Passiva">
						<event name="onClick"> 
							local minhaMesa = Firecast.getRoomOf(sheet);
							local chat = minhaMesa.chat;  
							chat:enviarMensagem(sheet.DEDC);
						</event>
					</button>
				</popup>
				
=============================================================
=============================================================
=============================================================
===================POP ESTILO DE COMBATE=====================		
=============================================================
=============================================================
=============================================================	
				
				<image left="615" top="510" width="215" height="200"  editable="false" src="/imagens/board.png"/>	
	
				<button left="650" top="570" width="146" height="100" opacity="0.0" text="" onClick="self.EstilodeCombate:show();"/>
				<popup name="EstilodeCombate" visible="false" left="1" top="40"	width="1000" height="620">		
					<scrollBox align="client">	
						<button text="Novo Estilo de combate" width="125" height="40" left="10" top="10">
							<event name="onClick">                          
								self.rclEstiloCombate:append();
							</event>
						</button>
						<recordList name="rclEstiloCombate" field="ListaEstiloCombate" templateForm="frmListaEstiloCombate"	width="880" height="570" left="10" top="60" selectable="true">                              
							<event name="onSelect">  							
								node = self.rclEstiloCombate.selectedNode; 
																
								self.dscEstiloCombate.node = node;                       
								self.dscEstiloCombate.visible = (node ~= nil);	

								if self.dscEstiloCombate.visible == true then
									node.ATIVOEDC = node.ATIVOEDC or "false"
									node.NomeEDC = node.NomeEDC or "";
									node.LevelEDC = node.LevelEDC or 1;								
									node.TaiEDC = node.TaiEDC or '0';
									node.NinEDC = node.NinEDC or '0';
									node.GenEDC = node.GenEDC or '0';
									node.DAEDC = node.DAEDC or '0';
									node.EleEDC = node.EleEDC or '0';
									node.HPEDC = node.HPEDC or '0';
									node.ChakraEDC = node.ChakraEDC or '0';
									node.ReiatsuEDC = node.ReiatsuEDC or '0';
									node.OutroEDC = node.OutroEDC or '0';								
									node.ATEDC = node.ATEDC or '0';
									node.ANEDC = node.ANEDC or '0';
									node.AGEDC = node.AGEDC or '0';								
									node.BloqEDC = node.BloqEDC or '0';
									node.EsqEDC = node.EsqEDC or '0';								
									node.CRTaiEDC = node.CRTaiEDC or '0';
									node.CRNinEDC = node.CRNinEDC or '0';
									node.CRGenEDC = node.CRGenEDC or '0';								
									node.TurnosEDC = node.TurnosEDC or '0';
									node.ChakraBijuEDC = node.ChakraBijuEDC or '0';
									node.ChakraBrancoEDC = node.ChakraBrancoEDC or '0';								
									node.ChakraPretoEDC = node.ChakraPretoEDC or '0';
									node.HadouEDC = node.HadouEDC or '0';
									node.HadouNegroEDC = node.HadouNegroEDC or '0';
									node.EnergiaEDC = node.EnergiaEDC or '0';
									node.ChakraNaturalEDC = node.ChakraNaturalEDC or '0';
									node.ChakraRoxoEDC = node.ChakraRoxoEDC or '0';
									node.ReducaoEDC = node.ReducaoEDC or '0';
									node.ChakraNaturalTotalEDC = node.ChakraNaturalTotalEDC or '0';
									node.RegeneradorEnergiaEDC = tonumber(node.RegeneradorEnergiaEDC or '10');
									node.DEDC = node.DEDC or ' ';
									
									node.DanoEDC = (tonumber(node.DanoEDC) or 0);
									node.DanoVerdadeiroEDC = (tonumber(node.DanoVerdadeiroEDC) or 0);
									node.Tipo1EDC = (node.Tipo1EDC or "Nulo");
									node.Tipo2EDC = (node.Tipo2EDC or "Nulo");
									node.CustoEDC = (tonumber(node.CustoEDC) or 0);
									node.CustoRealEDC = (tonumber(node.CustoRealEDC) or 0);
									node.EnergiaCustoEDC = (tonumber(node.EnergiaCustoEDC) or 0);
									node.IntensidadeEDC = (tonumber(node.IntensidadeEDC) or 0);	

									FazCalculoTipoLista1Intensidade1EDC();
									FazCalculoTipoLista1Intensidade2EDC();										
									FazCalculodoCustoReal1EDC();
									FazCalculodoCustoEnergia1EDC();
									FazCalculoTipoListaIntensidadeTotal1EDC();
									
									if node.NomeEDC ~= nil then
										if node.NomeEDC == sheet.NomeEDC then
											node.NomeEdcFinal = node.PrefixoEDC .. node.NomeEDC;
										else
											node.NomeEdcFinal = "" .. node.NomeEDC;
										end;
									end;
								end;
							</event>
						</recordList>       
						<dataScopeBox name="dscEstiloCombate" visible="false" width="820" height="620" left="200" top="1"> 	
							<scrollBox align="client">	
								<image left="1" top="1" width="800" height="600" editable="false" src="/imagens/13.png"/>
								<edit left="100" top="7" visible="false" width="160" height="25" field="PrefixoEDC"/>								
								<edit left="200" top="7" width="160" height="25" field="NomeEDC"/>
								<button width="80" height="25" left="500" top="7" fontColor="red" text="DELETAR" onClick="NDB.deleteNode(self.dscEstiloCombate.node);" />	
								<edit left="440" top="7" width="40" height="25" field="LevelEDC"/>					
								<edit left="140" top="37" width="55" height="18" field="TaiEDC"/>
								<edit left="140" top="57" width="55" height="18" field="NinEDC"/>
								<edit left="140" top="77" width="55" height="18" field="GenEDC"/>
								<edit left="140" top="97" width="55" height="18" field="DAEDC"/>
								<edit left="140" top="117" width="55" height="18" field="EleEDC"/>
								<edit left="140" top="137" width="55" height="18" field="HPEDC"/>
								<edit left="140" top="157" width="55" height="18" field="ChakraEDC"/>
								<edit left="140" top="177" width="55" height="18" field="ReiatsuEDC"/>
								<edit left="140" top="197" width="55" height="18" field="OutroEDC"/>					
								<edit left="320" top="37" width="55" height="18" field="ATEDC"/>
								<edit left="320" top="57" width="55" height="18" field="ANEDC"/>
								<edit left="320" top="77" width="55" height="18" field="AGEDC"/>
								<edit left="320" top="97" width="55" height="18" field="BloqEDC"/>
								<edit left="320" top="117" width="55" height="18" field="EsqEDC"/>
								<edit left="320" top="137" width="55" height="18" field="CRTaiEDC"/>
								<edit left="320" top="157" width="55" height="18" field="CRNinEDC"/>
								<edit left="320" top="177" width="55" height="18" field="CRGenEDC"/>
								<edit left="320" top="197" width="55" height="18" field="TurnosEDC"/>					
								<edit left="500" top="37" width="55" height="18" field="ChakraBijuEDC"/>
								<edit left="500" top="57" width="55" height="18" field="ChakraBrancoEDC"/>
								<edit left="500" top="77" width="55" height="18" field="ChakraPretoEDC"/>
								<edit left="500" top="97" width="55" height="18" field="HadouEDC"/>
								<edit left="500" top="117" width="55" height="18" field="HadouNegroEDC"/>
								<edit left="500" top="137" width="55" height="18" field="ChakraNaturalEDC"/>
								<edit left="500" top="157" width="55" height="18" field="ChakraRoxoEDC"/>
								<edit left="500" top="177" width="55" height="18" field="ReducaoEDC"/>
								<edit left="500" top="197" width="55" height="18" field="EnergiaEDC"/>					
								<edit left="600" top="70" width="120" height="18" fontColor="Purple" horzTextAlign="center" canFocus="false" field="ChakraNaturalTotalEDC"/>
								<edit width="180" height="18" left="595" top="197" hitTest="true" horzTextAlign="center" fontColor="green" field="RegeneradorEnergiaEDC"/>
								<button left="20" top="450" height="30" width="180" text="Passiva Estilo de Combate">
									<event name="onClick"> 
										node = self.rclEstiloCombate.selectedNode;
										
										local minhaMesa = Firecast.getRoomOf(sheet);
										local chat = minhaMesa.chat;  
										chat:enviarMensagem("[¬ßK3] Passiva do Estilo de combate : " .. node.DEDC);
									</event>
								</button>
								
								<label left="460" top="270" width="55" height="20" fontSize="16" text="Dano"/>
								<edit left="505" top="270" width="70" height="20" fontSize="12" field="DanoEDC"/>								
								<label left="580" top="270" width="140" height="20" fontSize="16" text="Dano Verdadeiro"/>
								<edit left="705" top="270" width="70" height="20" fontSize="12" canFocus="false" field="DanoVerdadeiroEDC"/>								
								<label left="460" top="300" width="55" height="20" fontSize="14" text="Tipo 1"/>
								<comboBox left="505" top="300" width="100" height="18" field="Tipo1EDC" visible="true" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label left="610" top="300" width="55" height="20" fontSize="14" text="Tipo 2"/>
								<comboBox left="655" top="300" width="100" height="18" field="Tipo2EDC" visible="true" items="{'Nulo', 'Tai', 'Nin', 'Gen', 'Elemental', 'DanoArmado', 'Defensivo', 'Selamento', 'Outros','M/Tai', 'M/Nin', 'M/Gen', 'M/Elemental', 'M/DA', 'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Senbon', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem'}"/>
								<label left="460" top="330" width="55" height="20" fontSize="16" text="Custo"/>
								<edit left="505" top="330" width="70" height="20" fontSize="12" field="CustoEDC"/>								
								<label left="580" top="330" width="140" height="20" fontSize="16" text="Custo Real"/>
								<edit left="665" top="330" width="70" height="20" fontSize="12" canFocus="false" field="CustoRealEDC"/>								
								<label left="460" top="360" width="55" height="22" fontSize="16" text="Energia"/>
								<edit left="520" top="360" width="70" height="20" fontSize="12" field="EnergiaCustoEDC"/>															
								<label left="600" top="360" width="80" height="22" fontColor="red" fontSize="14" text="Intensidade"/>
								<edit left="680" top="360" width="70" height="20" canFocus="false" fontColor="red" fontSize="12" field="IntensidadeEDC"/>
								<label left="460" top="390" width="55" height="22" fontSize="16" text="Level"/>
								<edit left="520" top="390" width="40" height="20" canFocus="false" fontSize="12" field="LevelEDC"/>										
								<textEditor left="20" top="265" width="430" height="180" field="DEDC"/>	
								<image left="350" top="450" width="100" height="100" src="/imagens/Jutsu.png"/>
								<button left="350" top="450" fontSize="20" opacity="0.0" height="100" width="100" text="Usar" fontColor="White">
									<event name="onClick"> 								
										<![CDATA[
										node = self.rclEstiloCombate.selectedNode;							
										local mesaDoPersonagem = rrpg.getMesaDe(sheet);									
										sheet.AcertoNinTotal = tonumber(sheet.AcertoNinTotal) or 0;	
										
										mesaDoPersonagem.chat:rolarDados("1d100", "[¬ßK3]Tentativa da Habilidade do Estilo de Combate",
										function (rolado)											
											if sheet.AcertoNinTotal >= rolado.resultado then
												mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3]".. node.DEDC);
												
												if node.Tipo1EDC == 'Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'DanoArmado'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'M/Tai'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'M/Nin'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'M/Gen'then
													if sheet.CRGenTotal >= rolado.resultado then
															mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'M/Elemental'then
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'M/DA'then
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Nulo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Kunai' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Shuriken' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Shuriken Fuuma' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Kunai Gigante' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Senbon' then													
													if sheet.CRTaiTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Papel Bomba' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Ginso Explosivo' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Veneno' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;
												
												if node.Tipo1EDC == 'Bandagem' then													
													if sheet.CRNinTotal >= rolado.resultado then
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]CRITICAL :awyeah: ¬´ [¬ßK4,0]" .. (node.IntensidadeEDC * 2) .. "[¬ßK3] ¬ª");
													else
														mesaDoPersonagem.chat:enviarMensagem("[¬ßK3,0]Causando ¬´ [¬ßK4,0]" .. node.IntensidadeEDC .. "[¬ßK3] ¬ª");
													end;
												end;

												if 	self.edtGM21.checked then
													if sheet.TipoOutro == 'Chakra' then
														sheet.OutrosAtual = (tonumber(sheet.ChakraAtual) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDChakra = sheet.OutrosAtual;
														sheet.ChakraAtual = sheet.OutrosAtual;
													end;
												
													if sheet.TipoOutro == 'Outros' then
														sheet.OutrosAtual = (tonumber(sheet.BDOutro) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDOutro = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'Reiatsu' then
														sheet.OutrosAtual = (tonumber(sheet.BDReiatsu) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDReiatsu = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraBiju' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraBiju) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDChakraBiju = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraBranco' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraBranco) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDChakraBranco = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraPreto' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraPreto) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDChakraPreto = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'Hadou' then
														sheet.OutrosAtual = (tonumber(sheet.BDHadou) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDHadou = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'HadouNegro' then
														sheet.OutrosAtual = (tonumber(sheet.BDHadouNegro) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDHadouNegro = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraNatural' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraNatural) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDChakraNatural = (tonumber(sheet.OutrosAtual) or 0);
													end;
													
													if sheet.TipoOutro == 'ChakraRoxo' then
														sheet.OutrosAtual = (tonumber(sheet.BDChakraRoxo) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.BDChakraRoxo = (tonumber(sheet.OutrosAtual) or 0);
													end;		
												else
													if self.edtGM21.checked then
														sheet.ChakraAtual = node.ChakraPlayerEDCEDC;
													else
														local mesa = Firecast.getMesaDe(sheet);
														local ChakraPlayerEDC = mesa.meuJogador:getBarValue(2);
														node.ChakraPlayerEDC = mesa.meuJogador:getBarValue(2);
														node.ChakraPlayerEDC = (tonumber(node.ChakraPlayerEDC) or 0) - (tonumber(node.CustoEDC) or 0);
														sheet.ChakraAtual = node.ChakraPlayerEDC;
														mesa.meuJogador:requestSetBarValue(2, node.ChakraPlayerEDC);	
													end;
												end;
												
												if node.EnergiaCustoEDC > 0 then
														if self.edtGM21.checked == true then
															local mesa = Firecast.getMesaDe(sheet);
															sheet.EnergiaAtual = (tonumber(sheet.EnergiaAtual) or 0) - (tonumber(node.EnergiaCustoEDC) or 0);
														else			
															local mesa = Firecast.getMesaDe(sheet);
															local EnergiaPlayerEDC = mesa.meuJogador:getBarValue(4);
															node.EnergiaPlayerEDC = mesa.meuJogador:getBarValue(4);
															node.EnergiaPlayerEDC = (tonumber(node.EnergiaPlayerEDC) or 0) - (tonumber(node.EnergiaCustoEDC) or 0);
															sheet.EnergiaAtual = node.EnergiaPlayerEDC;
															mesa.meuJogador:requestSetBarValue(4, node.EnergiaPlayerEDC);
														end;
													end;
											else
												mesaDoPersonagem.chat:enviarMensagem("[¬ßK4,0]TURURU, Me fudi [¬ßI http://pa1.narvii.com/6742/00f3ec4e74b0e4abb78512441228015db2d794a9_00.gif]");
											end;
										end);	
										]]>
									</event>
								</button>
								
								<dataLink fields="{'Tipo1EDC', 'Tipo2EDC', 'DanoEDC', 'DanoVerdadeiroEDC', 'CustoEDC', 'LevelEDC'}">
									<event name="onChange">
										FazCalculoTipoLista1Intensidade1EDC();
										FazCalculoTipoLista1Intensidade2EDC();	
										FazCalculoTipoListaIntensidadeTotal1EDC();										
										FazCalculodoCustoReal1EDC();
										FazCalculodoCustoEnergia1EDC();
										FazCalculoTipoListaIntensidadeTotal1EDC();
									</event>
								</dataLink>
								
								<label left="30" top="490" width="230" height="40" fontFamily="Nyala" fontSize="18" text="Fortifica√ß√£o de jutsu 3D10 e 1d20"/>  
								<edit  left="30" top="530" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa1d10"/>
								<edit  left="90" top="530" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa2d10"/>
								<edit  left="150" top="530" width="50" height="30" type="number" min="1" max="9" enabled="false" visible="true" horzTextAlign="center" field="Upa3d10"/>
								<rectangle left="210" top="530" width="50" height="30" color="black" strokeColor="red" strokeSize="3" />						
								<edit left="210" top="530" width="50" height="30" type="number" min="1" max="18" enabled="false" visible="true" transparent="true" horzTextAlign="center" field="Upa1d20"/>											
								<button name="btnUpaEDC" left="30" top="570" width="230" height="30" fontFamily="Nyala" fontSize="18" text="Treinar" >
									<event name="onClick"> 	
										TreinaEDC();
									</event>
								</button>
								
								<edit left="560" top="197" width="55" height="18" visible="false" field="ATIVOEDC"/>	
								<button name="AtivaEDC" left="560" top="120" height="30" width="240" text="Ativar">
									<event name="onClick">
										node = self.rclEstiloCombate.selectedNode;
										self.dscEstiloCombate.node = node;									
										
										if node.ATIVOEDC == "true" then
											node.ATIVOEDC = "false";
											self.AtivaEDC.fontColor = "white"
											self.AtivaEDC.text = "Ativar"
											
										else 
											node.ATIVOEDC = "true";
											self.AtivaEDC.fontColor = "red"
											self.AtivaEDC.text = "ATIVO"
											
											SelecionaEDC();
										end;											
									</event>
								</button>
								
								==========================================
								==== Funcuinalidade Estiolo de combate====
								==========================================
								<dataLink fields="{'ATIVOEDC', 'NomeEDC'}">
									<event name="onChange">
										node = self.rclEstiloCombate.selectedNode;
										self.dscEstiloCombate.node = node;									
										
										if self.dscEstiloCombate.visible == true then
										node.PrefixoEDC = "(Ativo)";
											if node.ATIVOEDC == "true" then
												if node.NomeEDC ~= nil then
													node.NomeEdcFinal = node.PrefixoEDC .. node.NomeEDC;
												end;
											elseif node.ATIVOEDC == "false" then
												if node.NomeEDC ~= nil then
													node.NomeEdcFinal = "" .. node.NomeEDC;
												end;
											end;
										end;
									</event>
								</dataLink>
								
								<dataLink fields="{'DanoEDC', 'LevelEDC'}">
									<event name="onChange">
										node = self.rclEstiloCombate.selectedNode;
										self.dscEstiloCombate.node = node;
										
										if node.DanoEDC ~= nil then 
											if node.LevelEDC ~= nil then
												node.DanoVerdadeiroEDC = (tonumber(node.DanoEDC) or 0) * 2^tonumber(node.LevelEDC - 1) or 1;
											end;
										end;
									</event>
								</dataLink>
								
								<dataLink fields="{'DanoEDC', 'LevelEDC', 'Dificuldade1d10EDC', 'Dificuldade2d10EDC', 'Dificuldade3d10EDC', 'Dificuldade1d20EDC', 'Upa1d10', 'Upa2d10', 'Upa3d10', 'Upa1d20'}">
									<event name="onChange">
										node = self.rclEstiloCombate.selectedNode;
										self.dscEstiloCombate.node = node;
										
										VerificaIntermediariosParaTreinoEDC();
										ImpoeLimitenoTreinoEDC();
										MonstraProPlayerADificuldadeTreinoEDC();
									</event>
								</dataLink>													
							</scrollBox>	
						</dataScopeBox>
					</scrollBox>	
				</popup>	
				
				
			</tab>			
	=============================================================
	=============================================================
	=============================================================
	=================================ABA 2======================= 				
	=============================================================
	=============================================================
	=============================================================			
			<tab title="Chances">
				<scrollBox align="client">
					<image left="1" top="1" width="1000" height="700" src="/imagens/2.png"/>
					<edit left="230" top="45" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="AcertoTaiTotal"/>
					<edit left="230" top="70" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="AcertoNinTotal"/>
					<edit left="230" top="95" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="AcertoGenTotal"/>
					<edit left="230" top="145" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="EsquivaTotal"/>
					<edit left="230" top="170" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="BloqueioTotal"/>
					<edit left="440	" top="170" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" field="BloqueioReducaoForca"/>
					<edit left="230" top="220" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="CRTaiTotal"/>
					<edit left="230" top="245" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="CRNinTotal"/>
					<edit left="230" top="270" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="CRGenTotal"/>
					<edit left="230" top="320" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="TurnoTotal"/>
					<edit left="230" top="370" width="75" height="18" enabled="true" horzTextAlign="center" fontColor="#00FFFF" type="number" field="Atletismo"/>
					<edit left="230" top="395" width="75" height="18" enabled="true" horzTextAlign="center" fontColor="#00FFFF" type="number" field="Raciocinio"/>
					<edit left="230" top="420" width="75" height="18" enabled="true" horzTextAlign="center" fontColor="#00FFFF" type="number" field="Percepcao"/>
					<edit left="230" top="445" width="75" height="18" enabled="true" horzTextAlign="center" fontColor="#00FFFF" type="number" field="Furtividade"/>			 
					<edit left="230" top="470" width="75"  height="18" enabled="true" horzTextAlign="center" fontColor="#00FFFF" type="number" field="Vigor"/> 
					<edit left="430" top="370" width="75" height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="GAtletismo"/>
					<edit left="430" top="395" width="75" height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="GRaciocinio"/>
					<edit left="430" top="420" width="75" height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="GPercepcao"/>
					<edit left="430" top="445" width="75" height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="GFurtividade"/>
					<edit left="430" top="470" width="75"  height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="GVigor"/>
					<edit left="330" top="370" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="AtletismoTotal"/>
					<edit left="330" top="395" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="RaciocinioTotal"/>
					<edit left="330" top="420" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="PercepcaoTotal"/>
					<edit left="330" top="445" width="75" height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="FurtividadeTotal"/>
					<edit left="330" top="470" width="75"  height="18" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="VigorTotal"/>
					<edit left="530" top="370" width="75" height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="SAtletismo"/>
					<edit left="530" top="395" width="75" height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="SRaciocinio"/>
					<edit left="530" top="420" width="75" height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="SPercepcao"/>
					<edit left="530" top="445" width="75" height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="SFurtividade"/>
					<edit left="530" top="470" width="75"  height="18" visible="false" enabled="false" horzTextAlign="center" fontColor="#00FFFF" type="number" field="SVigor"/>
					<edit left="330" top="45" width="85" height="18" enabled="false" visible="false" type="number" field="GAcertoTai"/>
					<edit left="330" top="70" width="85" height="18" enabled="false" visible="false"   type="number" field="GAcertoNin"/>
					<edit left="330" top="95" width="85" height="18" enabled="false" visible="false"   type="number" field="GAcertoGen"/>
					<edit left="330" top="145" width="85" height="18" enabled="false" visible="false"  type="number" field="GEsquiva"/>
					<edit left="330" top="170" width="85" height="18" enabled="false" visible="false"  type="number" field="GBloqueio"/>
					<edit left="330" top="220" width="85" height="18" enabled="false" visible="false"  type="number" field="GCRTai"/>
					<edit left="330" top="245" width="85" height="18" enabled="false" visible="false"  type="number" field="GCRNin"/>
					<edit left="330" top="270" width="85" height="18" enabled="false" visible="false"  type="number" field="GCRGen"/>
					<edit left="330" top="320" width="85" height="18" enabled="false" visible="false"  type="number" field="GTurno"/>
					<button left="430" top="370" width="85" height="20"  fontSize="12" fontColor="#00FFFF" text="Atletismo" onClick="RolarTesteAtletismo()"/>
						<script>
							local function RolarTesteAtletismo()      
								local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
								sheet.AtletismoTotal = sheet.AtletismoTotal or 0;                        
								mesaDoPersonagem.chat:rolarDados("1d20 + " .. sheet.AtletismoTotal, "[¬ßK2]Teste de Atletismo"); 
							end; 	   
						</script> 
					
					<button left="430" top="395" width="85" height="20"  fontSize="12" fontColor="#00FFFF" text="Raciocinio" onClick="RolarTesteSabedoria()"/>
						<script>
							local function RolarTesteSabedoria()      
								local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
								sheet.RaciocinioTotal = sheet.RaciocinioTotal or 0;                        
								mesaDoPersonagem.chat:rolarDados("1d20 + " .. sheet.RaciocinioTotal, "[¬ßK2]Teste de Raciocinio"); 
							end; 	   
						</script>

					<button left="430" top="420" width="85" height="20"  fontSize="12" fontColor="#00FFFF" text="Percep√ß√£o" onClick="RolarTestePercepcao()"/>
						<script>
							local function RolarTestePercepcao()      
								local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
								sheet.PercepcaoTotal = sheet.PercepcaoTotal or 0;                        
								mesaDoPersonagem.chat:rolarDados("1d20 + " .. sheet.PercepcaoTotal, "[¬ßK2]Teste de Percepcao"); 
							end; 	   
						</script> 

					<button left="430" top="445" width="85" height="20"  fontSize="12" fontColor="#00FFFF" text="Furtividade" onClick="RolarTesteAcrobacia()"/>
						<script>
							local function RolarTesteAcrobacia()      
								local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
								sheet.FurtividadeTotal = sheet.FurtividadeTotal or 0;                        
								mesaDoPersonagem.chat:rolarDados("1d20 + " .. sheet.FurtividadeTotal, "[¬ßK2]Teste de Furtividade"); 
							end; 	   
						</script> 

					<button left="430" top="470" width="85" height="20"  fontSize="12" fontColor="#00FFFF" text="Vigor" onClick="RolarTesteVigor()"/>
						<script>
							local function RolarTesteVigor()      
								local mesaDoPersonagem = Firecast.getMesaDe(sheet);      
								sheet.VigorTotal = sheet.VigorTotal or 0;                      
								mesaDoPersonagem.chat:rolarDados("1d20 + " .. sheet.VigorTotal, "[¬ßK2]Teste de Vigor"); 
							end; 	   
						</script> 			
					 
					<dataLink fields="{'GraduacaoTreino', 'Forca', 'Inteligencia', 'Sabedoria', 'Habilidade', 'Resistencia', 'Atletismo', 'Raciocinio', 'Percepcao', 'Furtividade', 'Vigor', 'Cla'}">
						<event name="onChange">						
							if sheet.Sequenci1 == true then	
								if sheet.Atletismo == nil then
									sheet.Atletismo = 0;
								end;	
								
								if sheet.Raciocinio == nil then
									sheet.Raciocinio = 0;
								end;
								
								if sheet.Percepcao == nil then
									sheet.Percepcao = 0;
								end;	
								
								if sheet.Furtividade == nil then
									sheet.Furtividade = 0;
								end;
								
								if sheet.Vigor == nil then
									sheet.Vigor = 0;
								end;		
									
								if sheet.SAtletismo == nil then
									sheet.SAtletismo = 0;
								end;	
								
								if sheet.SRaciocinio == nil then
									sheet.SRaciocinio = 0;
								end;
								
								if sheet.SPercepcao == nil then
									sheet.SPercepcao = 0;
								end;	
								
								if sheet.SFurtividade == nil then
									sheet.SFurtividade = 0;
								end;	
								
								if sheet.SVigor == nil then
									sheet.SVigor = 0;
								end;
													
								if sheet.GAtletismo == nil then
									sheet.GAtletismo = 0;
								end;	
								
								if sheet.GRaciocinio == nil then
									sheet.GRaciocinio = 0;
								end;	
								
								if sheet.GPercepcao == nil then
									sheet.GPercepcao = 0;
								end;
								
								if sheet.GFurtividade == nil then
									sheet.GFurtividade = 0;
								end;	
								
								if sheet.GVigor == nil then
									sheet.GVigor = 0;
								end;
								
								if sheet.AtletismoTotal == nil then
									sheet.AtletismoTotal = 0;
								end;
								
								if sheet.RaciocinioTotal == nil then
									sheet.RaciocinioTotal = 0;
								end;	
								
								if sheet.PercepcaoTotal == nil then
									sheet.PercepcaoTotal = 0;
								end;	
								
								if sheet.FurtividadeTotal == nil then
									sheet.FurtividadeTotal = 0;
								end;	
								
								if sheet.VigorTotal == nil then
									sheet.VigorTotal = 0;
								end;
								
								if sheet.GraduacaoTreino =='Genin' then
									sheet.GAtletismo = 1;
									sheet.GRaciocinio = 1;
									sheet.GPercepcao = 1;
									sheet.GFurtividade = 1;
									sheet.GVigor = 1;
								end;
								
								if sheet.GraduacaoTreino =='Jounin' then
									sheet.GAtletismo = 2;
									sheet.GRaciocinio = 2;
									sheet.GPercepcao = 2;
									sheet.GFurtividade = 2;
									sheet.GVigor = 2;
								end;
								
								if sheet.GraduacaoTreino =='Anbu Nucleo' then
									sheet.GAtletismo = 3;
									sheet.GRaciocinio = 3;
									sheet.GPercepcao = 3;
									sheet.GFurtividade = 3;
									sheet.GVigor = 3;
								end;
								
								if sheet.GraduacaoTreino =='GDE' then
									sheet.GAtletismo = 4;
									sheet.GRaciocinio = 4;
									sheet.GPercepcao = 4;
									sheet.GFurtividade = 4;
									sheet.GVigor = 4;
								end;
								
								if sheet.GraduacaoTreino =='Kage' then
									sheet.GAtletismo = 6;
									sheet.GRaciocinio = 6;
									sheet.GPercepcao = 6;
									sheet.GFurtividade = 6;
									sheet.GVigor = 6;
								end;
								
								if sheet.Forca >= 100000000 then
									sheet.SAtletismo = 5;
								elseif sheet.Forca >= 10000000 then
									sheet.SAtletismo = 4;
								elseif sheet.Forca >= 1000000 then
									sheet.SAtletismo = 3;
								elseif sheet.Forca >= 100000 then
									sheet.SAtletismo = 2;
								elseif sheet.Forca >= 10000 then
									sheet.SAtletismo = 1;	
								else
									sheet.SVigor = 0;
								end;	
								
								if sheet.Inteligencia >= 100000000 then
									sheet.SRaciocinio = 5;
								elseif sheet.Sabedoria >= 100000000 then
									sheet.SRaciocinio = 5;	
								elseif sheet.Inteligencia >= 10000000 then
									sheet.SRaciocinio = 4;
								elseif sheet.Sabedoria >= 10000000 then
									sheet.SRaciocinio = 4;	
								elseif sheet.Inteligencia >= 1000000 then
									sheet.SRaciocinio = 3;
								elseif sheet.Sabedoria >= 1000000 then
									sheet.SRaciocinio = 3;	
								elseif sheet.Inteligencia >= 100000 then
									sheet.SRaciocinio = 2;
								elseif sheet.Sabedoria >= 100000 then
									sheet.SRaciocinio = 2;
								elseif sheet.Sabedoria >= 10000 then
									sheet.SRaciocinio = 1;	
								elseif sheet.Inteligencia >= 10000 then
									sheet.SRaciocinio = 1;	
								else
									sheet.SRaciocinio = 0;
								end; 
								
								if sheet.Habilidade >= 500000000 then
									sheet.SPercepcao = 5;
									sheet.SFurtividade = 5;
								elseif sheet.Habilidade >= 50000000 then
									sheet.SPercepcao = 4;
									sheet.SFurtividade = 4;
								elseif sheet.Habilidade >= 5000000 then
									sheet.SPercepcao = 3;
									sheet.SFurtividade = 3;
								elseif sheet.Habilidade >= 500000 then
									sheet.SPercepcao = 2;
									sheet.SFurtividade = 2;
								elseif sheet.Habilidade >= 50000 then
									sheet.SPercepcao = 1;	
									sheet.SFurtividade = 1;
								else 
									sheet.SPercepcao = 0;
									sheet.SFurtividade = 0;
								end; 
								
								if sheet.Resistencia >= 100000000 then
									sheet.SVigor = 5;
								elseif sheet.Resistencia >= 10000000 then
									sheet.SVigor = 4;
								elseif sheet.Resistencia >= 1000000 then
									sheet.SVigor = 3;
								elseif sheet.Resistencia >= 100000 then
									sheet.SVigor = 2;
								elseif sheet.Resistencia >= 10000 then
									sheet.SVigor = 1;	
								else
									sheet.SVigor = 0;
								end;	

								sheet.AtletismoTotal = tonumber(sheet.SAtletismo) + tonumber(sheet.GAtletismo) + tonumber(sheet.Atletismo) + (tonumber(sheet.CAtletismo) or 0);
								sheet.RaciocinioTotal = tonumber(sheet.SRaciocinio) + tonumber(sheet.GRaciocinio) + tonumber(sheet.Raciocinio) + (tonumber(sheet.CRaciocineo) or 0);
								sheet.PercepcaoTotal = tonumber(sheet.SPercepcao) + tonumber(sheet.GPercepcao) + tonumber(sheet.Percepcao) + (tonumber(sheet.CPercepcao) or 0);
								sheet.FurtividadeTotal = tonumber(sheet.SFurtividade) + tonumber(sheet.GFurtividade) + tonumber(sheet.Furtividade) + (tonumber(sheet.CFurtividade) or 0);
								sheet.VigorTotal = tonumber(sheet.SVigor) + tonumber(sheet.GVigor) + tonumber(sheet.Vigor) + (tonumber(sheet.CVigor) or 0);
							end;	
						</event>
					</dataLink>				 
=============================================================
=============================================================
=============================================================
=====================CHANCES GRADUA√á√ÉO======================= 				
=============================================================
=============================================================
=============================================================	
					<dataLink fields="{'GAcertoTai', 'GAcertoNin', 'GAcertoGen', 'GEsquiva', 'GBloqueio', 'GCRTai', 'GCRNin', 'GCRGen', 'GTurno', 'AcessorioAcertoTai', 'AcessorioAcertoNin', 'AcessorioAcertoGen',
					'CAT', 'CAN', 'CAG', 'CEsq', 'CBloq', 'CCRT', 'CCRN', 'CCRG', 'DAcertoTai', 'DAcertoNin', 'DAcertoGen', 'DEsquiva', 'DBloqueio', 'DCriticalTai', 'DCriticalNin', 'DCriticalGen', 'BandanaEsquiva', 'BandanaBloqueio',
					'Transformado', 'Transformado1', 'Transformado2', 'Transformado3', 'Transformado4', 'Transformado5', 'TransformadoTotal', 'TATai', 'TANin', 'TAGen', 'TEsquiva', 'TBloqueio', 'TCTai', 'TCNin', 'TCGen', 'DTurnos'}">
						<event name="onChange">
							if self.ControlaTransTotal.checked then
								sheet.AcertoTaiTotal = (tonumber(sheet.GAcertoTai) or 0) + (tonumber(sheet.CAT) or 0) + (tonumber(sheet.DAcertoTai) or 0) + 60 + (tonumber(sheet.TATai) or 0) + (tonumber(sheet.AcessorioAcertoTai) or 0);
								sheet.AcertoNinTotal = (tonumber(sheet.GAcertoNin) or 0) + (tonumber(sheet.CAN) or 0) + (tonumber(sheet.DAcertoNin) or 0) + 60 + (tonumber(sheet.TANin) or 0) + (tonumber(sheet.AcessorioAcertoNin) or 0);
								sheet.AcertoGenTotal = (tonumber(sheet.GAcertoGen) or 0) + (tonumber(sheet.CAG) or 0) + (tonumber(sheet.DAcertoGen) or 0) + 60 + (tonumber(sheet.TAGen) or 0) + (tonumber(sheet.AcessorioAcertoGen) or 0);
								sheet.EsquivaTotal = (tonumber(sheet.GEsquiva) or 0) + (tonumber(sheet.CEsq) or 0) + (tonumber(sheet.DEsquiva) or 0) + 30 + (tonumber(sheet.TEsquiva) or 0) + (tonumber(sheet.BandanaEsquiva) or 0);
								sheet.BloqueioTotal = (tonumber(sheet.GBloqueio) or 0) + (tonumber(sheet.CBloq) or 0) + (tonumber(sheet.DBloqueio) or 0) + 40 + (tonumber(sheet.TBloqueio) or 0) + (tonumber(sheet.BandanaBloqueio) or 0);
								sheet.CRTaiTotal = (tonumber(sheet.GCRTai) or 0) + (tonumber(sheet.CCRT) or 0) + (tonumber(sheet.DCriticalTai) or 0) + 1 + (tonumber(sheet.TCTai) or 0);
								sheet.CRNinTotal = (tonumber(sheet.GCRNin) or 0) + (tonumber(sheet.CCRN) or 0) + (tonumber(sheet.DCriticalNin) or 0) + 1 + (tonumber(sheet.TCNin) or 0);
								sheet.CRGenTotal = (tonumber(sheet.GCRGen) or 0) + (tonumber(sheet.CCRG) or 0) + (tonumber(sheet.DCriticalGen) or 0) + 1 + (tonumber(sheet.TCGen) or 0);
								sheet.TurnoTotal = (tonumber(sheet.GTurno) or 0) + 1 + (tonumber(sheet.TTurnos) or 0) + (tonumber(sheet.DTurnos) or 0);
								
								if sheet.AcertoTaiTotal > 90 then
									sheet.AcertoTaiTotal = 90;
								end;
								
								if sheet.AcertoNinTotal > 90 then
									sheet.AcertoNinTotal = 90;
								end;
								
								if sheet.AcertoGenTotal > 90 then
									sheet.AcertoGenTotal = 90;
								end;	
								
								if sheet.EsquivaTotal > 90 then
									sheet.EsquivaTotal = 90;
								end;
								
								if sheet.BloqueioTotal > 90 then
									sheet.BloqueioTotal = 90;
								end;
								
								if sheet.CRTaiTotal > 50 then
									sheet.CRTaiTotal = 50;
								end;	
								
								if sheet.CRNinTotal > 50 then
									sheet.CRNinTotal = 50;
								end;
								
								if sheet.CRGenTotal > 50 then
									sheet.CRGenTotal = 50;
								end;
								
								if sheet.TurnoTotal > 10 then
									sheet.TurnoTotal = 10;
								end;						
							else
								sheet.AcertoTaiTotal = (tonumber(sheet.GAcertoTai) or 0) + (tonumber(sheet.CAT) or 0) + (tonumber(sheet.DAcertoTai) or 0) + 60 + (tonumber(sheet.AcessorioAcertoTai) or 0);
								sheet.AcertoNinTotal = (tonumber(sheet.GAcertoNin) or 0) + (tonumber(sheet.CAN) or 0) + (tonumber(sheet.DAcertoNin) or 0) + 60 + (tonumber(sheet.AcessorioAcertoNin) or 0);
								sheet.AcertoGenTotal = (tonumber(sheet.GAcertoGen) or 0) + (tonumber(sheet.CAG) or 0) + (tonumber(sheet.DAcertoGen) or 0) + 60 + (tonumber(sheet.AcessorioAcertoGen) or 0);
								sheet.EsquivaTotal = (tonumber(sheet.GEsquiva) or 0) + (tonumber(sheet.CEsq) or 0) + (tonumber(sheet.DEsquiva) or 0) + 30 + (tonumber(sheet.BandanaEsquiva) or 0);
								sheet.BloqueioTotal = (tonumber(sheet.GBloqueio) or 0) + (tonumber(sheet.CBloq) or 0) + (tonumber(sheet.DBloqueio) or 0) + 40 + (tonumber(sheet.BandanaBloqueio) or 0);
								sheet.CRTaiTotal = (tonumber(sheet.GCRTai) or 0) + (tonumber(sheet.CCRT) or 0) + (tonumber(sheet.DCriticalTai) or 0) + 1;
								sheet.CRNinTotal = (tonumber(sheet.GCRNin) or 0) + (tonumber(sheet.CCRN) or 0) + (tonumber(sheet.DCriticalNin) or 0) + 1;
								sheet.CRGenTotal = (tonumber(sheet.GCRGen) or 0) + (tonumber(sheet.CCRG) or 0) + (tonumber(sheet.DCriticalGen) or 0) + 1;
								sheet.TurnoTotal = (tonumber(sheet.GTurno) or 0) + 1 + (tonumber(sheet.DTurnos) or 0);
								
								if sheet.AcertoTaiTotal > 90 then
									sheet.AcertoTaiTotal = 90;
								end;
								
								if sheet.AcertoNinTotal > 90 then
									sheet.AcertoNinTotal = 90;
								end;
								
								if sheet.AcertoGenTotal > 90 then
									sheet.AcertoGenTotal = 90;
								end;	
								
								if sheet.EsquivaTotal > 90 then
									sheet.EsquivaTotal = 90;
								end;
								
								if sheet.BloqueioTotal > 90 then
									sheet.BloqueioTotal = 90;
								end;
								
								if sheet.CRTaiTotal > 50 then
									sheet.CRTaiTotal = 50;
								end;	
								
								if sheet.CRNinTotal > 50 then
									sheet.CRNinTotal = 50;
								end;
								
								if sheet.CRGenTotal > 50 then
									sheet.CRGenTotal = 50;
								end;
								
								if sheet.TurnoTotal > 10 then
									sheet.TurnoTotal = 10;
								end;								
							end;							
						</event>
					</dataLink>
				</scrollBox>
			</tab>
=============================================================
=============================================================
=============================================================
=======================ABA EQUIPAMENTO======================= 				
=============================================================
=============================================================
=============================================================			 
			<tab title="Personagem">
				<scrollBox align="client">
					<image left="1" top="1" width="1000" height="700" src="/imagens/3.png"/>
=============================================================
=============================================================
=============================================================
================COME√áA POR TRANSFORMA√á√ïES====================
================TRANSFORMA√áAO HOLLOW========================= 				
=============================================================
=============================================================
=============================================================	
					<button left="55" top="110" width="100" height="150" opacity="0.0" onclick="self.PopHollowTransformation:show();"/>
					<popup name="PopHollowTransformation" visible="false" left="1" top="10" width="1020" height="580">				
						<image left="10" top="10" width="1000" height="563" src="/imagens/11.png"/>
						<edit left="190" top="43" width="100" height="20" type="number" field="TransHollowTaijutsu"/>
						<edit left="190" top="72" width="100" height="20" type="number" field="TransHollowNinjutsu"/>
						<edit left="190" top="101" width="100" height="20" type="number" field="TransHollowGenjutsu"/>
						<edit left="190" top="130" width="100" height="20" type="number" field="TransHollowDA"/>
						<edit left="190" top="159" width="100" height="20" type="number" field="TransHollowElemental"/>					
						<edit left="190" top="217" width="100" height="20" type="number" field="TransHollowHP"/>
						<edit left="190" top="245" width="100" height="20" type="number" field="TransHollowChakra"/>
						<edit left="190" top="273" width="100" height="20" type="number" field="TransHollowReiatsu"/>
						<edit left="190" top="301" width="100" height="20" type="number" field="TransHollowOutros"/>	
						<edit left="190" top="329" width="100" height="20" type="number" field="TransHollowEnergia"/>						
						<edit left="190" top="357" width="100" height="20" type="number" field="TransHollowReducao"/>					
						<edit left="820" top="43" width="100" height="20" type="number" field="TransHollowATai"/>
						<edit left="820" top="72" width="100" height="20" type="number" field="TransHollowANin"/>
						<edit left="820" top="101" width="100" height="20" type="number" field="TransHollowAGen"/>
						<edit left="820" top="130" width="100" height="20" type="number" field="TransHollowEsquiva"/>
						<edit left="820" top="159" width="100" height="20" type="number" field="TransHollowBloqueio"/>
						<edit left="820" top="187" width="100" height="20" type="number" field="TransHollowCTai"/>
						<edit left="820" top="215" width="100" height="20" type="number" field="TransHollowCNin"/>
						<edit left="820" top="243" width="100" height="20" type="number" field="TransHollowCGen"/>
						<edit left="820" top="271" width="100" height="20" type="number" field="TransHollowTurnos"/>
					</popup>
					<checkBox name="ControlaTransHollow" visible="true" left="30" top="93" text="Ativar Transforma√ß√£o" field="Transformado3"/>
					<dataLink fields="{'TransHollowTaijutsu', 'TransHollowNinjutsu' , 'TransHollowGenjutsu', 'TransHollowDA', 'TransHollowElemental', 'TransHollowHP', 'TransHollowChakra', 
					'TransHollowReiatsu', 'TransHollowOutros' ,TransHollowEnergia, 'TransHollowReducao', 'TransHollowATai', 'TransHollowANin', 'TransHollowAGen', 'TransHollowEsquiva', 'TransHollowBloqueio', 'TransHollowCTai',
					'TransHollowCNin', 'TransHollowCGen', 'TransHollowTurnos', 'Transformado3'}">
						<event name="onChange">
							CalculaTransformacaoHollow();
						</event>
					</dataLink>						
=============================================================
=============================================================
=============================================================
================TRANSFORMA√á√ÉO BIJU MODE======================				
=============================================================
=============================================================
=============================================================	
					<button left="210" top="110" width="100" height="150" opacity="0.0" onclick="self.POPBijuTransformation:show();"/>
					<popup name="POPBijuTransformation" visible="false" left="1" top="10" width="1020" height="580">				
						<image left="10" top="10" width="1000" height="563" src="/imagens/12.png"/>
						<edit left="190" top="43" width="100" height="20" type="number" field="TransBijuModeTaijutsu"/>
						<edit left="190" top="72" width="100" height="20" type="number" field="TransBijuModeNinjutsu"/>
						<edit left="190" top="101" width="100" height="20" type="number" field="TransBijuModeGenjutsu"/>
						<edit left="190" top="130" width="100" height="20" type="number" field="TransBijuModeDA"/>
						<edit left="190" top="159" width="100" height="20" type="number" field="TransBijuModeElemental"/>					
						<edit left="190" top="217" width="100" height="20" type="number" field="TransBijuModeHP"/>
						<edit left="190" top="245" width="100" height="20" type="number" field="TransBijuModeChakra"/>
						<edit left="190" top="273" width="100" height="20" type="number" field="TransBijuModeReiatsu"/>
						<edit left="190" top="301" width="100" height="20" type="number" field="TransBijuModeOutros"/>					
						<edit left="190" top="357" width="100" height="20" type="number" field="TransBijuModeReducao"/>					
						<edit left="820" top="43" width="100" height="20" type="number" field="TransBijuModeATai"/>
						<edit left="820" top="72" width="100" height="20" type="number" field="TransBijuModeANin"/>
						<edit left="820" top="101" width="100" height="20" type="number" field="TransBijuModeAGen"/>
						<edit left="820" top="130" width="100" height="20" type="number" field="TransBijuModeEsquiva"/>
						<edit left="820" top="159" width="100" height="20" type="number" field="TransBijuModeBloqueio"/>
						<edit left="820" top="187" width="100" height="20" type="number" field="TransBijuModeCTai"/>
						<edit left="820" top="215" width="100" height="20" type="number" field="TransBijuModeCNin"/>
						<edit left="820" top="243" width="100" height="20" type="number" field="TransBijuModeCGen"/>
						<edit left="820" top="271" width="100" height="20" type="number" field="TransBijuModeTurnos"/>
					</popup>
					
					<checkBox name="ControlaTransMantoBiju" visible="true" left="190" top="93" text="Ativar Transforma√ß√£o" field="Transformado4"/>
					<dataLink fields="{'TransBijuModeTaijutsu', 'TransBijuModeNinjutsu' , 'TransBijuModeGenjutsu', 'TransBijuModeDA', 'TransBijuModeElemental', 'TransBijuModeHP', 'TransBijuModeChakra', 
					'TransBijuModeReiatsu', 'TransBijuModeOutros', 'TransBijuModeReducao', 'TransBijuModeATai', 'TransBijuModeANin', 'TransBijuModeAGen', 'TransBijuModeEsquiva', 'TransBijuModeBloqueio', 'TransBijuModeCTai',
					'TransBijuModeCNin', 'TransBijuModeCGen', 'TransBijuModeTurnos', 'Transformado4'}">
						<event name="onChange">
							CalculaTransformacaoBijuMode();
						</event>
					</dataLink>	
=============================================================
=============================================================
=============================================================
===========================KUTCHYOSE=========================				
=============================================================
=============================================================
=============================================================						
					<button left="40" top="270" width="130" height="150" opacity="0.0">
						<event name="onClick">
							local novoForm = GUI.newForm("frmKutchyoseFicha");
							novoForm:setNodeObject(sheet);
							novoForm:show();
						</event>			
					</button>				
=============================================================
=============================================================
=============================================================
================TRANSFORMA√á√ÉO SANNIN=========================				
=============================================================
=============================================================
=============================================================	
					<button left="195" top="270" width="130" height="150" opacity="0.0" onclick="self.PopSenninTransformation:show();"/>
					<popup name="PopSenninTransformation" visible="false" left="1" top="10" width="1020" height="580">				
						<image left="10" top="10" width="1000" height="563" src="/imagens/10.png"/>
						<edit left="190" top="43" width="100" height="20" type="number" field="TransSenninTaijutsu"/>
						<edit left="190" top="72" width="100" height="20" type="number" field="TransSenninNinjutsu"/>
						<edit left="190" top="101" width="100" height="20" type="number" field="TransSenninGenjutsu"/>
						<edit left="190" top="130" width="100" height="20" type="number" field="TransSenninDA"/>
						<edit left="190" top="159" width="100" height="20" type="number" field="TransSenninElemental"/>					
						<edit left="190" top="217" width="100" height="20" type="number" field="TransSenninHP"/>
						<edit left="190" top="245" width="100" height="20" type="number" field="TransSenninChakra"/>
						<edit left="190" top="273" width="100" height="20" type="number" field="TransSenninReiatsu"/>
						<edit left="190" top="301" width="100" height="20" type="number" field="TransSenninOutros"/>					
						<edit left="190" top="357" width="100" height="20" type="number" field="TransSenninReducao"/>					
						<edit left="820" top="43" width="100" height="20" type="number" field="TransSenninATai"/>
						<edit left="820" top="72" width="100" height="20" type="number" field="TransSenninANin"/>
						<edit left="820" top="101" width="100" height="20" type="number" field="TransSenninAGen"/>
						<edit left="820" top="130" width="100" height="20" type="number" field="TransSenninEsquiva"/>
						<edit left="820" top="159" width="100" height="20" type="number" field="TransSenninBloqueio"/>
						<edit left="820" top="187" width="100" height="20" type="number" field="TransSenninCTai"/>
						<edit left="820" top="215" width="100" height="20" type="number" field="TransSenninCNin"/>
						<edit left="820" top="243" width="100" height="20" type="number" field="TransSenninCGen"/>
						<edit left="820" top="271" width="100" height="20" type="number" field="TransSenninTurnos"/>
					</popup>
					
					<checkBox name="ControlaTransSennin" left="185" top="400" text="Ativar Transforma√ß√£o" field="Transformado5"/>
					<dataLink fields="{'TransSenninTaijutsu', 'TransSenninNinjutsu' , 'TransSenninGenjutsu', 'TransSenninDA', 'TransSenninElemental', 'TransSenninHP', 'TransSenninChakra', 
					'TransSenninReiatsu', 'TransSenninOutros', 'TransSenninReducao', 'TransSenninATai', 'TransSenninANin', 'TransSenninAGen', 'TransSenninEsquiva', 'TransSenninBloqueio', 'TransSenninCTai',
					'TransSenninCNin', 'TransSenninCGen', 'TransSenninTurnos', 'Transformado5'}">
						<event name="onChange">
							CalculaTransformacaoSennin();
						</event>
					</dataLink>	
					
=============================================================
=============================================================
=============================================================
=====================OS EQUIPAMENTOS=========================				
=============================================================
=============================================================
=============================================================					
					<button left="430" top="120" width="120" height="100" opacity="0.0" text="" onClick="self.POPArma:show();"/>
					<popup name="POPArma" visible="false" left="1" top="40"
						width="500" height="550">
						<label left="20" top="20" fontFamily="Nyala" fontSize="20" text="Arma Nome"/>
						<edit left="135" top="16" width="310" height="25" field="ArmaNome"/>	
						<label left="20" top="60" fontFamily="Nyala" fontSize="20" text="Dano Tai"/>
						<label left="20" top="100" fontFamily="Nyala" fontSize="20" text="Dano Nin"/>
						<label left="20" top="140" fontFamily="Nyala" fontSize="20" text="Dano Gen"/>
						<label left="20" top="180" fontFamily="Nyala" fontSize="20" text="Dano Armado"/>
						<label left="200" top="60" fontFamily="Nyala" fontSize="20" text="Dano Elemental"/>
						<label left="200" top="100" fontFamily="Nyala" fontSize="20" text="HP"/> 
						<label left="200" top="140" fontFamily="Nyala" fontSize="20" text="Chakra"/>
						<label left="200" top="180" fontFamily="Nyala" fontSize="20" text="Reiatsu"/>
						<label left="20" top="220" width="300" fontFamily="Nyala" fontSize="20" text="Habilidade da Espada"/>
						<label left="20" top="320" fontFamily="Nyala" fontSize="20" text="Shinkai"/>
						<label left="20" top="420" fontFamily="Nyala" fontSize="20" text="Bankai"/>							  
						<edit left="110" top="56" width="85" height="25"  type="number" field="ArmaDT"/>
						<edit left="110" top="96" width="85" height="25"  type="number" field="ArmaDN"/>
						<edit left="110" top="136" width="85" height="25"  type="number" field="ArmaDG"/>
						<edit left="130" top="176" width="65" height="25"  type="number" field="ArmaDA"/>
						<edit left="360" top="56" width="85" height="25"  type="number" field="ArmaDE"/>						
						<edit left="360" top="96" width="85" height="25"  type="number" field="ArmaHP"/>
						<edit left="360" top="136" width="85" height="25"  type="number" field="ArmaChakra"/>
						<edit left="360" top="176" width="85" height="25"  type="number" field="ArmaReiatsu"/>
						<textEditor left="20" top="243" width="440" height="70"  field="HDE"/>
						<textEditor left="20" top="340" width="440" height="70"  field="Shinkai"/>
						<textEditor left="20" top="440" width="440" height="100"  field="Bankai"/>					  
					</popup> 
					
					<button left="610" top="120" width="160" height="100" opacity="0.0" text="" onClick="self.POPBandana:show();"/>
					<popup name="POPBandana" visible="false" left="1" top="40" width="480" height="320">
						<label left="20" top="20" fontFamily="Nyala" fontSize="20" text="Bandana Nome"/>
						<edit left="135" top="16" width="270" height="25" field="BandanaNome"/>	
						<label left="20" top="60" fontFamily="Nyala" fontSize="20" text="HP"/>
						<label left="20" top="100" fontFamily="Nyala" fontSize="20" text="Chakra"/>
						<label left="20" top="140" fontFamily="Nyala" fontSize="20" text="Redu√ß√£o"/>
						<label left="20" top="180" width="300" fontFamily="Nyala" fontSize="20" text="Passiva"/>  
						<edit left="110" top="56" width="85" height="25"  type="number" field="BandanaHP"/>
						<edit left="110" top="96" width="85" height="25"  type="number" field="BandanaChakra"/>
						<edit left="110" top="136" width="85" height="25"  type="number" field="BandanaReducao"/>
						<label left="230" top="60" fontFamily="Nyala" fontSize="20" text="Esquiva"/>	
						<edit left="320" top="56" width="85" height="25"  type="number" field="BandanaEsquiva"/>
						<label left="230" top="100" fontFamily="Nyala" fontSize="20" text="Bloqueio"/>	
						<edit left="320" top="96" width="85" height="25"  type="number" field="BandanaBloqueio"/>
						<textEditor left="20" top="200" width="385" height="110" field="BandanaPassiva"/>						
					</popup> 

					<button left="430" top="225" width="120" height="115" opacity="0.0" text="" onClick="self.POPColete:show();"/>
					<popup name="POPColete" visible="false" left="1" top="40" width="300" height="320">	
						<label left="20" top="20" fontFamily="Nyala" fontSize="20" text="Colete Nome"/>
						<edit left="130" top="16" width="150" height="25" field="ColeteNome"/>						
						<label left="20" top="60" fontFamily="Nyala" fontSize="20" text="HP"/>
						<label left="20" top="100" fontFamily="Nyala" fontSize="20" text="Chakra"/>
						<label left="20" top="140" fontFamily="Nyala" fontSize="20" text="Redu√ß√£o"/>
						<label left="20" top="180" width="300" fontFamily="Nyala" fontSize="20" text="Passiva"/>
						<edit left="110" top="56" width="85" height="25"  type="number" field="ColeteHP"/>
						<edit left="110" top="96" width="85" height="25"  type="number" field="ColeteChakra"/>
						<edit left="110" top="136" width="85" height="25"  type="number" field="ColeteReducao"/>
						<textEditor left="20" top="200" width="260" height="110" field="ColetePassiva"/>		 
					</popup> 
					
					<button left="610" top="232" width="160" height="100" opacity="0.0" text="" onClick="self.POPAcessorio:show();"/>
					<popup name="POPAcessorio" visible="false" left="1" top="60" width="480" height="460">
						<label left="20" top="20" fontFamily="Nyala" fontSize="20" text="Acessorio Nome"/>
						<label left="20" top="60" fontFamily="Nyala" fontSize="20" text="Dano Tai"/>
						<label left="20" top="100" fontFamily="Nyala" fontSize="20" text="Dano Nin"/>
						<label left="20" top="140" fontFamily="Nyala" fontSize="20" text="Dano Gen"/>
						<label left="230" top="60" fontFamily="Nyala" fontSize="20" text="Dano Elemental"/>
						<label left="230" top="100" fontFamily="Nyala" fontSize="20" text="HP"/>
						<label left="230" top="140" fontFamily="Nyala" fontSize="20" text="Chakra"/>
						<label left="20" top="180" width="300" fontFamily="Nyala" fontSize="20" text="Reiatsu"/>
						<label left="230" top="180" fontFamily="Nyala" fontSize="20" text="Outros"/>	
						<edit left="150" top="16" width="295" height="25" field="AcessorioNome"/>						
						<edit left="110" top="56" width="85" height="25"  type="number" field="AcessorioDT"/>
						<edit left="110" top="96" width="85" height="25"  type="number" field="AcessorioDN"/>
						<edit left="110" top="136" width="85" height="25"  type="number" field="AcessorioDG"/>
						<edit left="360" top="56" width="85" height="25" 	type="number"  field="AcessorioDE"/>
						<edit left="360" top="96" width="85" height="25"  type="number" field="AcessorioHP"/>
						<edit left="360" top="136" width="85" height="25"  type="number" field="AcessorioChakra"/>
						<edit left="110" top="176" width="85" height="25"  type="number" field="AcessorioReiatsu"/>
						<edit left="360" top="176" width="85" height="25"  type="number" field="AcessorioOutros"/>
						<label left="20" top="220" width="300" fontFamily="Nyala" fontSize="20" text="Acerto Tai"/>
						<edit left="110" top="216" width="85" height="25"  type="number" field="AcessorioAcertoTai"/>
						<label left="230" top="220" width="300" fontFamily="Nyala" fontSize="20" text="Acerto Nin"/>
						<edit left="360" top="216" width="85" height="25"  type="number" field="AcessorioAcertoNin"/>
						<label left="20" top="260" width="300" fontFamily="Nyala" fontSize="20" text="Acerto Gen"/>
						<edit left="110" top="256" width="85" height="25"  type="number" field="AcessorioAcertoGen"/>
						<label left="230" top="260" width="300" fontFamily="Nyala" fontSize="20" text="Energia"/>
						<edit left="360" top="256" width="85" height="25"  type="number" field="AcessorioEnergia"/>
						<label left="20" top="300" width="300" fontFamily="Nyala" fontSize="20" text="Habilidade"/>
						<textEditor left="20" top="330" width="425" height="110" field="AcessorioPassiva"/>
					</popup> 	
							
					<button left="30" top="540" width="120" height="115" opacity="0.1" text="" onClick="self.POPBAG:show();"/>
					<popup name="POPBAG" visible="false" left="1" top="40" width="660" height="500">				 
						<image left="5" top="1" width="650" height="500" src="/imagens/Loja.png"/>						
						<label left="160" top="13" height="25" width="100" fontColor="red" text="Kunai" autoSize="true"/>
						<edit left="200" top="08" height="25" width="30"  enabled="false" type="number" field="KunaiLimite"/>
						<label left="235" top="13" height="25" width="100" fontColor="red" text="Shuriken" autoSize="true"/>
						<edit left="290" top="08" height="25" width="30"  enabled="false" type="number" field="ShurikenLimite"/>
						<label left="325" top="13" height="25" width="100" fontColor="red" text="S.Fuuma" autoSize="true"/>
						<edit left="380" top="08" height="25" width="30"  enabled="false" type="number" field="SFuumaLimite"/>
						<label left="420" top="13" height="25" width="100" fontColor="red" text="K.Gigante" autoSize="true"/>
						<edit left="480" top="08" height="25" width="30"  enabled="false" type="number" field="KGiganteLimite"/>
						<label left="515" top="13" height="25" width="100" fontColor="red" text="P.Bomba" autoSize="true"/>
						<edit left="570" top="08" height="25" width="30"  enabled="false" type="number" field="PBombaLimite"/>					
						<label left="160" top="38" height="25" width="100" fontColor="red" text="G.Explosivo" autoSize="true"/>
						<edit left="230" top="35" height="25" width="30"  enabled="false" type="number" field="GExplosivoLimite"/>
						<label left="265" top="38" height="25" width="100" fontColor="red" text="Veneno" autoSize="true"/>
						<edit left="315" top="35" height="25" width="30"  enabled="false" type="number" field="VenenoLimite"/>
						<label left="350" top="38" height="25" width="100" fontColor="red" text="Bandagem" autoSize="true"/>
						<edit left="415" top="35" height="25" width="30"  enabled="false" type="number" field="BandagemLimite"/>
						<label left="450" top="38" height="25" width="100" fontColor="red" text="Bomba Fuma√ßa" autoSize="true"/>
						<edit left="545" top="35" height="25" width="30"  enabled="false" type="number" field="BombaFumacaLimite"/>
						<label left="580" top="38" height="25" width="100" fontColor="red" text="Sembo" autoSize="true"/>
						<edit left="625" top="35" height="25" width="30"  enabled="false" type="number" field="SemboLimite"/>
						<layout align="top" height="30" margins="{bottom=4}">					
							<button text="Novo Item" width="150" align="left">
								<event name="onClick">                              
									self.rclListaDosItens4:append();
								</event>
							</button>
						</layout>
						<comboBox name="cmbTipoBag" left="3" top="40" width="147" items="{'Tipo Bag', 'Bag Genin', 'Bag Chunin', 'Bag Tengu', 'Bag Yebisu', 'Bag Benzaiten'}" 
						field="TipoBag" values="{'1', '2', '3', '4', '5', '6'}"/>
						<recordList name="rclListaDosItens4" field="campoDosItens4" templateForm="frmItemDaLista4"
							left="5" top="71" height="420" width="640" selectable="true">                   
							<event name="onSelect">                  
								local node = self.rclListaDosItens4.selectedNode; 
								self.boxDetalhesDoItem.node = node;                       
								self.boxDetalhesDoItem.visible = (node ~= nil);
							</event>
						</recordList>       
						<dataScopeBox name="boxDetalhesDoItem" visible="false" top="38" left="300" width="355" height="440" margins="{left=4, right=4}">    
							<rectangle  color="grey" height="430" width="380" top="33" left="1">									   
								<label left="10" top="13" height="25" width="100" fontColor="red" text="Nome do Item:" autoSize="true"/>
								<edit left="105" top="10" height="25" width="155" field="NomedoItem"/>								
								<button width="80" height="25" left="265" top="10" fontColor="red" text="DELETAR" onClick="NDB.deleteNode(self.boxDetalhesDoItem.node);" />								
								<textEditor left="10" top="40" width="335" height="310" field="DescriItem"/>
								<label left="10" top="360" height="25" width="100" text="Tipo :" autoSize="true"/>
								<comboBox  left="50" top="360" width="140" height="18" field="TipoItens" items="{'Kunai', 'Shuriken', 'Shuriken Fuuma', 'Kunai Gigante', 'Marionete', 'Papel Bomba', 'Ginso Explosivo', 'Veneno', 'Bandagem', 'Bomba de Fuma√ßa', 'Selamento', 'Outros'}"/>						   
							</rectangle>
						</dataScopeBox>
						<dataLink field="TipoBag">
							<event name="onChange">
								if self.cmbTipoBag.value == "1" then
									sheet.KunaiLimite = 1;
									sheet.ShurikenLimite = 1;
									sheet.SFuumaLimite = 0;
									sheet.KGiganteLimite = 0;
									sheet.PBombaLimite  = 0;
									sheet.GExplosivoLimite = 0;
									sheet.VenenoLimite = 0;
									sheet.BandagemLimite = 1;
									sheet.BombaFumacaLimite = 0;
									sheet.SemboLimite = 0;
								end;
								
								if self.cmbTipoBag.value == "2" then
									sheet.KunaiLimite = 4;
									sheet.ShurikenLimite = 8;
									sheet.SFuumaLimite = 0;
									sheet.KGiganteLimite = 0;
									sheet.PBombaLimite  = 2;
									sheet.GExplosivoLimite = 0;
									sheet.VenenoLimite = 1;
									sheet.BandagemLimite = 1;
									sheet.BombaFumacaLimite = 2;
									sheet.SemboLimite = 0;
								end;
								
								if self.cmbTipoBag.value == "3" then
									sheet.KunaiLimite = 5;
									sheet.ShurikenLimite = 8;
									sheet.SFuumaLimite = 1;
									sheet.KGiganteLimite = 1;
									sheet.PBombaLimite  = 2;
									sheet.GExplosivoLimite = 0;
									sheet.VenenoLimite = 01
									sheet.BandagemLimite = 2;
									sheet.BombaFumacaLimite = 2;
									sheet.SemboLimite = 0;
								end;
								
								if self.cmbTipoBag.value == "4" then
									sheet.KunaiLimite = 4;
									sheet.ShurikenLimite = 8;
									sheet.SFuumaLimite = 1;
									sheet.KGiganteLimite = 1;
									sheet.PBombaLimite  = 2;
									sheet.GExplosivoLimite = 0;
									sheet.VenenoLimite = 0;
									sheet.BandagemLimite = 2;
									sheet.BombaFumacaLimite = 3;
									sheet.SemboLimite = 8;
								end;
								
								if self.cmbTipoBag.value == "5" then
									sheet.KunaiLimite = 6;
									sheet.ShurikenLimite = 8;
									sheet.SFuumaLimite = 2;
									sheet.KGiganteLimite = 2;
									sheet.PBombaLimite  = 1;
									sheet.GExplosivoLimite = 1;
									sheet.VenenoLimite = 1;
									sheet.BandagemLimite = 2;
									sheet.BombaFumacaLimite = 1;
									sheet.SemboLimite = 10;
								end;
								
								if self.cmbTipoBag.value == "6" then
									sheet.KunaiLimite = 4;
									sheet.ShurikenLimite = 6;
									sheet.SFuumaLimite = 1;
									sheet.KGiganteLimite = 1;
									sheet.PBombaLimite  = 4;
									sheet.GExplosivoLimite = 2;
									sheet.VenenoLimite = 3;
									sheet.BandagemLimite = 3;
									sheet.BombaFumacaLimite = 3;
									sheet.SemboLimite = 6;
								end;
								
								if self.cmbTipoBag.value == "7" then
									sheet.KunaiLimite = 0;
									sheet.ShurikenLimite = 0;
									sheet.SFuumaLimite = 0;
									sheet.KGiganteLimite = 0;
									sheet.PBombaLimite  = 0;
									sheet.GExplosivoLimite = 0;
									sheet.VenenoLimite = 0;
									sheet.BandagemLimite = 0;
									sheet.BombaFumacaLimite = 0;
									sheet.SemboLimite = 0;
								end;
								
								if self.cmbTipoBag.value == "7" then
									sheet.KunaiLimite = 0;
									sheet.ShurikenLimite = 0;
									sheet.SFuumaLimite = 0;
									sheet.KGiganteLimite = 0;
									sheet.PBombaLimite  = 0;
									sheet.GExplosivoLimite = 0;
									sheet.VenenoLimite = 0;
									sheet.BandagemLimite = 0;
									sheet.BombaFumacaLimite = 0;
									sheet.SemboLimite = 0;
								end;
							</event>
						</dataLink>					
					</popup>				
				</scrollBox>
			</tab>				
=============================================================
=============================================================
=============================================================
========================ABA PERSONAGEM======================= 				
=============================================================
=============================================================
=============================================================			
			<tab title="Extra">
				<scrollBox align="client">
					<image left="1" top="1" width="1190" height="680" src="/imagens/7.png"/>
					<edit left="170" top="12" width="80" height="25" horzTextAlign="Center" type="number" max="100" min="0" enabled="false" fontSize="18" field="RepFolha" />
					<edit left="170" top="40" width="80" height="25" horzTextAlign="Center" type="number" max="100" min="0" enabled="false" fontSize="18" field="RepAreia" />
					<edit left="170" top="68" width="80" height="25" horzTextAlign="Center" type="number" max="100" min="0" enabled="false" fontSize="18" field="RepNuvem" />
					<edit left="170" top="96" width="80" height="25" horzTextAlign="Center" type="number" max="100" min="0" enabled="false" fontSize="18" field="RepNevoa" />
					<edit left="170" top="124" width="80" height="25" horzTextAlign="Center" type="number" max="100" min="0" enabled="false" fontSize="18" field="RepPedra" />					
					<edit name="GanhoAnual" left="10" top="213" readOnly="true" width="140" type="number" height="25" fontColor="red" enabled="false" horzTextAlign="Center" fontSize="18" />			
					<edit left="187" top="213" width="50" height="25" horzTextAlign="Center" type="number" fontSize="18" enabled="true" field="BonusGanhoAnual" />				
					<edit left="10" top="270" readOnly="true" width="140" height="25" horzTextAlign="Center" fontSize="18" enabled="true" field="BingoBook" />
					<comboBox left="110" top="300" field="Moradia" items="{'Primaria', 'Barata', 'Media', 'Cara', 'Aluguel'}"/>
					<edit left="280" top="298" width="50" height="25" horzTextAlign="Center" fontSize="18" field="MoradiaNpc" />
					<edit left="10" top="385" width="40" height="25" horzTextAlign="Center" fontSize="18" enabled="true" field="Bonus1d10" />
					<edit left="60" top="385" width="40" height="25" horzTextAlign="Center" fontSize="18" enabled="true"  field="Bonus2d10" />
					<edit left="110" top="385" width="40" height="25" horzTextAlign="Center" fontSize="18" enabled="true" field="Bonus3d10" />
					<rectangle left="160" top="384" width="40" height="30" color="black" strokeColor="red" strokeSize="3" />
					<edit left="160" top="385" width="40" height="25" transparent="true" horzTextAlign="Center" enabled="true" fontSize="18" field="Bonus1d20" />
					<comboBox left="490" top="185" width="130" field="GraduacaoStatusSocial" items="{'Academico', 'Genin', 'Chunin', 'Jounin', 'Anbu', 'AnbuNucleo', 'Organiza√ß√£o', 'GDE', 'Concelheiro', 'Kage'}"/>
					<button left="10" top="435" width="130" height="30" opacity="1.0" text="Treinamento Status" onClick="TreinandoStatus()"/>
					<edit left="303" top="438" width="25" height="25" transparent="false" horzTextAlign="Center" enabled="true" min="0" max="9" type="number" fontSize="18" field="VezesPDia" />
					<edit name="GanhoporTreino" left="500" top="438" width="100" height="25" transparent="false" horzTextAlign="Center" enabled="false" visible="true" fontSize="18" field="GanhoPTreino" />
					<image left="23" top="478" width="146" height="116" editable="false" style="stretch" animate="true" src="https://uploads.spiritfanfiction.com/fanfics/capitulos/201907/idaten-no-naito-17030721-180720190606.gif"/>
					<image left="222" top="478" width="146" height="116" editable="false" style="autoFit" animate="true" src="https://i.kym-cdn.com/photos/images/original/001/010/923/060.gif"/>
					<dataLink fields="{'GraduacaoStatusSocial', 'BonusGanhoAnual'}">
						<event name="onChange">                
							local BonusGanhoAnualGraduacao = nil
							
							if sheet.GraduacaoStatusSocial == 'Jounin' then
								sheet.BonusGanhoAnualGraduacao = 2000;
							end;
							
							if sheet.GraduacaoStatusSocial == 'Anbu' then
								sheet.BonusGanhoAnualGraduacao = 3000;
							end;
							
							if sheet.GraduacaoStatusSocial == 'AnbuNucleo' then
								sheet.BonusGanhoAnualGraduacao = 4000;
							end;
							
							if sheet.GraduacaoStatusSocial == 'Organiza√ß√£o' then
								sheet.BonusGanhoAnualGraduacao = 6000;
							end;
							
							if sheet.GraduacaoStatusSocial == 'GDE' then
								sheet.BonusGanhoAnualGraduacao = 8000;
							end;						
							
							if sheet.GraduacaoStatusSocial == 'Concelheiro' then
								sheet.BonusGanhoAnualGraduacao = 10000;
							end;
							
							if sheet.GraduacaoStatusSocial == 'Kage' then
								sheet.BonusGanhoAnualGraduacao = 20000;
							end;
							
							if sheet.BonusGanhoAnualGraduacao == nil then
								sheet.BonusGanhoAnualGraduacao = 0;
							end;
							
							if sheet.BonusGanhoAnual == nil then
								sheet.BonusGanhoAnual = 0;
							end;
							
							if sheet.porcentagemanual == nil then
								sheet.porcentagemanual = 0;
							end;			
							
							sheet.porcentagemanual = (tonumber(sheet.BonusGanhoAnual) /100);						
							sheet.FormulaFinal = tonumber(sheet.BonusGanhoAnualGraduacao) * sheet.porcentagemanual;						
							self.GanhoAnual.text = tonumber(sheet.BonusGanhoAnualGraduacao or 0) + tonumber(sheet.FormulaFinal or 0);						
						</event>
					</dataLink>
=============================================================
=============================================================
=============================================================
===========================POP TREINO======================== 				
=============================================================
=============================================================
=============================================================					
					<button left="23" top="478" width="146" height="116" opacity="0.1" text="" onClick="self.POPTreino:show();"/>
					<popup name="POPTreino" visible="false" left="1" top="40" width="900" height="600">						 
						<scrollBox align="client">		 
							<image top="1" width="870" height="705" src="/imagens/5.png"/>
							<button text="Novo Aprendizado"  width="125" height="40" left="70" top="10">
								<event name="onClick">                           
									self.rclListadeTreino:append();
								</event>
							</button>
							<recordList name="rclListadeTreino" field="TreinoJutsus" templateForm="frmTreinosJutsus1" width="880" height="570" left="10" top="60" selectable="true">                              
								<event name="onSelect">                    
									local node = self.rclListadeTreino.selectedNode; 
									self.dsbListadeTreino.node = node;                       
									self.dsbListadeTreino.visible = (node ~= nil);
								</event>
							</recordList>       
							<dataScopeBox name="dsbListadeTreino" visible="false" width="480" height="510" left="400" top="60" >
								<rectangle  color="black" xradius="10" yradius="10" width="460" height="500" left="1" top="1" >											
									<label  width="120" height="40" left="10" top="10" fontFamily="Nyala" fontSize="20" text="Nome do Jutsu:"/>
									<edit  width="220" height="30" left="130" top="15" field="JutsuTreinando"/>
									<button width="80" height="30" left="360" top="15" fontColor="red" text="DELETAR" onClick="NDB.deleteNode(self.dsbListadeTreino.node);" />
									<textEditor left="10" top="60" width="430" height="280" field="DescriTreinandoJutsu" text="Este √© um textEditor\n\ncom multiplas linhas"/>
									<label left="140" top="350" width="230" height="40" fontFamily="Nyala" fontSize="18" text="Fortifica√ß√£o de jutsu 3D10 e 1d20"/> 
									<edit  left="140" top="385" width="50" height="30" type="number" min="1" max="9" enabled="false" horzTextAlign="center" field="Treina1d10"/>
									<edit  left="200" top="385" width="50" height="30" type="number" min="1" max="9" enabled="false" horzTextAlign="center" field="Treina2d10"/>
									<edit  left="260" top="385" width="50" height="30" type="number" min="1" max="9" enabled="false" horzTextAlign="center" field="Treina3d10"/>
									<rectangle left="320" top="385" width="50" height="30" color="black" strokeColor="red" strokeSize="3" />						
									<edit left="320" top="385" width="50" height="30" type="number" min="1" max="18" enabled="false" transparent="true" horzTextAlign="center" field="Treina1d20"/>
									<label left="60" top="420" width="100" height="30" fontFamily="Nyala" fontSize="18" text="Rank do Jutsu"/>
									<comboBox name="cmbRakporAprendizado" left="160" top="420" width="50" height="30" fontFamily="Nyala" fontSize="18" field="RankPorAprender" items="{'E', 'D', 'C', 'B', 'A', 'S', 'SS', 'X','X+'}"/>
									<button name="btnAprender" left="60" top="385" width="70" height="30" fontFamily="Nyala" fontSize="16" text="Aprender" onClick="AprenderJutsu()"/>
									<script>
										<![CDATA[
										function AprenderJutsu()							
											local node = self.dsbListadeTreino.node;										
											self.btnAprender.visible = false;							
											local mesaDoPersonagem = rrpg.getMesaDe(sheet);											
											node.Treina1d10 = tonumber(node.Dificuldade1d10DoJutsu1) + (tonumber(sheet.Bonus1d10) or 0);
											node.Treina2d10 = tonumber(node.Dificuldade2d10DoJutsu1) + (tonumber(sheet.Bonus2d10) or 0);
											node.Treina3d10 = tonumber(node.Dificuldade3d10DoJutsu1) + (tonumber(sheet.Bonus3d10) or 0);
											node.Treina1d20 = tonumber(node.Dificuldade1d20DoJutsu1) + (tonumber(sheet.Bonus1d20) or 0);	
											
											if sheet.TreinoON == true then	
												mesaDoPersonagem.chat:rolarDados("1d10", "[¬ßK3]Fortificamento de Jutsu",
												function (rolado)
												if node.DescriTreinandoJutsu == nil then
													showMessage('Falta Descri√ß√£o do Jutsu ou n√£o ir√° funcionar');
													self.btnAprender.visible = true;
												else 
													mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3]".. node.DescriTreinandoJutsu);										
														if node.Treina1d10 >= rolado.resultado then
															mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3] Sucesso");
															mesaDoPersonagem.chat:rolarDados("1d10", "[¬ßK3]Segunda Tentativa",
															function (rolado)	
																if node.Treina2d10 >= rolado.resultado then
																	mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3] Sucesso");
																	mesaDoPersonagem.chat:rolarDados("1d10", "[¬ßK3]Terceira Tentativa",
																	function (rolado)
																		if node.Treina3d10 >= rolado.resultado then
																			mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3] Sucesso");
																			mesaDoPersonagem.chat:rolarDados("1d20", "[¬ßK3]Tentativa de Execu√ß√£o Final",
																			function (rolado)
																				if node.Treina1d20 >= rolado.resultado then
																					mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK3] Aprendeu o Jutsu");										
																					mesaDoPersonagem.chat:enviarMensagem("[¬ßI https://ns-rpg.weebly.com/uploads/2/5/1/4/25140777/644651_orig.gif]");
																					node.Dificuldade1d10DoJutsu1Estudo = 0;
																					node.Dificuldade2d10DoJutsu1Estudo = 0;
																					node.Dificuldade3d10DoJutsu1Estudo = 0;
																					node.Dificuldade1d20DoJutsu1Estudo = 0;																			
																					RecebeXPPorAprenderJutsu();
																					self.btnAprender.visible = true;	
																				else 
																					mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK4] Falhou na Ultima");
																					node.Dificuldade1d20DoJutsu1Estudo = (tonumber(node.Dificuldade1d20DoJutsu1Estudo) or 0) + 1;
																					self.btnAprender.visible = true;	
																				end;
																			end);	
																		else
																			mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK4] Falhou na Terceira");
																			node.Dificuldade3d10DoJutsu1Estudo = (tonumber(node.Dificuldade3d10DoJutsu1Estudo) or 0) + 1;
																			self.btnAprender.visible = true;																
																		end;
																	end);
																else
																	mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK4] Falhou na Segunda");
																	node.Dificuldade2d10DoJutsu1Estudo = (tonumber(node.Dificuldade2d10DoJutsu1Estudo) or 0) + 1;
																	self.btnAprender.visible = true;														
																end;												
															end)
														else
															mesaDoPersonagem.chat:enviarMensagem(".. [¬ßK4] Falhou na Primeira");
															node.Dificuldade1d10DoJutsu1Estudo = (tonumber(node.Dificuldade1d10DoJutsu1Estudo) or 0) + 1;
															self.btnAprender.visible = true;
														end;
													end;
												end);
											else
												showMessage("TREINO N√ÉO HABILITADO PROVAVELMENTE O MESTRE ESTA OFFLINE");
												self.btnAprender.visible = true;
											end;
										end;				
										]]>
									</script>
									
									<dataLink fields="{'RankPorAprender', 'GraduacaoTreino', 'Dificuldade1d10DoJutsu1', 'Dificuldade2d10DoJutsu1', 'Dificuldade3d10DoJutsu1', 'Dificuldade1d20DoJutsu1', 
									'Dificuldade1d10DoJutsu1Estudo', 'Dificuldade2d10DoJutsu1Estudo', 'Dificuldade3d10DoJutsu1Estudo', 'Dificuldade1d20DoJutsu1Estudo'}">
										<event name="onChange"> 									
											PreparaDifuculdadeAprenderRankE();
											PreparaDifuculdadeAprenderRankD();
											PreparaDifuculdadeAprenderRankC();
											PreparaDifuculdadeAprenderRankB();
											PreparaDifuculdadeAprenderRankA();
											PreparaDifuculdadeAprenderRankS();
											PreparaDifuculdadeAprenderRankSS();
											PreparaDifuculdadeAprenderRankX();
											PreparaDifuculdadeAprenderRankXPLUS();										
											MonstraProPlayerADificuldadeAprendizado();					
										</event>
									</dataLink>								
								</rectangle>							
							</dataScopeBox>
						</scrollBox>
					</popup> 
=============================================================
=============================================================
=============================================================
========================POP AMIZADE========================== 				
=============================================================
=============================================================
=============================================================					
					<button left="222" top="478" width="146" height="116" opacity="0.1" text="" onClick="self.POPAmizade:show();"/>
					<popup name="POPAmizade" visible="false" left="1" top="40" width="750" height="350">						 
						<scrollBox align="client">		 
							<image left="-5" top="60" width="410" style="stretch" height="250" src="/imagens/imgAmizade.png"/>
							<button text="Nova Amizade"  width="125" height="40" left="70" top="10">
								<event name="onClick">                           
									self.rclNivelAmizade:append();
								</event>
							</button>
							<recordList name="rclNivelAmizade" field="Amizades" templateForm="frmNivelAmizade" width="392" height="220" left="10" top="80" selectable="true">                              
								<event name="onSelect">                  
									local node = self.rclNivelAmizade.selectedNode; 
									self.dsbNivelAmizade.node = node;                       
									self.dsbNivelAmizade.visible = (node ~= nil);
								</event>
							</recordList>       
							<dataScopeBox name="dsbNivelAmizade" visible="false" width="340" height="220" left="402" top="80" >
								<rectangle  color="White" xradius="10" yradius="10" width="340" height="220" left="1" top="1" >
									<image left="1" top="10" width="330" height="200" src="/imagens/Amizade.png"/>
									<label left="144" top="69" width="52" height="20" horzTextAlign="center" fontFamily="Nyala" fontSize="14" text="Nome"/>
									<edit  left="198" top="69" width="100" height="20" horzTextAlign="center" fontColor="black" transparent="true" field="NivelAmizade"/>	
									<button width="80" height="25" left="260" top="0" fontColor="red" text="DELETAR" onClick="NDB.deleteNode(self.dsbNivelAmizade.node);" />	
									<label left="144" top="89" width="52" height="20" horzTextAlign="center" fontFamily="Nyala" fontSize="12" text="Parentesco"/>
									<edit  left="198" top="89" width="100" height="20" horzTextAlign="center" fontColor="black" transparent="true" field="Parentesco"/>								
									<label left="144" top="109" width="52" height="20" horzTextAlign="center" fontFamily="Nyala" fontSize="14" text="Amizade"/>
									<edit  left="198" top="109" width="100" height="20" horzTextAlign="center" fontColor="black" type="number" max="100" transparent="true" field="NVAmizade"/>	
									<label left="144" top="129" width="52" height="20" horzTextAlign="center" fontFamily="Nyala" fontSize="14" text="Extra"/>
									<edit  left="198" top="129" width="100" height="20" horzTextAlign="center" fontColor="black" max="100" transparent="true" field="AmizadeExtra"/>
									<image left="40" top="57" width="89" height="114" editable="true" style="autoFit" field="imgAmizade"/>
								</rectangle>
							</dataScopeBox>
						</scrollBox>
					</popup> 				
				</scrollBox>
			</tab>			
=============================================================
=============================================================
=============================================================
=======================ABA HISTORIA========================== 				
=============================================================
=============================================================
=============================================================			
			<tab title="Historia">
				<scrollBox align="client">
					<image left="1" top="1" width="1000" height="700" src="/imagens/4.png"/>
					<richEdit left="85" top="140" width="440" height="545" backgroundColor="#00000000" defaultFontColor="white" field="Kutchyose"/>	
				</scrollBox>
			</tab>			
======= PRA FECHAR O TAB CONTROLE E SCROLLBOX DO INICIO =====			
		</tabControl>			
	</scrollBox>	
		
	
	
=============================================================
=============================================================
=============================================================
================= COM ALGUNS CALCULOS NO FINAL ============== 				
=============================================================
=============================================================	
=============================================================	
	
	<dataLink field="GraduacaoTreino">
		<event name="onChange">	
			if sheet.Sequenci1 == true then
				sheet.Inteligencia = sheet.Inteligencia + 1;
				sheet.Inteligencia = sheet.Inteligencia - 1;	
			end;
		</event>
	</dataLink>
	
	<dataLink field="Forca">
		<event name="onChange">
			if sheet.Sequenci1 == true then
				if sheet.Forca >= 100000000 then
					sheet.BloqueioReducaoForca = "50 %"
				elseif sheet.Forca >= 10000000 then
					sheet.BloqueioReducaoForca = "45 %"
				elseif sheet.Forca >= 1000000 then
					sheet.BloqueioReducaoForca = "40 %"
				elseif sheet.Forca >= 100000 then
					sheet.BloqueioReducaoForca = "35 %"
				elseif sheet.Forca >= 10000then
					sheet.BloqueioReducaoForca = "30 %"
				elseif sheet.Forca >= 1000 then
					sheet.BloqueioReducaoForca = "25 %"
				else
					sheet.BloqueioReducaoForca = "10 %"
				end;				
			end;
		</event>
	</dataLink>	
</form>